var oh=Object.defineProperty;var ah=(e,t,n)=>t in e?oh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ps=(e,t,n)=>(ah(e,typeof t!="symbol"?t+"":t,n),n);import{_ as sh}from"./lodash-fb661e38.js";import{a as uh}from"./axios-4a70c6fc.js";import{m as Pi}from"./alpinejs-db4ccde5.js";import{m as lh}from"./@alpinejs-0c198d27.js";import{m as ch}from"./@awcodes-00fa6932.js";import"./@vue-45111410.js";import"./focus-trap-ed8de6f5.js";import"./tabbable-5e3a216d.js";window._=sh;window.axios=uh;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var dh=Object.create,Fo=Object.defineProperty,hh=Object.getPrototypeOf,fh=Object.prototype.hasOwnProperty,ph=Object.getOwnPropertyNames,mh=Object.getOwnPropertyDescriptor,gh=e=>Fo(e,"__esModule",{value:!0}),_e=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),vh=(e,t)=>{for(var n in t)Fo(e,n,{get:t[n],enumerable:!0})},Eh=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ph(t))!fh.call(e,i)&&i!=="default"&&Fo(e,i,{get:()=>t[i],enumerable:!(n=mh(t,i))||n.enumerable});return e},Bi=e=>Eh(gh(Fo(e!=null?dh(hh(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),_h=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=i()})(e,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},u=function(h){return(h=+h)+(h>68?1900:2e3)},l=function(h){return function(v){this[h]=+v}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var _=v.match(/([+-]|\d\d)/g),y=60*_[1]+(+_[2]||0);return y===0?0:_[0]==="+"?-y:y}(h)}],f=function(h){var v=a[h];return v&&(v.indexOf?v:v.s.concat(v.f))},d=function(h,v){var _,y=a.meridiem;if(y){for(var g=1;g<=24;g+=1)if(h.indexOf(y(g,0,v))>-1){_=g>12;break}}else _=h===(v?"pm":"PM");return _},p={A:[o,function(h){this.afternoon=d(h,!1)}],a:[o,function(h){this.afternoon=d(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[r,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[s,l("seconds")],ss:[s,l("seconds")],m:[s,l("minutes")],mm:[s,l("minutes")],H:[s,l("hours")],h:[s,l("hours")],HH:[s,l("hours")],hh:[s,l("hours")],D:[s,l("day")],DD:[r,l("day")],Do:[o,function(h){var v=a.ordinal,_=h.match(/\d+/);if(this.day=_[0],v)for(var y=1;y<=31;y+=1)v(y).replace(/\[|\]/g,"")===h&&(this.day=y)}],M:[s,l("month")],MM:[r,l("month")],MMM:[o,function(h){var v=f("months"),_=(f("monthsShort")||v.map(function(y){return y.slice(0,3)})).indexOf(h)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[o,function(h){var v=f("months").indexOf(h)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,l("year")],YY:[r,function(h){this.year=u(h)}],YYYY:[/\d{4}/,l("year")],Z:c,ZZ:c};function m(h){var v,_;v=h,_=a&&a.formats;for(var y=(h=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,R,F){var I=F&&F.toUpperCase();return R||_[F]||n[F]||_[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,x,C){return x||C.slice(1)})})).match(i),g=y.length,E=0;E<g;E+=1){var b=y[E],T=p[b],A=T&&T[0],S=T&&T[1];y[E]=S?{regex:A,parser:S}:b.replace(/^\[|\]$/g,"")}return function(M){for(var R={},F=0,I=0;F<g;F+=1){var w=y[F];if(typeof w=="string")I+=w.length;else{var x=w.regex,C=w.parser,D=M.slice(I),L=x.exec(D)[0];C.call(R,L),M=M.replace(L,"")}}return function(O){var k=O.afternoon;if(k!==void 0){var P=O.hours;k?P<12&&(O.hours+=12):P===12&&(O.hours=0),delete O.afternoon}}(R),R}}return function(h,v,_){_.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(u=h.parseTwoDigitYear);var y=v.prototype,g=y.parse;y.parse=function(E){var b=E.date,T=E.utc,A=E.args;this.$u=T;var S=A[1];if(typeof S=="string"){var M=A[2]===!0,R=A[3]===!0,F=M||R,I=A[2];R&&(I=A[2]),a=this.$locale(),!M&&I&&(a=_.Ls[I]),this.$d=function(D,L,O){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*D);var k=m(L)(D),P=k.year,z=k.month,H=k.day,X=k.hours,j=k.minutes,ue=k.seconds,G=k.milliseconds,J=k.zone,te=new Date,oe=H||(P||z?1:te.getDate()),ie=P||te.getFullYear(),De=0;P&&!z||(De=z>0?z-1:te.getMonth());var Fe=X||0,nt=j||0,it=ue||0,tn=G||0;return J?new Date(Date.UTC(ie,De,oe,Fe,nt,it,tn+60*J.offset*1e3)):O?new Date(Date.UTC(ie,De,oe,Fe,nt,it,tn)):new Date(ie,De,oe,Fe,nt,it,tn)}catch{return new Date("")}}(b,S,T),this.init(),I&&I!==!0&&(this.$L=this.locale(I).$L),F&&b!=this.format(S)&&(this.$d=new Date("")),a={}}else if(S instanceof Array)for(var w=S.length,x=1;x<=w;x+=1){A[1]=S[x-1];var C=_.apply(this,A);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}x===w&&(this.$d=new Date(""))}else g.call(this,E)}}})}),yh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_localeData=i()})(e,function(){return function(n,i,r){var s=i.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},a=function(f,d,p,m,h){var v=f.name?f:f.$locale(),_=o(v[d]),y=o(v[p]),g=_||y.map(function(b){return b.slice(0,m)});if(!h)return g;var E=v.weekStart;return g.map(function(b,T){return g[(T+(E||0))%7]})},u=function(){return r.Ls[r.locale()]},l=function(f,d){return f.formats[d]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,h,v){return h||v.slice(1)})}(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):a(f,"months")},monthsShort:function(d){return d?d.format("MMM"):a(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):a(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):a(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):a(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return l(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return c.bind(this)()},r.localeData=function(){var f=u();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(d){return l(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},r.months=function(){return a(u(),"months")},r.monthsShort=function(){return a(u(),"monthsShort","months",3)},r.weekdays=function(f){return a(u(),"weekdays",null,null,f)},r.weekdaysShort=function(f){return a(u(),"weekdaysShort","weekdays",3,f)},r.weekdaysMin=function(f){return a(u(),"weekdaysMin","weekdays",2,f)}}})}),bh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_timezone=i()})(e,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},i={};return function(r,s,o){var a,u=function(d,p,m){m===void 0&&(m={});var h=new Date(d),v=function(_,y){y===void 0&&(y={});var g=y.timeZoneName||"short",E=_+"|"+g,b=i[E];return b||(b=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:g}),i[E]=b),b}(p,m);return v.formatToParts(h)},l=function(d,p){for(var m=u(d,p),h=[],v=0;v<m.length;v+=1){var _=m[v],y=_.type,g=_.value,E=n[y];E>=0&&(h[E]=parseInt(g,10))}var b=h[3],T=b===24?0:b,A=h[0]+"-"+h[1]+"-"+h[2]+" "+T+":"+h[4]+":"+h[5]+":000",S=+d;return(o.utc(A).valueOf()-(S-=S%1e3))/6e4},c=s.prototype;c.tz=function(d,p){d===void 0&&(d=a);var m=this.utcOffset(),h=this.toDate(),v=h.toLocaleString("en-US",{timeZone:d}),_=Math.round((h-new Date(v))/1e3/60),y=o(v).$set("millisecond",this.$ms).utcOffset(15*-Math.round(h.getTimezoneOffset()/15)-_,!0);if(p){var g=y.utcOffset();y=y.add(m-g,"minute")}return y.$x.$timezone=d,y},c.offsetName=function(d){var p=this.$x.$timezone||o.tz.guess(),m=u(this.valueOf(),p,{timeZoneName:d}).find(function(h){return h.type.toLowerCase()==="timezonename"});return m&&m.value};var f=c.startOf;c.startOf=function(d,p){if(!this.$x||!this.$x.$timezone)return f.call(this,d,p);var m=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return f.call(m,d,p).tz(this.$x.$timezone,!0)},o.tz=function(d,p,m){var h=m&&p,v=m||p||a,_=l(+o(),v);if(typeof d!="string")return o(d).tz(v);var y=function(T,A,S){var M=T-60*A*1e3,R=l(M,S);if(A===R)return[M,A];var F=l(M-=60*(R-A)*1e3,S);return R===F?[M,R]:[T-60*Math.min(R,F)*1e3,Math.max(R,F)]}(o.utc(d,h).valueOf(),_,v),g=y[0],E=y[1],b=o(g).utcOffset(E);return b.$x.$timezone=v,b},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(d){a=d}}})}),Ah=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_utc=i()})(e,function(){var n="minute",i=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(s,o,a){var u=o.prototype;a.utc=function(h){var v={date:h,utc:!0,args:arguments};return new o(v)},u.utc=function(h){var v=a(this.toDate(),{locale:this.$L,utc:!0});return h?v.add(this.utcOffset(),n):v},u.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var l=u.parse;u.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),l.call(this,h)};var c=u.init;u.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else c.call(this)};var f=u.utcOffset;u.utcOffset=function(h,v){var _=this.$utils().u;if(_(h))return this.$u?0:_(this.$offset)?f.call(this):this.$offset;if(typeof h=="string"&&(h=function(b){b===void 0&&(b="");var T=b.match(i);if(!T)return null;var A=(""+T[0]).match(r)||["-",0,0],S=A[0],M=60*+A[1]+ +A[2];return M===0?0:S==="+"?M:-M}(h),h===null))return this;var y=Math.abs(h)<=16?60*h:h,g=this;if(v)return g.$offset=y,g.$u=h===0,g;if(h!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(g=this.local().add(y+E,n)).$offset=y,g.$x.$localOffset=E}else g=this.utc();return g};var d=u.format;u.format=function(h){var v=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,v)},u.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var p=u.toDate;u.toDate=function(h){return h==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=u.diff;u.diff=function(h,v,_){if(h&&this.$u===h.$u)return m.call(this,h,v,_);var y=this.local(),g=a(h).local();return m.call(y,g,v,_)}}})}),Se=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs=i()})(e,function(){var n=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",u="hour",l="day",c="week",f="month",d="quarter",p="year",m="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var x=["th","st","nd","rd"],C=w%100;return"["+w+(x[(C-20)%10]||x[C]||x[0])+"]"}},g=function(w,x,C){var D=String(w);return!D||D.length>=x?w:""+Array(x+1-D.length).join(C)+w},E={s:g,z:function(w){var x=-w.utcOffset(),C=Math.abs(x),D=Math.floor(C/60),L=C%60;return(x<=0?"+":"-")+g(D,2,"0")+":"+g(L,2,"0")},m:function w(x,C){if(x.date()<C.date())return-w(C,x);var D=12*(C.year()-x.year())+(C.month()-x.month()),L=x.clone().add(D,f),O=C-L<0,k=x.clone().add(D+(O?-1:1),f);return+(-(D+(C-L)/(O?L-k:k-L))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:f,y:p,w:c,d:l,D:m,h:u,m:a,s:o,ms:s,Q:d}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},b="en",T={};T[b]=y;var A=function(w){return w instanceof F},S=function w(x,C,D){var L;if(!x)return b;if(typeof x=="string"){var O=x.toLowerCase();T[O]&&(L=O),C&&(T[O]=C,L=O);var k=x.split("-");if(!L&&k.length>1)return w(k[0])}else{var P=x.name;T[P]=x,L=P}return!D&&L&&(b=L),L||!D&&b},M=function(w,x){if(A(w))return w.clone();var C=typeof x=="object"?x:{};return C.date=w,C.args=arguments,new F(C)},R=E;R.l=S,R.i=A,R.w=function(w,x){return M(w,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var F=function(){function w(C){this.$L=S(C.locale,null,!0),this.parse(C)}var x=w.prototype;return x.parse=function(C){this.$d=function(D){var L=D.date,O=D.utc;if(L===null)return new Date(NaN);if(R.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var k=L.match(v);if(k){var P=k[2]-1||0,z=(k[7]||"0").substring(0,3);return O?new Date(Date.UTC(k[1],P,k[3]||1,k[4]||0,k[5]||0,k[6]||0,z)):new Date(k[1],P,k[3]||1,k[4]||0,k[5]||0,k[6]||0,z)}}return new Date(L)}(C),this.$x=C.x||{},this.init()},x.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},x.$utils=function(){return R},x.isValid=function(){return this.$d.toString()!==h},x.isSame=function(C,D){var L=M(C);return this.startOf(D)<=L&&L<=this.endOf(D)},x.isAfter=function(C,D){return M(C)<this.startOf(D)},x.isBefore=function(C,D){return this.endOf(D)<M(C)},x.$g=function(C,D,L){return R.u(C)?this[D]:this.set(L,C)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(C,D){var L=this,O=!!R.u(D)||D,k=R.p(C),P=function(te,oe){var ie=R.w(L.$u?Date.UTC(L.$y,oe,te):new Date(L.$y,oe,te),L);return O?ie:ie.endOf(l)},z=function(te,oe){return R.w(L.toDate()[te].apply(L.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(oe)),L)},H=this.$W,X=this.$M,j=this.$D,ue="set"+(this.$u?"UTC":"");switch(k){case p:return O?P(1,0):P(31,11);case f:return O?P(1,X):P(0,X+1);case c:var G=this.$locale().weekStart||0,J=(H<G?H+7:H)-G;return P(O?j-J:j+(6-J),X);case l:case m:return z(ue+"Hours",0);case u:return z(ue+"Minutes",1);case a:return z(ue+"Seconds",2);case o:return z(ue+"Milliseconds",3);default:return this.clone()}},x.endOf=function(C){return this.startOf(C,!1)},x.$set=function(C,D){var L,O=R.p(C),k="set"+(this.$u?"UTC":""),P=(L={},L[l]=k+"Date",L[m]=k+"Date",L[f]=k+"Month",L[p]=k+"FullYear",L[u]=k+"Hours",L[a]=k+"Minutes",L[o]=k+"Seconds",L[s]=k+"Milliseconds",L)[O],z=O===l?this.$D+(D-this.$W):D;if(O===f||O===p){var H=this.clone().set(m,1);H.$d[P](z),H.init(),this.$d=H.set(m,Math.min(this.$D,H.daysInMonth())).$d}else P&&this.$d[P](z);return this.init(),this},x.set=function(C,D){return this.clone().$set(C,D)},x.get=function(C){return this[R.p(C)]()},x.add=function(C,D){var L,O=this;C=Number(C);var k=R.p(D),P=function(X){var j=M(O);return R.w(j.date(j.date()+Math.round(X*C)),O)};if(k===f)return this.set(f,this.$M+C);if(k===p)return this.set(p,this.$y+C);if(k===l)return P(1);if(k===c)return P(7);var z=(L={},L[a]=i,L[u]=r,L[o]=n,L)[k]||1,H=this.$d.getTime()+C*z;return R.w(H,this)},x.subtract=function(C,D){return this.add(-1*C,D)},x.format=function(C){var D=this,L=this.$locale();if(!this.isValid())return L.invalidDate||h;var O=C||"YYYY-MM-DDTHH:mm:ssZ",k=R.z(this),P=this.$H,z=this.$m,H=this.$M,X=L.weekdays,j=L.months,ue=function(oe,ie,De,Fe){return oe&&(oe[ie]||oe(D,O))||De[ie].slice(0,Fe)},G=function(oe){return R.s(P%12||12,oe,"0")},J=L.meridiem||function(oe,ie,De){var Fe=oe<12?"AM":"PM";return De?Fe.toLowerCase():Fe},te={YY:String(this.$y).slice(-2),YYYY:this.$y,M:H+1,MM:R.s(H+1,2,"0"),MMM:ue(L.monthsShort,H,j,3),MMMM:ue(j,H),D:this.$D,DD:R.s(this.$D,2,"0"),d:String(this.$W),dd:ue(L.weekdaysMin,this.$W,X,2),ddd:ue(L.weekdaysShort,this.$W,X,3),dddd:X[this.$W],H:String(P),HH:R.s(P,2,"0"),h:G(1),hh:G(2),a:J(P,z,!0),A:J(P,z,!1),m:String(z),mm:R.s(z,2,"0"),s:String(this.$s),ss:R.s(this.$s,2,"0"),SSS:R.s(this.$ms,3,"0"),Z:k};return O.replace(_,function(oe,ie){return ie||te[oe]||k.replace(":","")})},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(C,D,L){var O,k=R.p(D),P=M(C),z=(P.utcOffset()-this.utcOffset())*i,H=this-P,X=R.m(this,P);return X=(O={},O[p]=X/12,O[f]=X,O[d]=X/3,O[c]=(H-z)/6048e5,O[l]=(H-z)/864e5,O[u]=H/r,O[a]=H/i,O[o]=H/n,O)[k]||H,L?X:R.a(X)},x.daysInMonth=function(){return this.endOf(f).$D},x.$locale=function(){return T[this.$L]},x.locale=function(C,D){if(!C)return this.$L;var L=this.clone(),O=S(C,D,!0);return O&&(L.$L=O),L},x.clone=function(){return R.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},w}(),I=F.prototype;return M.prototype=I,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",l],["$M",f],["$y",p],["$D",m]].forEach(function(w){I[w[1]]=function(x){return this.$g(x,w[0],w[1])}}),M.extend=function(w,x){return w.$i||(w(x,F,M),w.$i=!0),M},M.locale=S,M.isDayjs=A,M.unix=function(w){return M(1e3*w)},M.en=T[b],M.Ls=T,M.p={},M})}),Th=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_ar=i(n.dayjs)})(e,function(n){function i(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var r=i(n),s="يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),o={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},u={name:"ar",weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),months:s,monthsShort:s,weekStart:6,relativeTime:{future:"بعد %s",past:"منذ %s",s:"ثانية واحدة",m:"دقيقة واحدة",mm:"%d دقائق",h:"ساعة واحدة",hh:"%d ساعات",d:"يوم واحد",dd:"%d أيام",M:"شهر واحد",MM:"%d أشهر",y:"عام واحد",yy:"%d أعوام"},preparse:function(l){return l.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(c){return a[c]}).replace(/،/g,",")},postformat:function(l){return l.replace(/\d/g,function(c){return o[c]}).replace(/,/g,"،")},ordinal:function(l){return l},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return r.default.locale(u,null,!0),u})}),Sh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_bs=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"bs",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),weekStart:1,weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),ordinal:function(o){return o},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"}};return r.default.locale(s,null,!0),s})}),wh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_ca=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"ca",weekdays:"Diumenge_Dilluns_Dimarts_Dimecres_Dijous_Divendres_Dissabte".split("_"),weekdaysShort:"Dg._Dl._Dt._Dc._Dj._Dv._Ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),months:"Gener_Febrer_Març_Abril_Maig_Juny_Juliol_Agost_Setembre_Octubre_Novembre_Desembre".split("_"),monthsShort:"Gen._Febr._Març_Abr._Maig_Juny_Jul._Ag._Set._Oct._Nov._Des.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",ll:"D MMM YYYY",lll:"D MMM YYYY, H:mm",llll:"ddd D MMM YYYY, H:mm"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:function(o){return""+o+(o===1||o===3?"r":o===2?"n":o===4?"t":"è")}};return r.default.locale(s,null,!0),s})}),Dh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_cs=i(n.dayjs)})(e,function(n){function i(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var r=i(n);function s(u){return u>1&&u<5&&~~(u/10)!=1}function o(u,l,c,f){var d=u+" ";switch(c){case"s":return l||f?"pár sekund":"pár sekundami";case"m":return l?"minuta":f?"minutu":"minutou";case"mm":return l||f?d+(s(u)?"minuty":"minut"):d+"minutami";case"h":return l?"hodina":f?"hodinu":"hodinou";case"hh":return l||f?d+(s(u)?"hodiny":"hodin"):d+"hodinami";case"d":return l||f?"den":"dnem";case"dd":return l||f?d+(s(u)?"dny":"dní"):d+"dny";case"M":return l||f?"měsíc":"měsícem";case"MM":return l||f?d+(s(u)?"měsíce":"měsíců"):d+"měsíci";case"y":return l||f?"rok":"rokem";case"yy":return l||f?d+(s(u)?"roky":"let"):d+"lety"}}var a={name:"cs",weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),months:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),monthsShort:"led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(u){return u+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"před %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return r.default.locale(a,null,!0),a})}),xh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_cy=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"cy",weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),weekStart:1,weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"}};return r.default.locale(s,null,!0),s})}),Ch=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_da=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"da",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn._man._tirs._ons._tors._fre._lør.".split("_"),weekdaysMin:"sø._ma._ti._on._to._fr._lø.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,ordinal:function(o){return o+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"}};return r.default.locale(s,null,!0),s})}),Ih=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_de=i(n.dayjs)})(e,function(n){function i(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var r=i(n),s={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(u,l,c){var f=s[c];return Array.isArray(f)&&(f=f[l?0:1]),f.replace("%d",u)}var a={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(u){return u+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return r.default.locale(a,null,!0),a})}),Mh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_en=i()})(e,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var i=["th","st","nd","rd"],r=n%100;return"["+n+(i[(r-20)%10]||i[r]||i[0])+"]"}}})}),Lh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_es=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(o){return o+"º"}};return r.default.locale(s,null,!0),s})}),Rh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_fa=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"fa",weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌_دو_سه‌_چه_پن_جم_شن".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekStart:6,months:"فروردین_اردیبهشت_خرداد_تیر_مرداد_شهریور_مهر_آبان_آذر_دی_بهمن_اسفند".split("_"),monthsShort:"فرو_ارد_خرد_تیر_مرد_شهر_مهر_آبا_آذر_دی_بهم_اسف".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"در %s",past:"%s قبل",s:"چند ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"}};return r.default.locale(s,null,!0),s})}),Fh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_fi=i(n.dayjs)})(e,function(n){function i(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var r=i(n);function s(a,u,l,c){var f={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"päivä",dd:"%d päivää",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_neljä_viisi_kuusi_seitsemän_kahdeksan_yhdeksän".split("_")},d={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"päivän",dd:"%d päivän",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_neljän_viiden_kuuden_seitsemän_kahdeksan_yhdeksän".split("_")},p=c&&!u?d:f,m=p[l];return a<10?m.replace("%d",p.numbers[a]):m.replace("%d",a)}var o={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),ordinal:function(a){return a+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s päästä",past:"%s sitten",s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return r.default.locale(o,null,!0),o})}),Oh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_fr=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(o){return""+o+(o===1?"er":"")}};return r.default.locale(s,null,!0),s})}),kh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_hi=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"hi",weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(o){return o},formats:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"}};return r.default.locale(s,null,!0),s})}),Ph=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_hu=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"hu",weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),ordinal:function(o){return o+"."},weekStart:1,relativeTime:{future:"%s múlva",past:"%s",s:function(o,a,u,l){return"néhány másodperc"+(l||a?"":"e")},m:function(o,a,u,l){return"egy perc"+(l||a?"":"e")},mm:function(o,a,u,l){return o+" perc"+(l||a?"":"e")},h:function(o,a,u,l){return"egy "+(l||a?"óra":"órája")},hh:function(o,a,u,l){return o+" "+(l||a?"óra":"órája")},d:function(o,a,u,l){return"egy "+(l||a?"nap":"napja")},dd:function(o,a,u,l){return o+" "+(l||a?"nap":"napja")},M:function(o,a,u,l){return"egy "+(l||a?"hónap":"hónapja")},MM:function(o,a,u,l){return o+" "+(l||a?"hónap":"hónapja")},y:function(o,a,u,l){return"egy "+(l||a?"év":"éve")},yy:function(o,a,u,l){return o+" "+(l||a?"év":"éve")}},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"}};return r.default.locale(s,null,!0),s})}),Bh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_hy_am=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"hy-am",weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),months:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),weekStart:1,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"}};return r.default.locale(s,null,!0),s})}),Nh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_id=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(o){return o+"."}};return r.default.locale(s,null,!0),s})}),zh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_it=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(o){return o+"º"}};return r.default.locale(s,null,!0),s})}),Yh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_ja=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o){return o+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(o){return o<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return r.default.locale(s,null,!0),s})}),Vh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_ka=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"ka",weekdays:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekStart:1,formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"%s შემდეგ",past:"%s წინ",s:"წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათის",d:"დღეს",dd:"%d დღის განმავლობაში",M:"თვის",MM:"%d თვის",y:"წელი",yy:"%d წლის"},ordinal:function(o){return o}};return r.default.locale(s,null,!0),s})}),Hh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_km=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"km",weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekStart:1,weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"}};return r.default.locale(s,null,!0),s})}),jh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?i(e,Se()):typeof define=="function"&&define.amd?define(["exports","dayjs"],i):i((n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_ku={},n.dayjs)})(e,function(n,i){function r(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var s=r(i),o={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},u=["کانوونی دووەم","شوبات","ئادار","نیسان","ئایار","حوزەیران","تەممووز","ئاب","ئەیلوول","تشرینی یەکەم","تشرینی دووەم","کانوونی یەکەم"],l={name:"ku",months:u,monthsShort:u,weekdays:"یەکشەممە_دووشەممە_سێشەممە_چوارشەممە_پێنجشەممە_هەینی_شەممە".split("_"),weekdaysShort:"یەکشەم_دووشەم_سێشەم_چوارشەم_پێنجشەم_هەینی_شەممە".split("_"),weekStart:6,weekdaysMin:"ی_د_س_چ_پ_هـ_ش".split("_"),preparse:function(c){return c.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(f){return a[f]}).replace(/،/g,",")},postformat:function(c){return c.replace(/\d/g,function(f){return o[f]}).replace(/,/g,"،")},ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiem:function(c){return c<12?"پ.ن":"د.ن"},relativeTime:{future:"لە %s",past:"لەمەوپێش %s",s:"چەند چرکەیەک",m:"یەک خولەک",mm:"%d خولەک",h:"یەک کاتژمێر",hh:"%d کاتژمێر",d:"یەک ڕۆژ",dd:"%d ڕۆژ",M:"یەک مانگ",MM:"%d مانگ",y:"یەک ساڵ",yy:"%d ساڵ"}};s.default.locale(l,null,!0),n.default=l,n.englishToArabicNumbersMap=o,Object.defineProperty(n,"__esModule",{value:!0})})}),Uh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_ms=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"ms",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH.mm",LLLL:"dddd, D MMMM YYYY HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(o){return o+"."}};return r.default.locale(s,null,!0),s})}),$h=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_my=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"my",weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),weekStart:1,weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"}};return r.default.locale(s,null,!0),s})}),Gh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_nl=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(o){return"["+o+(o===1||o===8||o>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return r.default.locale(s,null,!0),s})}),Wh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_pl=i(n.dayjs)})(e,function(n){function i(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var r=i(n);function s(d){return d%10<5&&d%10>1&&~~(d/10)%10!=1}function o(d,p,m){var h=d+" ";switch(m){case"m":return p?"minuta":"minutę";case"mm":return h+(s(d)?"minuty":"minut");case"h":return p?"godzina":"godzinę";case"hh":return h+(s(d)?"godziny":"godzin");case"MM":return h+(s(d)?"miesiące":"miesięcy");case"yy":return h+(s(d)?"lata":"lat")}}var a="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),u="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),l=/D MMMM/,c=function(d,p){return l.test(p)?a[d.month()]:u[d.month()]};c.s=u,c.f=a;var f={name:"pl",weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),months:c,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),ordinal:function(d){return d+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:o,mm:o,h:o,hh:o,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:o,y:"rok",yy:o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return r.default.locale(f,null,!0),f})}),qh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_pt_br=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"pt-br",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(o){return o+"º"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return r.default.locale(s,null,!0),s})}),Kh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_pt=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"pt",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sa".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(o){return o+"º"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return r.default.locale(s,null,!0),s})}),Xh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_ro=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"ro",weekdays:"Duminică_Luni_Marți_Miercuri_Joi_Vineri_Sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian._Febr._Mart._Apr._Mai_Iun._Iul._Aug._Sept._Oct._Nov._Dec.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"peste %s",past:"acum %s",s:"câteva secunde",m:"un minut",mm:"%d minute",h:"o oră",hh:"%d ore",d:"o zi",dd:"%d zile",M:"o lună",MM:"%d luni",y:"un an",yy:"%d ani"},ordinal:function(o){return o}};return r.default.locale(s,null,!0),s})}),Jh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_ru=i(n.dayjs)})(e,function(n){function i(m){return m&&typeof m=="object"&&"default"in m?m:{default:m}}var r=i(n),s="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),o="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),a="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),u="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),l=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function c(m,h,v){var _,y;return v==="m"?h?"минута":"минуту":m+" "+(_=+m,y={mm:h?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[v].split("_"),_%10==1&&_%100!=11?y[0]:_%10>=2&&_%10<=4&&(_%100<10||_%100>=20)?y[1]:y[2])}var f=function(m,h){return l.test(h)?s[m.month()]:o[m.month()]};f.s=o,f.f=s;var d=function(m,h){return l.test(h)?a[m.month()]:u[m.month()]};d.s=u,d.f=a;var p={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:f,monthsShort:d,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:c,mm:c,h:"час",hh:c,d:"день",dd:c,M:"месяц",MM:c,y:"год",yy:c},ordinal:function(m){return m},meridiem:function(m){return m<4?"ночи":m<12?"утра":m<17?"дня":"вечера"}};return r.default.locale(p,null,!0),p})}),Zh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_sv=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"sv",weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(o){var a=o%10;return"["+o+(a===1||a===2?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"}};return r.default.locale(s,null,!0),s})}),Qh=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_tr=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"tr",weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(o){return o+"."}};return r.default.locale(s,null,!0),s})}),ef=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_uk=i(n.dayjs)})(e,function(n){function i(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var r=i(n),s="січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),o="січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function u(f,d,p){var m,h;return p==="m"?d?"хвилина":"хвилину":p==="h"?d?"година":"годину":f+" "+(m=+f,h={ss:d?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:d?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:d?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[p].split("_"),m%10==1&&m%100!=11?h[0]:m%10>=2&&m%10<=4&&(m%100<10||m%100>=20)?h[1]:h[2])}var l=function(f,d){return a.test(d)?s[f.month()]:o[f.month()]};l.s=o,l.f=s;var c={name:"uk",weekdays:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),weekdaysShort:"ндл_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),months:l,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekStart:1,relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:u,mm:u,h:u,hh:u,d:"день",dd:u,M:"місяць",MM:u,y:"рік",yy:u},ordinal:function(f){return f},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"}};return r.default.locale(c,null,!0),c})}),tf=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_vi=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"vi",weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"}};return r.default.locale(s,null,!0),s})}),nf=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_zh_cn=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,a){return a==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,a){var u=100*o+a;return u<600?"凌晨":u<900?"早上":u<1100?"上午":u<1300?"中午":u<1800?"下午":"晚上"}};return r.default.locale(s,null,!0),s})}),rf=_e((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i(Se()):typeof define=="function"&&define.amd?define(["dayjs"],i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_zh_tw=i(n.dayjs)})(e,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),s={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,a){return a==="W"?o+"週":o+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(o,a){var u=100*o+a;return u<600?"凌晨":u<900?"早上":u<1100?"上午":u<1300?"中午":u<1800?"下午":"晚上"}};return r.default.locale(s,null,!0),s})}),of=_e((e,t)=>{(function(){}).call(e),function(){window.Set==null&&(window.Set=function(){function n(){this.clear()}return n.prototype.clear=function(){return this.values=[]},n.prototype.has=function(i){return this.values.indexOf(i)!==-1},n.prototype.add=function(i){return this.has(i)||this.values.push(i),this},n.prototype.delete=function(i){var r;return(r=this.values.indexOf(i))===-1?!1:(this.values.splice(r,1),!0)},n.prototype.forEach=function(){var i;return(i=this.values).forEach.apply(i,arguments)},n}())}.call(e),function(n){function i(){}function r(h,v){return function(){h.apply(v,arguments)}}function s(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof h!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(h,this)}function o(h,v){for(;h._state===3;)h=h._value;return h._state===0?void h._deferreds.push(v):(h._handled=!0,void p(function(){var _=h._state===1?v.onFulfilled:v.onRejected;if(_===null)return void(h._state===1?a:u)(v.promise,h._value);var y;try{y=_(h._value)}catch(g){return void u(v.promise,g)}a(v.promise,y)}))}function a(h,v){try{if(v===h)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var _=v.then;if(v instanceof s)return h._state=3,h._value=v,void l(h);if(typeof _=="function")return void f(r(_,v),h)}h._state=1,h._value=v,l(h)}catch(y){u(h,y)}}function u(h,v){h._state=2,h._value=v,l(h)}function l(h){h._state===2&&h._deferreds.length===0&&setTimeout(function(){h._handled||m(h._value)},1);for(var v=0,_=h._deferreds.length;_>v;v++)o(h,h._deferreds[v]);h._deferreds=null}function c(h,v,_){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof v=="function"?v:null,this.promise=_}function f(h,v){var _=!1;try{h(function(y){_||(_=!0,a(v,y))},function(y){_||(_=!0,u(v,y))})}catch(y){if(_)return;_=!0,u(v,y)}}var d=setTimeout,p=typeof setImmediate=="function"&&setImmediate||function(h){d(h,1)},m=function(h){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",h)};s.prototype.catch=function(h){return this.then(null,h)},s.prototype.then=function(h,v){var _=new s(i);return o(this,new c(h,v,_)),_},s.all=function(h){var v=Array.prototype.slice.call(h);return new s(function(_,y){function g(T,A){try{if(A&&(typeof A=="object"||typeof A=="function")){var S=A.then;if(typeof S=="function")return void S.call(A,function(M){g(T,M)},y)}v[T]=A,--E===0&&_(v)}catch(M){y(M)}}if(v.length===0)return _([]);for(var E=v.length,b=0;b<v.length;b++)g(b,v[b])})},s.resolve=function(h){return h&&typeof h=="object"&&h.constructor===s?h:new s(function(v){v(h)})},s.reject=function(h){return new s(function(v,_){_(h)})},s.race=function(h){return new s(function(v,_){for(var y=0,g=h.length;g>y;y++)h[y].then(v,_)})},s._setImmediateFn=function(h){p=h},s._setUnhandledRejectionFn=function(h){m=h},typeof t<"u"&&t.exports?t.exports=s:n.Promise||(n.Promise=s)}(e),function(){var n=typeof window.customElements=="object",i=typeof document.registerElement=="function",r=n||i;r||(typeof WeakMap>"u"&&function(){var s=Object.defineProperty,o=Date.now()%1e9,a=function(){this.name="__st"+(1e9*Math.random()>>>0)+(o+++"__")};a.prototype={set:function(u,l){var c=u[this.name];return c&&c[0]===u?c[1]=l:s(u,this.name,{value:[u,l],writable:!0}),this},get:function(u){var l;return(l=u[this.name])&&l[0]===u?l[1]:void 0},delete:function(u){var l=u[this.name];return l&&l[0]===u?(l[0]=l[1]=void 0,!0):!1},has:function(u){var l=u[this.name];return l?l[0]===u:!1}},window.WeakMap=a}(),function(s){function o(w){M.push(w),S||(S=!0,E(u))}function a(w){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(w)||w}function u(){S=!1;var w=M;M=[],w.sort(function(C,D){return C.uid_-D.uid_});var x=!1;w.forEach(function(C){var D=C.takeRecords();l(C),D.length&&(C.callback_(D,C),x=!0)}),x&&u()}function l(w){w.nodes_.forEach(function(x){var C=b.get(x);C&&C.forEach(function(D){D.observer===w&&D.removeTransientObservers()})})}function c(w,x){for(var C=w;C;C=C.parentNode){var D=b.get(C);if(D)for(var L=0;L<D.length;L++){var O=D[L],k=O.options;if(C===w||k.subtree){var P=x(k);P&&O.enqueue(P)}}}}function f(w){this.callback_=w,this.nodes_=[],this.records_=[],this.uid_=++R}function d(w,x){this.type=w,this.target=x,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function p(w){var x=new d(w.type,w.target);return x.addedNodes=w.addedNodes.slice(),x.removedNodes=w.removedNodes.slice(),x.previousSibling=w.previousSibling,x.nextSibling=w.nextSibling,x.attributeName=w.attributeName,x.attributeNamespace=w.attributeNamespace,x.oldValue=w.oldValue,x}function m(w,x){return F=new d(w,x)}function h(w){return I||(I=p(F),I.oldValue=w,I)}function v(){F=I=void 0}function _(w){return w===I||w===F}function y(w,x){return w===x?w:I&&_(w)?I:null}function g(w,x,C){this.observer=w,this.target=x,this.options=C,this.transientObservedNodes=[]}if(!s.JsMutationObserver){var E,b=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))E=setTimeout;else if(window.setImmediate)E=window.setImmediate;else{var T=[],A=String(Math.random());window.addEventListener("message",function(w){if(w.data===A){var x=T;T=[],x.forEach(function(C){C()})}}),E=function(w){T.push(w),window.postMessage(A,"*")}}var S=!1,M=[],R=0;f.prototype={observe:function(w,x){if(w=a(w),!x.childList&&!x.attributes&&!x.characterData||x.attributeOldValue&&!x.attributes||x.attributeFilter&&x.attributeFilter.length&&!x.attributes||x.characterDataOldValue&&!x.characterData)throw new SyntaxError;var C=b.get(w);C||b.set(w,C=[]);for(var D,L=0;L<C.length;L++)if(C[L].observer===this){D=C[L],D.removeListeners(),D.options=x;break}D||(D=new g(this,w,x),C.push(D),this.nodes_.push(w)),D.addListeners()},disconnect:function(){this.nodes_.forEach(function(w){for(var x=b.get(w),C=0;C<x.length;C++){var D=x[C];if(D.observer===this){D.removeListeners(),x.splice(C,1);break}}},this),this.records_=[]},takeRecords:function(){var w=this.records_;return this.records_=[],w}};var F,I;g.prototype={enqueue:function(w){var x=this.observer.records_,C=x.length;if(x.length>0){var D=x[C-1],L=y(D,w);if(L)return void(x[C-1]=L)}else o(this.observer);x[C]=w},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(w){var x=this.options;x.attributes&&w.addEventListener("DOMAttrModified",this,!0),x.characterData&&w.addEventListener("DOMCharacterDataModified",this,!0),x.childList&&w.addEventListener("DOMNodeInserted",this,!0),(x.childList||x.subtree)&&w.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(w){var x=this.options;x.attributes&&w.removeEventListener("DOMAttrModified",this,!0),x.characterData&&w.removeEventListener("DOMCharacterDataModified",this,!0),x.childList&&w.removeEventListener("DOMNodeInserted",this,!0),(x.childList||x.subtree)&&w.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(w){if(w!==this.target){this.addListeners_(w),this.transientObservedNodes.push(w);var x=b.get(w);x||b.set(w,x=[]),x.push(this)}},removeTransientObservers:function(){var w=this.transientObservedNodes;this.transientObservedNodes=[],w.forEach(function(x){this.removeListeners_(x);for(var C=b.get(x),D=0;D<C.length;D++)if(C[D]===this){C.splice(D,1);break}},this)},handleEvent:function(w){switch(w.stopImmediatePropagation(),w.type){case"DOMAttrModified":var x=w.attrName,C=w.relatedNode.namespaceURI,D=w.target,X=new m("attributes",D);X.attributeName=x,X.attributeNamespace=C;var L=w.attrChange===MutationEvent.ADDITION?null:w.prevValue;c(D,function(j){return!j.attributes||j.attributeFilter&&j.attributeFilter.length&&j.attributeFilter.indexOf(x)===-1&&j.attributeFilter.indexOf(C)===-1?void 0:j.attributeOldValue?h(L):X});break;case"DOMCharacterDataModified":var D=w.target,X=m("characterData",D),L=w.prevValue;c(D,function(j){return j.characterData?j.characterDataOldValue?h(L):X:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(w.target);case"DOMNodeInserted":var O,k,P=w.target;w.type==="DOMNodeInserted"?(O=[P],k=[]):(O=[],k=[P]);var z=P.previousSibling,H=P.nextSibling,X=m("childList",w.target.parentNode);X.addedNodes=O,X.removedNodes=k,X.previousSibling=z,X.nextSibling=H,c(w.relatedNode,function(j){return j.childList?X:void 0})}v()}},s.JsMutationObserver=f,s.MutationObserver||(s.MutationObserver=f,f._isPolyfilled=!0)}}(self),function(){if(!window.performance||!window.performance.now){var s=Date.now();window.performance={now:function(){return Date.now()-s}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var c=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return c?function(f){return c(function(){f(performance.now())})}:function(f){return window.setTimeout(f,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(c){clearTimeout(c)}}());var o=function(){var c=document.createEvent("Event");return c.initEvent("foo",!0,!0),c.preventDefault(),c.defaultPrevented}();if(!o){var a=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(a.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var u=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||u&&typeof window.CustomEvent!="function")&&(window.CustomEvent=function(c,f){f=f||{};var d=document.createEvent("CustomEvent");return d.initCustomEvent(c,!!f.bubbles,!!f.cancelable,f.detail),d},window.CustomEvent.prototype=window.Event.prototype),!window.Event||u&&typeof window.Event!="function"){var l=window.Event;window.Event=function(c,f){f=f||{};var d=document.createEvent("Event");return d.initEvent(c,!!f.bubbles,!!f.cancelable),d},window.Event.prototype=l.prototype}}(),window.CustomElements=window.CustomElements||{flags:{}},function(s){var o=s.flags,a=[],u=function(c){a.push(c)},l=function(){a.forEach(function(c){c(s)})};s.addModule=u,s.initializeModules=l,s.hasNative=!!document.registerElement,s.isIE=/Trident/.test(navigator.userAgent),s.useNative=!o.register&&s.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(s){function o(d,p){a(d,function(m){return p(m)?!0:void u(m,p)}),u(d,p)}function a(d,p,m){var h=d.firstElementChild;if(!h)for(h=d.firstChild;h&&h.nodeType!==Node.ELEMENT_NODE;)h=h.nextSibling;for(;h;)p(h,m)!==!0&&a(h,p,m),h=h.nextElementSibling;return null}function u(d,p){for(var m=d.shadowRoot;m;)o(m,p),m=m.olderShadowRoot}function l(d,p){c(d,p,[])}function c(d,p,m){if(d=window.wrap(d),!(m.indexOf(d)>=0)){m.push(d);for(var h,v=d.querySelectorAll("link[rel="+f+"]"),_=0,y=v.length;y>_&&(h=v[_]);_++)h.import&&c(h.import,p,m);p(d)}}var f=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";s.forDocumentTree=l,s.forSubtree=o}),window.CustomElements.addModule(function(s){function o(C,D){return a(C,D)||u(C,D)}function a(C,D){return s.upgrade(C,D)?!0:void(D&&f(C))}function u(C,D){S(C,function(L){return a(L,D)?!0:void 0})}function l(C){I.push(C),F||(F=!0,setTimeout(c))}function c(){F=!1;for(var C,D=I,L=0,O=D.length;O>L&&(C=D[L]);L++)C();I=[]}function f(C){R?l(function(){d(C)}):d(C)}function d(C){C.__upgraded__&&!C.__attached&&(C.__attached=!0,C.attachedCallback&&C.attachedCallback())}function p(C){m(C),S(C,function(D){m(D)})}function m(C){R?l(function(){h(C)}):h(C)}function h(C){C.__upgraded__&&C.__attached&&(C.__attached=!1,C.detachedCallback&&C.detachedCallback())}function v(C){for(var D=C,L=window.wrap(document);D;){if(D==L)return!0;D=D.parentNode||D.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&D.host}}function _(C){if(C.shadowRoot&&!C.shadowRoot.__watched){A.dom&&console.log("watching shadow-root for: ",C.localName);for(var D=C.shadowRoot;D;)E(D),D=D.olderShadowRoot}}function y(C,D){if(A.dom){var L=D[0];if(L&&L.type==="childList"&&L.addedNodes&&L.addedNodes){for(var O=L.addedNodes[0];O&&O!==document&&!O.host;)O=O.parentNode;var k=O&&(O.URL||O._URL||O.host&&O.host.localName)||"";k=k.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",D.length,k||"")}var P=v(C);D.forEach(function(z){z.type==="childList"&&(w(z.addedNodes,function(H){H.localName&&o(H,P)}),w(z.removedNodes,function(H){H.localName&&p(H)}))}),A.dom&&console.groupEnd()}function g(C){for(C=window.wrap(C),C||(C=window.wrap(document));C.parentNode;)C=C.parentNode;var D=C.__observer;D&&(y(C,D.takeRecords()),c())}function E(C){if(!C.__observer){var D=new MutationObserver(y.bind(this,C));D.observe(C,{childList:!0,subtree:!0}),C.__observer=D}}function b(C){C=window.wrap(C),A.dom&&console.group("upgradeDocument: ",C.baseURI.split("/").pop());var D=C===window.wrap(document);o(C,D),E(C),A.dom&&console.groupEnd()}function T(C){M(C,b)}var A=s.flags,S=s.forSubtree,M=s.forDocumentTree,R=window.MutationObserver._isPolyfilled&&A["throttle-attached"];s.hasPolyfillMutations=R,s.hasThrottledAttached=R;var F=!1,I=[],w=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Element.prototype.createShadowRoot;x&&(Element.prototype.createShadowRoot=function(){var C=x.call(this);return window.CustomElements.watchShadow(this),C}),s.watchShadow=_,s.upgradeDocumentTree=T,s.upgradeDocument=b,s.upgradeSubtree=u,s.upgradeAll=o,s.attached=f,s.takeRecords=g}),window.CustomElements.addModule(function(s){function o(d,p){if(d.localName==="template"&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(d),!d.__upgraded__&&d.nodeType===Node.ELEMENT_NODE){var m=d.getAttribute("is"),h=s.getRegisteredDefinition(d.localName)||s.getRegisteredDefinition(m);if(h&&(m&&h.tag==d.localName||!m&&!h.extends))return a(d,h,p)}}function a(d,p,m){return f.upgrade&&console.group("upgrade:",d.localName),p.is&&d.setAttribute("is",p.is),u(d,p),d.__upgraded__=!0,c(d),m&&s.attached(d),s.upgradeSubtree(d,m),f.upgrade&&console.groupEnd(),d}function u(d,p){Object.__proto__||l(d,p.prototype,p.native),d.__proto__=p.prototype}function l(d,p,m){for(var h={},v=p;v!==m&&v!==HTMLElement.prototype;){for(var _,y=Object.getOwnPropertyNames(v),g=0;_=y[g];g++)h[_]||(Object.defineProperty(d,_,Object.getOwnPropertyDescriptor(v,_)),h[_]=1);v=Object.getPrototypeOf(v)}}function c(d){d.createdCallback&&d.createdCallback()}var f=s.flags;s.upgrade=o,s.upgradeWithDefinition=a,s.implementPrototype=u}),window.CustomElements.addModule(function(s){function o(C,D){var L=D||{};if(!C)throw new Error("document.registerElement: first argument `name` must not be empty");if(C.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(C)+"'.");if(l(C))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(C)+"'. The type name is invalid.");if(m(C))throw new Error("DuplicateDefinitionError: a type with name '"+String(C)+"' is already registered");return L.prototype||(L.prototype=Object.create(HTMLElement.prototype)),L.__name=C.toLowerCase(),L.extends&&(L.extends=L.extends.toLowerCase()),L.lifecycle=L.lifecycle||{},L.ancestry=c(L.extends),f(L),d(L),a(L.prototype),h(L.__name,L),L.ctor=v(L),L.ctor.prototype=L.prototype,L.prototype.constructor=L.ctor,s.ready&&b(document),L.ctor}function a(C){if(!C.setAttribute._polyfilled){var D=C.setAttribute;C.setAttribute=function(O,k){u.call(this,O,k,D)};var L=C.removeAttribute;C.removeAttribute=function(O){u.call(this,O,null,L)},C.setAttribute._polyfilled=!0}}function u(C,D,L){C=C.toLowerCase();var O=this.getAttribute(C);L.apply(this,arguments);var k=this.getAttribute(C);this.attributeChangedCallback&&k!==O&&this.attributeChangedCallback(C,O,k)}function l(C){for(var D=0;D<R.length;D++)if(C===R[D])return!0}function c(C){var D=m(C);return D?c(D.extends).concat([D]):[]}function f(C){for(var D,L=C.extends,O=0;D=C.ancestry[O];O++)L=D.is&&D.tag;C.tag=L||C.__name,L&&(C.is=C.__name)}function d(C){if(!Object.__proto__){var D=HTMLElement.prototype;if(C.is){var L=document.createElement(C.tag);D=Object.getPrototypeOf(L)}for(var O,k=C.prototype,P=!1;k;)k==D&&(P=!0),O=Object.getPrototypeOf(k),O&&(k.__proto__=O),k=O;P||console.warn(C.tag+" prototype not found in prototype chain for "+C.is),C.native=D}}function p(C){return A(w(C.tag),C)}function m(C){return C?F[C.toLowerCase()]:void 0}function h(C,D){F[C]=D}function v(C){return function(){return p(C)}}function _(C,D,L){return C===I?y(D,L):x(C,D)}function y(C,D){C&&(C=C.toLowerCase()),D&&(D=D.toLowerCase());var L=m(D||C);if(L){if(C==L.tag&&D==L.is)return new L.ctor;if(!D&&!L.is)return new L.ctor}var O;return D?(O=y(C),O.setAttribute("is",D),O):(O=w(C),C.indexOf("-")>=0&&S(O,HTMLElement),O)}function g(C,D){var L=C[D];C[D]=function(){var O=L.apply(this,arguments);return T(O),O}}var E,b=(s.isIE,s.upgradeDocumentTree),T=s.upgradeAll,A=s.upgradeWithDefinition,S=s.implementPrototype,M=s.useNative,R=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],F={},I="http://www.w3.org/1999/xhtml",w=document.createElement.bind(document),x=document.createElementNS.bind(document);E=Object.__proto__||M?function(C,D){return C instanceof D}:function(C,D){if(C instanceof D)return!0;for(var L=C;L;){if(L===D.prototype)return!0;L=L.__proto__}return!1},g(Node.prototype,"cloneNode"),g(document,"importNode"),document.registerElement=o,document.createElement=y,document.createElementNS=_,s.registry=F,s.instanceof=E,s.reservedTagList=R,s.getRegisteredDefinition=m,document.register=document.registerElement}),function(s){function o(){c(window.wrap(document)),window.CustomElements.ready=!0;var p=window.requestAnimationFrame||function(m){setTimeout(m,16)};p(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var a=s.useNative,u=s.initializeModules;if(s.isIE,a){var l=function(){};s.watchShadow=l,s.upgrade=l,s.upgradeAll=l,s.upgradeDocumentTree=l,s.upgradeSubtree=l,s.takeRecords=l,s.instanceof=function(p,m){return p instanceof m}}else u();var c=s.upgradeDocumentTree,f=s.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(p){return p}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(p){p.import&&f(wrap(p.import))}),document.readyState==="complete"||s.flags.eager)o();else if(document.readyState!=="interactive"||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var d=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(d,o)}else o()}(window.CustomElements))}.call(e),function(){}.call(e),function(){var n=this;(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\uFEFF",NON_BREAKING_SPACE:" ",OBJECT_REPLACEMENT_CHARACTER:"￼",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var r,s,o,a;if(typeof InputEvent>"u")return!1;for(a=["data","getTargetRanges","inputType"],r=0,s=a.length;s>r;r++)if(o=a[r],!(o in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(n);var i=n.Trix;(function(){(function(){i.BasicObject=function(){function r(){}var s,o,a;return r.proxyMethod=function(u){var l,c,f,d,p;return f=o(u),l=f.name,d=f.toMethod,p=f.toProperty,c=f.optional,this.prototype[l]=function(){var m,h;return m=d!=null?c?typeof this[d]=="function"?this[d]():void 0:this[d]():p!=null?this[p]:void 0,c?(h=m!=null?m[l]:void 0,h!=null?s.call(h,m,arguments):void 0):(h=m[l],s.call(h,m,arguments))}},o=function(u){var l,c;if(!(c=u.match(a)))throw new Error("can't parse @proxyMethod expression: "+u);return l={name:c[4]},c[2]!=null?l.toMethod=c[1]:l.toProperty=c[1],c[3]!=null&&(l.optional=!0),l},s=Function.prototype.apply,a=/^(.+?)(\(\))?(\?)?\.(.+?)$/,r}()}).call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.Object=function(o){function a(){this.id=++u}var u;return r(a,o),u=0,a.fromJSONString=function(l){return this.fromJSON(JSON.parse(l))},a.prototype.hasSameConstructorAs=function(l){return this.constructor===(l!=null?l.constructor:void 0)},a.prototype.isEqualTo=function(l){return this===l},a.prototype.inspect=function(){var l,c,f;return l=function(){var d,p,m;p=(d=this.contentsForInspection())!=null?d:{},m=[];for(c in p)f=p[c],m.push(c+"="+f);return m}.call(this),"#<"+this.constructor.name+":"+this.id+(l.length?" "+l.join(", "):"")+">"},a.prototype.contentsForInspection=function(){},a.prototype.toJSONString=function(){return JSON.stringify(this)},a.prototype.toUTF16String=function(){return i.UTF16String.box(this)},a.prototype.getCacheKey=function(){return this.id.toString()},a}(i.BasicObject)}.call(this),function(){i.extend=function(r){var s,o;for(s in r)o=r[s],this[s]=o;return this}}.call(this),function(){i.extend({defer:function(r){return setTimeout(r,1)}})}.call(this),function(){var r,s;i.extend({normalizeSpaces:function(o){return o.replace(RegExp(""+i.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+i.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(o){return o.replace(/\r\n/g,`
`)},breakableWhitespacePattern:RegExp("[^\\S"+i.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(o){return o.replace(RegExp(""+i.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(o,a){var u,l,c,f;return o=i.UTF16String.box(o),a=i.UTF16String.box(a),a.length<o.length?(l=s(o,a),f=l[0],u=l[1]):(c=s(a,o),u=c[0],f=c[1]),{added:u,removed:f}}}),s=function(o,a){var u,l,c,f,d;return o.isEqualTo(a)?["",""]:(l=r(o,a),f=l.utf16String.length,c=f?(d=l.offset,u=o.codepoints.slice(0,d).concat(o.codepoints.slice(d+f)),r(a,i.UTF16String.fromCodepoints(u))):r(a,o),[l.utf16String.toString(),c.utf16String.toString()])},r=function(o,a){var u,l,c;for(u=0,l=o.length,c=a.length;l>u&&o.charAt(u).isEqualTo(a.charAt(u));)u++;for(;l>u+1&&o.charAt(l-1).isEqualTo(a.charAt(c-1));)l--,c--;return{utf16String:o.slice(u,l),offset:u}}}.call(this),function(){i.extend({copyObject:function(r){var s,o,a;r==null&&(r={}),o={};for(s in r)a=r[s],o[s]=a;return o},objectsAreEqual:function(r,s){var o,a;if(r==null&&(r={}),s==null&&(s={}),Object.keys(r).length!==Object.keys(s).length)return!1;for(o in r)if(a=r[o],a!==s[o])return!1;return!0}})}.call(this),function(){var r=[].slice;i.extend({arraysAreEqual:function(s,o){var a,u,l,c;if(s==null&&(s=[]),o==null&&(o=[]),s.length!==o.length)return!1;for(u=a=0,l=s.length;l>a;u=++a)if(c=s[u],c!==o[u])return!1;return!0},arrayStartsWith:function(s,o){return s==null&&(s=[]),o==null&&(o=[]),i.arraysAreEqual(s.slice(0,o.length),o)},spliceArray:function(){var s,o,a;return o=arguments[0],s=2<=arguments.length?r.call(arguments,1):[],a=o.slice(0),a.splice.apply(a,s),a},summarizeArrayChange:function(s,o){var a,u,l,c,f,d,p,m,h,v,_;for(s==null&&(s=[]),o==null&&(o=[]),a=[],v=[],l=new Set,c=0,p=s.length;p>c;c++)_=s[c],l.add(_);for(u=new Set,f=0,m=o.length;m>f;f++)_=o[f],u.add(_),l.has(_)||a.push(_);for(d=0,h=s.length;h>d;d++)_=s[d],u.has(_)||v.push(_);return{added:a,removed:v}}})}.call(this),function(){var r,s,o,a;r=null,s=null,a=null,o=null,i.extend({getAllAttributeNames:function(){return r??(r=i.getTextAttributeNames().concat(i.getBlockAttributeNames()))},getBlockConfig:function(u){return i.config.blockAttributes[u]},getBlockAttributeNames:function(){return s??(s=Object.keys(i.config.blockAttributes))},getTextConfig:function(u){return i.config.textAttributes[u]},getTextAttributeNames:function(){return a??(a=Object.keys(i.config.textAttributes))},getListAttributeNames:function(){var u,l;return o??(o=function(){var c,f;c=i.config.blockAttributes,f=[];for(u in c)l=c[u].listAttribute,l!=null&&f.push(l);return f}())}})}.call(this),function(){var r,s,o,a,u,l=[].indexOf||function(c){for(var f=0,d=this.length;d>f;f++)if(f in this&&this[f]===c)return f;return-1};r=document.documentElement,s=(o=(a=(u=r.matchesSelector)!=null?u:r.webkitMatchesSelector)!=null?a:r.msMatchesSelector)!=null?o:r.mozMatchesSelector,i.extend({handleEvent:function(c,f){var d,p,m,h,v,_,y,g,E,b,T;return y=f??{},v=y.onElement,h=y.matchingSelector,T=y.withCallback,m=y.inPhase,_=y.preventDefault,E=y.times,d=v??r,g=h,b=m==="capturing",p=function(A){var S;return E!=null&&--E===0&&p.destroy(),S=i.findClosestElementFromNode(A.target,{matchingSelector:g}),S!=null&&(T!=null&&T.call(S,A,S),_)?A.preventDefault():void 0},p.destroy=function(){return d.removeEventListener(c,p,b)},d.addEventListener(c,p,b),p},handleEventOnce:function(c,f){return f==null&&(f={}),f.times=1,i.handleEvent(c,f)},triggerEvent:function(c,f){var d,p,m,h,v,_,y;return y=f??{},_=y.onElement,p=y.bubbles,m=y.cancelable,d=y.attributes,h=_??r,p=p!==!1,m=m!==!1,v=document.createEvent("Events"),v.initEvent(c,p,m),d!=null&&i.extend.call(v,d),h.dispatchEvent(v)},elementMatchesSelector:function(c,f){return(c!=null?c.nodeType:void 0)===1?s.call(c,f):void 0},findClosestElementFromNode:function(c,f){var d,p,m;for(p=f??{},d=p.matchingSelector,m=p.untilNode;c!=null&&c.nodeType!==Node.ELEMENT_NODE;)c=c.parentNode;if(c!=null){if(d==null)return c;if(c.closest&&m==null)return c.closest(d);for(;c&&c!==m;){if(i.elementMatchesSelector(c,d))return c;c=c.parentNode}}},findInnerElement:function(c){for(;c!=null&&c.firstElementChild;)c=c.firstElementChild;return c},innerElementIsActive:function(c){return document.activeElement!==c&&i.elementContainsNode(c,document.activeElement)},elementContainsNode:function(c,f){if(c&&f)for(;f;){if(f===c)return!0;f=f.parentNode}},findNodeFromContainerAndOffset:function(c,f){var d;if(c)return c.nodeType===Node.TEXT_NODE?c:f===0?(d=c.firstChild)!=null?d:c:c.childNodes.item(f-1)},findElementFromContainerAndOffset:function(c,f){var d;return d=i.findNodeFromContainerAndOffset(c,f),i.findClosestElementFromNode(d)},findChildIndexOfNode:function(c){var f;if(c!=null&&c.parentNode){for(f=0;c=c.previousSibling;)f++;return f}},removeNode:function(c){var f;return c!=null&&(f=c.parentNode)!=null?f.removeChild(c):void 0},walkTree:function(c,f){var d,p,m,h,v;return m=f??{},p=m.onlyNodesOfType,h=m.usingFilter,d=m.expandEntityReferences,v=function(){switch(p){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(c,v,h??null,d===!0)},tagName:function(c){var f;return c!=null&&(f=c.tagName)!=null?f.toLowerCase():void 0},makeElement:function(c,f){var d,p,m,h,v,_,y,g,E,b,T,A,S,M;if(f==null&&(f={}),typeof c=="object"?(f=c,c=f.tagName):f={attributes:f},m=document.createElement(c),f.editable!=null&&(f.attributes==null&&(f.attributes={}),f.attributes.contenteditable=f.editable),f.attributes){E=f.attributes;for(_ in E)M=E[_],m.setAttribute(_,M)}if(f.style){b=f.style;for(_ in b)M=b[_],m.style[_]=M}if(f.data){T=f.data;for(_ in T)M=T[_],m.dataset[_]=M}if(f.className)for(A=f.className.split(" "),h=0,y=A.length;y>h;h++)p=A[h],m.classList.add(p);if(f.textContent&&(m.textContent=f.textContent),f.childNodes)for(S=[].concat(f.childNodes),v=0,g=S.length;g>v;v++)d=S[v],m.appendChild(d);return m},getBlockTagNames:function(){var c,f;return i.blockTagNames!=null?i.blockTagNames:i.blockTagNames=function(){var d,p;d=i.config.blockAttributes,p=[];for(c in d)f=d[c].tagName,f&&p.push(f);return p}()},nodeIsBlockContainer:function(c){return i.nodeIsBlockStartComment(c!=null?c.firstChild:void 0)},nodeProbablyIsBlockContainer:function(c){var f,d;return f=i.tagName(c),l.call(i.getBlockTagNames(),f)>=0&&(d=i.tagName(c.firstChild),l.call(i.getBlockTagNames(),d)<0)},nodeIsBlockStart:function(c,f){var d;return d=(f??{strict:!0}).strict,d?i.nodeIsBlockStartComment(c):i.nodeIsBlockStartComment(c)||!i.nodeIsBlockStartComment(c.firstChild)&&i.nodeProbablyIsBlockContainer(c)},nodeIsBlockStartComment:function(c){return i.nodeIsCommentNode(c)&&(c!=null?c.data:void 0)==="block"},nodeIsCommentNode:function(c){return(c!=null?c.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(c,f){var d;return d=(f??{}).name,c?i.nodeIsTextNode(c)?c.data===i.ZERO_WIDTH_SPACE?d?c.parentNode.dataset.trixCursorTarget===d:!0:void 0:i.nodeIsCursorTarget(c.firstChild):void 0},nodeIsAttachmentElement:function(c){return i.elementMatchesSelector(c,i.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(c){return i.nodeIsTextNode(c)&&(c!=null?c.data:void 0)===""},nodeIsTextNode:function(c){return(c!=null?c.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var r,s,o,a,u;r=i.copyObject,a=i.objectsAreEqual,i.extend({normalizeRange:o=function(l){var c;if(l!=null)return Array.isArray(l)||(l=[l,l]),[s(l[0]),s((c=l[1])!=null?c:l[0])]},rangeIsCollapsed:function(l){var c,f,d;if(l!=null)return f=o(l),d=f[0],c=f[1],u(d,c)},rangesAreEqual:function(l,c){var f,d,p,m,h,v;if(l!=null&&c!=null)return p=o(l),d=p[0],f=p[1],m=o(c),v=m[0],h=m[1],u(d,v)&&u(f,h)}}),s=function(l){return typeof l=="number"?l:r(l)},u=function(l,c){return typeof l=="number"?l===c:a(l,c)}}.call(this),function(){var r,s,o,a,u,l,c;i.registerElement=function(f,d){var p,m;return d==null&&(d={}),f=f.toLowerCase(),d=c(d),m=l(d),(p=m.defaultCSS)&&(delete m.defaultCSS,a(p,f)),u(f,m)},a=function(f,d){var p;return p=o(d),p.textContent=f.replace(/%t/g,d)},o=function(f){var d,p;return d=document.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("data-tag-name",f.toLowerCase()),(p=r())&&d.setAttribute("nonce",p),document.head.insertBefore(d,document.head.firstChild),d},r=function(){var f;return(f=s("trix-csp-nonce")||s("csp-nonce"))?f.getAttribute("content"):void 0},s=function(f){return document.head.querySelector("meta[name="+f+"]")},l=function(f){var d,p,m;p={};for(d in f)m=f[d],p[d]=typeof m=="function"?{value:m}:m;return p},c=function(){var f;return f=function(d){var p,m,h,v,_;for(p={},_=["initialize","connect","disconnect"],m=0,v=_.length;v>m;m++)h=_[m],p[h]=d[h],delete d[h];return p},window.customElements?function(d){var p,m,h,v,_;return _=f(d),h=_.initialize,p=_.connect,m=_.disconnect,h&&(v=p,p=function(){return this.initialized||(this.initialized=!0,h.call(this)),v!=null?v.call(this):void 0}),p&&(d.connectedCallback=p),m&&(d.disconnectedCallback=m),d}:function(d){var p,m,h,v;return v=f(d),h=v.initialize,p=v.connect,m=v.disconnect,h&&(d.createdCallback=h),p&&(d.attachedCallback=p),m&&(d.detachedCallback=m),d}}(),u=function(){return window.customElements?function(f,d){var p;return p=function(){return typeof Reflect=="object"?Reflect.construct(HTMLElement,[],p):HTMLElement.apply(this)},Object.setPrototypeOf(p.prototype,HTMLElement.prototype),Object.setPrototypeOf(p,HTMLElement),Object.defineProperties(p.prototype,d),window.customElements.define(f,p),p}:function(f,d){var p,m;return m=Object.create(HTMLElement.prototype,d),p=document.registerElement(f,{prototype:m}),Object.defineProperty(m,"constructor",{value:p}),p}}()}.call(this),function(){var r,s;i.extend({getDOMSelection:function(){var o;return o=window.getSelection(),o.rangeCount>0?o:void 0},getDOMRange:function(){var o,a;return(o=(a=i.getDOMSelection())!=null?a.getRangeAt(0):void 0)&&!r(o)?o:void 0},setDOMRange:function(o){var a;return a=window.getSelection(),a.removeAllRanges(),a.addRange(o),i.selectionChangeObserver.update()}}),r=function(o){return s(o.startContainer)||s(o.endContainer)},s=function(o){return!Object.getPrototypeOf(o)}}.call(this),function(){var r;r={"application/x-trix-feature-detection":"test"},i.extend({dataTransferIsPlainText:function(s){var o,a,u;return u=s.getData("text/plain"),a=s.getData("text/html"),u&&a?(o=new DOMParser().parseFromString(a,"text/html").body,o.textContent===u?!o.querySelector("*"):void 0):u!=null?u.length:void 0},dataTransferIsWritable:function(s){var o,a;if((s!=null?s.setData:void 0)!=null){for(o in r)if(a=r[o],!function(){try{return s.setData(o,a),s.getData(o)===a}catch{}}())return;return!0}},keyEventIsKeyboardCommand:function(){return/Mac|^iP/.test(navigator.platform)?function(s){return s.metaKey}:function(s){return s.ctrlKey}}()})}.call(this),function(){i.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:function(){var r,s,o,a;return s=i.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),r=i.makeElement("form"),r.appendChild(s),o=function(){try{return new FormData(r).has(s.dirName)}catch{}}(),a=function(){try{return s.matches(":dir(ltr),:dir(rtl)")}catch{}}(),o?function(u){return s.value=u,new FormData(r).get(s.dirName)}:a?function(u){return s.value=u,s.matches(":dir(rtl)")?"rtl":"ltr"}:function(u){var l;return l=u.trim().charAt(0),i.RTL_PATTERN.test(l)?"rtl":"ltr"}}()})}.call(this),function(){}.call(this),function(){var r,s=function(a,u){function l(){this.constructor=a}for(var c in u)o.call(u,c)&&(a[c]=u[c]);return l.prototype=u.prototype,a.prototype=new l,a.__super__=u.prototype,a},o={}.hasOwnProperty;r=i.arraysAreEqual,i.Hash=function(a){function u(m){m==null&&(m={}),this.values=c(m),u.__super__.constructor.apply(this,arguments)}var l,c,f,d,p;return s(u,a),u.fromCommonAttributesOfObjects=function(m){var h,v,_,y,g,E;if(m==null&&(m=[]),!m.length)return new this;for(h=l(m[0]),_=h.getKeys(),E=m.slice(1),v=0,y=E.length;y>v;v++)g=E[v],_=h.getKeysCommonToHash(l(g)),h=h.slice(_);return h},u.box=function(m){return l(m)},u.prototype.add=function(m,h){return this.merge(d(m,h))},u.prototype.remove=function(m){return new i.Hash(c(this.values,m))},u.prototype.get=function(m){return this.values[m]},u.prototype.has=function(m){return m in this.values},u.prototype.merge=function(m){return new i.Hash(f(this.values,p(m)))},u.prototype.slice=function(m){var h,v,_,y;for(y={},h=0,_=m.length;_>h;h++)v=m[h],this.has(v)&&(y[v]=this.values[v]);return new i.Hash(y)},u.prototype.getKeys=function(){return Object.keys(this.values)},u.prototype.getKeysCommonToHash=function(m){var h,v,_,y,g;for(m=l(m),y=this.getKeys(),g=[],h=0,_=y.length;_>h;h++)v=y[h],this.values[v]===m.values[v]&&g.push(v);return g},u.prototype.isEqualTo=function(m){return r(this.toArray(),l(m).toArray())},u.prototype.isEmpty=function(){return this.getKeys().length===0},u.prototype.toArray=function(){var m,h,v;return(this.array!=null?this.array:this.array=function(){var _;h=[],_=this.values;for(m in _)v=_[m],h.push(m,v);return h}.call(this)).slice(0)},u.prototype.toObject=function(){return c(this.values)},u.prototype.toJSON=function(){return this.toObject()},u.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},d=function(m,h){var v;return v={},v[m]=h,v},f=function(m,h){var v,_,y;_=c(m);for(v in h)y=h[v],_[v]=y;return _},c=function(m,h){var v,_,y,g,E;for(g={},E=Object.keys(m).sort(),v=0,y=E.length;y>v;v++)_=E[v],_!==h&&(g[_]=m[_]);return g},l=function(m){return m instanceof i.Hash?m:new i.Hash(m)},p=function(m){return m instanceof i.Hash?m.values:m},u}(i.Object)}.call(this),function(){i.ObjectGroup=function(){function r(s,o){var a,u;this.objects=s??[],u=o.depth,a=o.asTree,a&&(this.depth=u,this.objects=this.constructor.groupObjects(this.objects,{asTree:a,depth:this.depth+1}))}return r.groupObjects=function(s,o){var a,u,l,c,f,d,p,m,h;for(s==null&&(s=[]),h=o??{},l=h.depth,a=h.asTree,a&&l==null&&(l=0),m=[],f=0,d=s.length;d>f;f++){if(p=s[f],c){if(typeof p.canBeGrouped=="function"&&p.canBeGrouped(l)&&(typeof(u=c[c.length-1]).canBeGroupedWith=="function"&&u.canBeGroupedWith(p,l))){c.push(p);continue}m.push(new this(c,{depth:l,asTree:a})),c=null}typeof p.canBeGrouped=="function"&&p.canBeGrouped(l)?c=[p]:m.push(p)}return c&&m.push(new this(c,{depth:l,asTree:a})),m},r.prototype.getObjects=function(){return this.objects},r.prototype.getDepth=function(){return this.depth},r.prototype.getCacheKey=function(){var s,o,a,u,l;for(o=["objectGroup"],l=this.getObjects(),s=0,a=l.length;a>s;s++)u=l[s],o.push(u.getCacheKey());return o.join("/")},r}()}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.ObjectMap=function(o){function a(u){var l,c,f,d,p;for(u==null&&(u=[]),this.objects={},f=0,d=u.length;d>f;f++)p=u[f],c=JSON.stringify(p),(l=this.objects)[c]==null&&(l[c]=p)}return r(a,o),a.prototype.find=function(u){var l;return l=JSON.stringify(u),this.objects[l]},a}(i.BasicObject)}.call(this),function(){i.ElementStore=function(){function r(o){this.reset(o)}var s;return r.prototype.add=function(o){var a;return a=s(o),this.elements[a]=o},r.prototype.remove=function(o){var a,u;return a=s(o),(u=this.elements[a])?(delete this.elements[a],u):void 0},r.prototype.reset=function(o){var a,u,l;for(o==null&&(o=[]),this.elements={},u=0,l=o.length;l>u;u++)a=o[u],this.add(a);return o},s=function(o){return o.dataset.trixStoreKey},r}()}.call(this),function(){}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.Operation=function(o){function a(){return a.__super__.constructor.apply(this,arguments)}return r(a,o),a.prototype.isPerforming=function(){return this.performing===!0},a.prototype.hasPerformed=function(){return this.performed===!0},a.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},a.prototype.hasFailed=function(){return this.performed&&!this.succeeded},a.prototype.getPromise=function(){return this.promise!=null?this.promise:this.promise=new Promise(function(u){return function(l,c){return u.performing=!0,u.perform(function(f,d){return u.succeeded=f,u.performing=!1,u.performed=!0,u.succeeded?l(d):c(d)})}}(this))},a.prototype.perform=function(u){return u(!1)},a.prototype.release=function(){var u;return(u=this.promise)!=null&&typeof u.cancel=="function"&&u.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},a.proxyMethod("getPromise().then"),a.proxyMethod("getPromise().catch"),a}(i.BasicObject)}.call(this),function(){var r,s,o,a,u,l=function(f,d){function p(){this.constructor=f}for(var m in d)c.call(d,m)&&(f[m]=d[m]);return p.prototype=d.prototype,f.prototype=new p,f.__super__=d.prototype,f},c={}.hasOwnProperty;i.UTF16String=function(f){function d(p,m){this.ucs2String=p,this.codepoints=m,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return l(d,f),d.box=function(p){return p==null&&(p=""),p instanceof this?p:this.fromUCS2String(p!=null?p.toString():void 0)},d.fromUCS2String=function(p){return new this(p,a(p))},d.fromCodepoints=function(p){return new this(u(p),p)},d.prototype.offsetToUCS2Offset=function(p){return u(this.codepoints.slice(0,Math.max(0,p))).length},d.prototype.offsetFromUCS2Offset=function(p){return a(this.ucs2String.slice(0,Math.max(0,p))).length},d.prototype.slice=function(){var p;return this.constructor.fromCodepoints((p=this.codepoints).slice.apply(p,arguments))},d.prototype.charAt=function(p){return this.slice(p,p+1)},d.prototype.isEqualTo=function(p){return this.constructor.box(p).ucs2String===this.ucs2String},d.prototype.toJSON=function(){return this.ucs2String},d.prototype.getCacheKey=function(){return this.ucs2String},d.prototype.toString=function(){return this.ucs2String},d}(i.BasicObject),r=(typeof Array.from=="function"?Array.from("👼").length:void 0)===1,s=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,o=(typeof String.fromCodePoint=="function"?String.fromCodePoint(32,128124):void 0)===" 👼",a=r&&s?function(f){return Array.from(f).map(function(d){return d.codePointAt(0)})}:function(f){var d,p,m,h,v;for(h=[],d=0,m=f.length;m>d;)v=f.charCodeAt(d++),v>=55296&&56319>=v&&m>d&&(p=f.charCodeAt(d++),(64512&p)===56320?v=((1023&v)<<10)+(1023&p)+65536:d--),h.push(v);return h},u=o?function(f){return String.fromCodePoint.apply(String,f)}:function(f){var d,p,m;return d=function(){var h,v,_;for(_=[],h=0,v=f.length;v>h;h++)m=f[h],p="",m>65535&&(m-=65536,p+=String.fromCharCode(m>>>10&1023|55296),m=56320|1023&m),_.push(p+String.fromCharCode(m));return _}(),d.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){i.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){i.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var r;i.config.blockAttributes=r={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(s){return i.tagName(s.parentNode)===r[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(s){return i.tagName(s.parentNode)===r[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var r,s;r=i.config.lang,s=[r.bytes,r.KB,r.MB,r.GB,r.TB,r.PB],i.config.fileSize={prefix:"IEC",precision:2,formatter:function(o){var a,u,l,c,f;switch(o){case 0:return"0 "+r.bytes;case 1:return"1 "+r.byte;default:return a=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),u=Math.floor(Math.log(o)/Math.log(a)),l=o/Math.pow(a,u),c=l.toFixed(this.precision),f=c.replace(/0*$/,"").replace(/\.$/,""),f+" "+s[u]}}}}.call(this),function(){i.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(r){var s;return s=window.getComputedStyle(r),s.fontWeight==="bold"||s.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(r){var s;return s=window.getComputedStyle(r),s.fontStyle==="italic"}},href:{groupTagName:"a",parser:function(r){var s,o,a;return s=i.AttachmentView.attachmentSelector,a="a:not("+s+")",(o=i.findClosestElementFromNode(r,{matchingSelector:a}))?o.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var r,s,o,a,u;u="[data-trix-serialize=false]",a=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],s="data-trix-serialized-attributes",o="["+s+"]",r=new RegExp("<!--block-->","g"),i.extend({serializers:{"application/json":function(l){var c;if(l instanceof i.Document)c=l;else{if(!(l instanceof HTMLElement))throw new Error("unserializable object");c=i.Document.fromHTML(l.innerHTML)}return c.toSerializableDocument().toJSONString()},"text/html":function(l){var c,f,d,p,m,h,v,_,y,g,E,b,T,A,S,M,R;if(l instanceof i.Document)p=i.DocumentView.render(l);else{if(!(l instanceof HTMLElement))throw new Error("unserializable object");p=l.cloneNode(!0)}for(A=p.querySelectorAll(u),m=0,y=A.length;y>m;m++)d=A[m],i.removeNode(d);for(h=0,g=a.length;g>h;h++)for(c=a[h],S=p.querySelectorAll("["+c+"]"),v=0,E=S.length;E>v;v++)d=S[v],d.removeAttribute(c);for(M=p.querySelectorAll(o),_=0,b=M.length;b>_;_++){d=M[_];try{f=JSON.parse(d.getAttribute(s)),d.removeAttribute(s);for(T in f)R=f[T],d.setAttribute(T,R)}catch{}}return p.innerHTML.replace(r,"")}},deserializers:{"application/json":function(l){return i.Document.fromJSONString(l)},"text/html":function(l){return i.Document.fromHTML(l)}},serializeToContentType:function(l,c){var f;if(f=i.serializers[c])return f(l);throw new Error("unknown content type: "+c)},deserializeFromContentType:function(l,c){var f;if(f=i.deserializers[c])return f(l);throw new Error("unknown content type: "+c)}})}.call(this),function(){var r;r=i.config.lang,i.config.toolbar={getDefaultHTML:function(){return`<div class="trix-button-row">
  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`+r.bold+'" tabindex="-1">'+r.bold+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`+r.italic+'" tabindex="-1">'+r.italic+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`+r.strike+'" tabindex="-1">'+r.strike+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`+r.link+'" tabindex="-1">'+r.link+`</button>
  </span>

  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`+r.heading1+'" tabindex="-1">'+r.heading1+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`+r.quote+'" tabindex="-1">'+r.quote+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`+r.code+'" tabindex="-1">'+r.code+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`+r.bullets+'" tabindex="-1">'+r.bullets+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`+r.numbers+'" tabindex="-1">'+r.numbers+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`+r.outdent+'" tabindex="-1">'+r.outdent+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`+r.indent+'" tabindex="-1">'+r.indent+`</button>
  </span>

  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`+r.attachFiles+'" tabindex="-1">'+r.attachFiles+`</button>
  </span>

  <span class="trix-button-group-spacer"></span>

  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`+r.undo+'" tabindex="-1">'+r.undo+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`+r.redo+'" tabindex="-1">'+r.redo+`</button>
  </span>
</div>

<div class="trix-dialogs" data-trix-dialogs>
  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
    <div class="trix-dialog__link-fields">
      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`+r.urlPlaceholder+'" aria-label="'+r.url+`" required data-trix-input>
      <div class="trix-button-group">
        <input type="button" class="trix-button trix-button--dialog" value="`+r.link+`" data-trix-method="setAttribute">
        <input type="button" class="trix-button trix-button--dialog" value="`+r.unlink+`" data-trix-method="removeAttribute">
      </div>
    </div>
  </div>
</div>`}}}.call(this),function(){i.config.undoInterval=5e3}.call(this),function(){i.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){i.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){i.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&i.browser.supportsInputEvents?2:0},pickFiles:function(r){var s;return s=i.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId}),s.addEventListener("change",function(){return r(s.files),i.removeNode(s)}),i.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(s),s.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){i.registerElement("trix-toolbar",{defaultCSS:`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`,initialize:function(){return this.innerHTML===""?this.innerHTML=i.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var r=function(a,u){function l(){this.constructor=a}for(var c in u)s.call(u,c)&&(a[c]=u[c]);return l.prototype=u.prototype,a.prototype=new l,a.__super__=u.prototype,a},s={}.hasOwnProperty,o=[].indexOf||function(a){for(var u=0,l=this.length;l>u;u++)if(u in this&&this[u]===a)return u;return-1};i.ObjectView=function(a){function u(l,c){this.object=l,this.options=c??{},this.childViews=[],this.rootView=this}return r(u,a),u.prototype.getNodes=function(){var l,c,f,d,p;for(this.nodes==null&&(this.nodes=this.createNodes()),d=this.nodes,p=[],l=0,c=d.length;c>l;l++)f=d[l],p.push(f.cloneNode(!0));return p},u.prototype.invalidate=function(){var l;return this.nodes=null,this.childViews=[],(l=this.parentView)!=null?l.invalidate():void 0},u.prototype.invalidateViewForObject=function(l){var c;return(c=this.findViewForObject(l))!=null?c.invalidate():void 0},u.prototype.findOrCreateCachedChildView=function(l,c){var f;return(f=this.getCachedViewForObject(c))?this.recordChildView(f):(f=this.createChildView.apply(this,arguments),this.cacheViewForObject(f,c)),f},u.prototype.createChildView=function(l,c,f){var d;return f==null&&(f={}),c instanceof i.ObjectGroup&&(f.viewClass=l,l=i.ObjectGroupView),d=new l(c,f),this.recordChildView(d)},u.prototype.recordChildView=function(l){return l.parentView=this,l.rootView=this.rootView,this.childViews.push(l),l},u.prototype.getAllChildViews=function(){var l,c,f,d,p;for(p=[],d=this.childViews,c=0,f=d.length;f>c;c++)l=d[c],p.push(l),p=p.concat(l.getAllChildViews());return p},u.prototype.findElement=function(){return this.findElementForObject(this.object)},u.prototype.findElementForObject=function(l){var c;return(c=l!=null?l.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+c+"']"):void 0},u.prototype.findViewForObject=function(l){var c,f,d,p;for(d=this.getAllChildViews(),c=0,f=d.length;f>c;c++)if(p=d[c],p.object===l)return p},u.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?this.viewCache!=null?this.viewCache:this.viewCache={}:void 0},u.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},u.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},u.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},u.prototype.getCachedViewForObject=function(l){var c;return(c=this.getViewCache())!=null?c[l.getCacheKey()]:void 0},u.prototype.cacheViewForObject=function(l,c){var f;return(f=this.getViewCache())!=null?f[c.getCacheKey()]=l:void 0},u.prototype.garbageCollectCachedViews=function(){var l,c,f,d,p,m;if(l=this.getViewCache()){m=this.getAllChildViews().concat(this),f=function(){var h,v,_;for(_=[],h=0,v=m.length;v>h;h++)p=m[h],_.push(p.object.getCacheKey());return _}(),d=[];for(c in l)o.call(f,c)<0&&d.push(delete l[c]);return d}},u}(i.BasicObject)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.ObjectGroupView=function(o){function a(){a.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return r(a,o),a.prototype.getChildViews=function(){var u,l,c,f;if(!this.childViews.length)for(f=this.objectGroup.getObjects(),u=0,l=f.length;l>u;u++)c=f[u],this.findOrCreateCachedChildView(this.viewClass,c,this.options);return this.childViews},a.prototype.createNodes=function(){var u,l,c,f,d,p,m,h,v;for(u=this.createContainerElement(),m=this.getChildViews(),l=0,f=m.length;f>l;l++)for(v=m[l],h=v.getNodes(),c=0,d=h.length;d>c;c++)p=h[c],u.appendChild(p);return[u]},a.prototype.createContainerElement=function(u){return u==null&&(u=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(u)},a}(i.ObjectView)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.Controller=function(o){function a(){return a.__super__.constructor.apply(this,arguments)}return r(a,o),a}(i.BasicObject)}.call(this),function(){var r,s,o,a,u,l,c=function(m,h){return function(){return m.apply(h,arguments)}},f=function(m,h){function v(){this.constructor=m}for(var _ in h)d.call(h,_)&&(m[_]=h[_]);return v.prototype=h.prototype,m.prototype=new v,m.__super__=h.prototype,m},d={}.hasOwnProperty,p=[].indexOf||function(m){for(var h=0,v=this.length;v>h;h++)if(h in this&&this[h]===m)return h;return-1};r=i.findClosestElementFromNode,o=i.nodeIsEmptyTextNode,s=i.nodeIsBlockStartComment,a=i.normalizeSpaces,u=i.summarizeStringChange,l=i.tagName,i.MutationObserver=function(m){function h(E){this.element=E,this.didMutate=c(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var v,_,y,g;return f(h,m),_="data-trix-mutable",y="["+_+"]",g={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},h.prototype.start=function(){return this.reset(),this.observer.observe(this.element,g)},h.prototype.stop=function(){return this.observer.disconnect()},h.prototype.didMutate=function(E){var b,T;return(b=this.mutations).push.apply(b,this.findSignificantMutations(E)),this.mutations.length?((T=this.delegate)!=null&&typeof T.elementDidMutate=="function"&&T.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},h.prototype.reset=function(){return this.mutations=[]},h.prototype.findSignificantMutations=function(E){var b,T,A,S;for(S=[],b=0,T=E.length;T>b;b++)A=E[b],this.mutationIsSignificant(A)&&S.push(A);return S},h.prototype.mutationIsSignificant=function(E){var b,T,A,S;if(this.nodeIsMutable(E.target))return!1;for(S=this.nodesModifiedByMutation(E),b=0,T=S.length;T>b;b++)if(A=S[b],this.nodeIsSignificant(A))return!0;return!1},h.prototype.nodeIsSignificant=function(E){return E!==this.element&&!this.nodeIsMutable(E)&&!o(E)},h.prototype.nodeIsMutable=function(E){return r(E,{matchingSelector:y})},h.prototype.nodesModifiedByMutation=function(E){var b;switch(b=[],E.type){case"attributes":E.attributeName!==_&&b.push(E.target);break;case"characterData":b.push(E.target.parentNode),b.push(E.target);break;case"childList":b.push.apply(b,E.addedNodes),b.push.apply(b,E.removedNodes)}return b},h.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},h.prototype.getTextMutationSummary=function(){var E,b,T,A,S,M,R,F,I,w,x;for(F=this.getTextChangesFromCharacterData(),T=F.additions,S=F.deletions,x=this.getTextChangesFromChildList(),I=x.additions,M=0,R=I.length;R>M;M++)b=I[M],p.call(T,b)<0&&T.push(b);return S.push.apply(S,x.deletions),w={},(E=T.join(""))&&(w.textAdded=E),(A=S.join(""))&&(w.textDeleted=A),w},h.prototype.getMutationsByType=function(E){var b,T,A,S,M;for(S=this.mutations,M=[],b=0,T=S.length;T>b;b++)A=S[b],A.type===E&&M.push(A);return M},h.prototype.getTextChangesFromChildList=function(){var E,b,T,A,S,M,R,F,I,w,x;for(E=[],R=[],M=this.getMutationsByType("childList"),b=0,A=M.length;A>b;b++)S=M[b],E.push.apply(E,S.addedNodes),R.push.apply(R,S.removedNodes);return F=E.length===0&&R.length===1&&s(R[0]),F?(w=[],x=[`
`]):(w=v(E),x=v(R)),{additions:function(){var C,D,L;for(L=[],T=C=0,D=w.length;D>C;T=++C)I=w[T],I!==x[T]&&L.push(a(I));return L}(),deletions:function(){var C,D,L;for(L=[],T=C=0,D=x.length;D>C;T=++C)I=x[T],I!==w[T]&&L.push(a(I));return L}()}},h.prototype.getTextChangesFromCharacterData=function(){var E,b,T,A,S,M,R,F;return b=this.getMutationsByType("characterData"),b.length&&(F=b[0],T=b[b.length-1],S=a(F.oldValue),A=a(T.target.data),M=u(S,A),E=M.added,R=M.removed),{additions:E?[E]:[],deletions:R?[R]:[]}},v=function(E){var b,T,A,S;for(E==null&&(E=[]),S=[],b=0,T=E.length;T>b;b++)switch(A=E[b],A.nodeType){case Node.TEXT_NODE:S.push(A.data);break;case Node.ELEMENT_NODE:l(A)==="br"?S.push(`
`):S.push.apply(S,v(A.childNodes))}return S},h}(i.BasicObject)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.FileVerificationOperation=function(o){function a(u){this.file=u}return r(a,o),a.prototype.perform=function(u){var l;return l=new FileReader,l.onerror=function(){return u(!1)},l.onload=function(c){return function(){l.onerror=null;try{l.abort()}catch{}return u(!0,c.file)}}(this),l.readAsArrayBuffer(this.file)},a}(i.Operation)}.call(this),function(){var r,s,o=function(u,l){function c(){this.constructor=u}for(var f in l)a.call(l,f)&&(u[f]=l[f]);return c.prototype=l.prototype,u.prototype=new c,u.__super__=l.prototype,u},a={}.hasOwnProperty;r=i.handleEvent,s=i.innerElementIsActive,i.InputController=function(u){function l(c){var f;this.element=c,this.mutationObserver=new i.MutationObserver(this.element),this.mutationObserver.delegate=this;for(f in this.events)r(f,{onElement:this.element,withCallback:this.handlerFor(f)})}return o(l,u),l.prototype.events={},l.prototype.elementDidMutate=function(){},l.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},l.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},l.prototype.requestRender=function(){var c;return(c=this.delegate)!=null&&typeof c.inputControllerDidRequestRender=="function"?c.inputControllerDidRequestRender():void 0},l.prototype.requestReparse=function(){var c;return(c=this.delegate)!=null&&typeof c.inputControllerDidRequestReparse=="function"&&c.inputControllerDidRequestReparse(),this.requestRender()},l.prototype.attachFiles=function(c){var f,d;return d=function(){var p,m,h;for(h=[],p=0,m=c.length;m>p;p++)f=c[p],h.push(new i.FileVerificationOperation(f));return h}(),Promise.all(d).then(function(p){return function(m){return p.handleInput(function(){var h,v;return(h=this.delegate)!=null&&h.inputControllerWillAttachFiles(),(v=this.responder)!=null&&v.insertFiles(m),this.requestRender()})}}(this))},l.prototype.handlerFor=function(c){return function(f){return function(d){return d.defaultPrevented?void 0:f.handleInput(function(){return s(this.element)?void 0:(this.eventName=c,this.events[c].call(this,d))})}}(this)},l.prototype.handleInput=function(c){var f,d;try{return(f=this.delegate)!=null&&f.inputControllerWillHandleInput(),c.call(this)}finally{(d=this.delegate)!=null&&d.inputControllerDidHandleInput()}},l.prototype.createLinkHTML=function(c,f){var d;return d=document.createElement("a"),d.href=c,d.textContent=f??c,d.outerHTML},l}(i.BasicObject)}.call(this),function(){var r,s,o,a,u,l,c,f,d,p,m,h,v=function(g,E){function b(){this.constructor=g}for(var T in E)_.call(E,T)&&(g[T]=E[T]);return b.prototype=E.prototype,g.prototype=new b,g.__super__=E.prototype,g},_={}.hasOwnProperty,y=[].indexOf||function(g){for(var E=0,b=this.length;b>E;E++)if(E in this&&this[E]===g)return E;return-1};d=i.makeElement,p=i.objectsAreEqual,i.tagName,s=i.browser,c=i.keyEventIsKeyboardCommand,a=i.dataTransferIsWritable,o=i.dataTransferIsPlainText,f=i.config.keyNames,i.Level0InputController=function(g){function E(){E.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var b;return v(E,g),b=0,E.prototype.setInputSummary=function(T){var A,S;T==null&&(T={}),this.inputSummary.eventName=this.eventName;for(A in T)S=T[A],this.inputSummary[A]=S;return this.inputSummary},E.prototype.resetInputSummary=function(){return this.inputSummary={}},E.prototype.reset=function(){return this.resetInputSummary(),i.selectionChangeObserver.reset()},E.prototype.elementDidMutate=function(T){var A;return this.isComposing()?(A=this.delegate)!=null&&typeof A.inputControllerDidAllowUnhandledInput=="function"?A.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(T)&&(this.mutationIsExpected(T)?this.requestRender():this.requestReparse()),this.reset()})},E.prototype.mutationIsExpected=function(T){var A,S,M,R,F,I,w,x,C,D;return w=T.textAdded,x=T.textDeleted,this.inputSummary.preferDocument?!0:(A=w!=null?w===this.inputSummary.textAdded:!this.inputSummary.textAdded,S=x!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,C=(w===`
`||w===` 
`)&&!A,D=x===`
`&&!S,I=C&&!D||D&&!C,I&&(R=this.getSelectedRange())&&(M=C?w.replace(/\n$/,"").length||-1:(w!=null?w.length:void 0)||1,(F=this.responder)!=null?F.positionIsBlockBreak(R[1]+M):void 0)?!0:A&&S)},E.prototype.mutationIsSignificant=function(T){var A,S,M;return M=Object.keys(T).length>0,A=((S=this.compositionInput)!=null?S.getEndData():void 0)==="",M||!A},E.prototype.events={keydown:function(T){var A,S,M,R,F,I,w,x,C;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,R=f[T.keyCode]){for(S=this.keys,x=["ctrl","alt","shift","meta"],M=0,I=x.length;I>M;M++)w=x[M],T[w+"Key"]&&(w==="ctrl"&&(w="control"),S=S!=null?S[w]:void 0);(S!=null?S[R]:void 0)!=null&&(this.setInputSummary({keyName:R}),i.selectionChangeObserver.reset(),S[R].call(this,T))}return c(T)&&(A=String.fromCharCode(T.keyCode).toLowerCase())&&(F=function(){var D,L,O,k;for(O=["alt","shift"],k=[],D=0,L=O.length;L>D;D++)w=O[D],T[w+"Key"]&&k.push(w);return k}(),F.push(A),(C=this.delegate)!=null?C.inputControllerDidReceiveKeyboardCommand(F):void 0)?T.preventDefault():void 0},keypress:function(T){var A,S,M;if(this.inputSummary.eventName==null&&!T.metaKey&&(!T.ctrlKey||T.altKey))return(M=h(T))?((A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),(S=this.responder)!=null&&S.insertString(M),this.setInputSummary({textAdded:M,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(T){var A,S,M,R;return A=T.data,R=this.inputSummary.textAdded,R&&R!==A&&R.toUpperCase()===A?(S=this.getSelectedRange(),this.setSelectedRange([S[0],S[1]+R.length]),(M=this.responder)!=null&&M.insertString(A),this.setInputSummary({textAdded:A}),this.setSelectedRange(S)):void 0},dragenter:function(T){return T.preventDefault()},dragstart:function(T){var A;return T.target,this.serializeSelectionToDataTransfer(T.dataTransfer),this.draggedRange=this.getSelectedRange(),(A=this.delegate)!=null&&typeof A.inputControllerDidStartDrag=="function"?A.inputControllerDidStartDrag():void 0},dragover:function(T){var A,S;return!this.draggedRange&&!this.canAcceptDataTransfer(T.dataTransfer)||(T.preventDefault(),A={x:T.clientX,y:T.clientY},p(A,this.draggingPoint))?void 0:(this.draggingPoint=A,(S=this.delegate)!=null&&typeof S.inputControllerDidReceiveDragOverPoint=="function"?S.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var T;return(T=this.delegate)!=null&&typeof T.inputControllerDidCancelDrag=="function"&&T.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(T){var A,S,M,R,F,I,w,x,C;return T.preventDefault(),M=(F=T.dataTransfer)!=null?F.files:void 0,R={x:T.clientX,y:T.clientY},(I=this.responder)!=null&&I.setLocationRangeFromPointRange(R),M!=null&&M.length?this.attachFiles(M):this.draggedRange?((w=this.delegate)!=null&&w.inputControllerWillMoveText(),(x=this.responder)!=null&&x.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(S=T.dataTransfer.getData("application/x-trix-document"))&&(A=i.Document.fromJSONString(S),(C=this.responder)!=null&&C.insertDocument(A),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(T){var A,S;return(A=this.responder)!=null&&A.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(T.clipboardData)&&T.preventDefault(),(S=this.delegate)!=null&&S.inputControllerWillCutText(),this.deleteInDirection("backward"),T.defaultPrevented)?this.requestRender():void 0},copy:function(T){var A;return(A=this.responder)!=null&&A.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(T.clipboardData)?T.preventDefault():void 0},paste:function(T){var A,S,M,R,F,I,w,x,C,D,L,O,k,P,z,H,X,j,ue,G,J,te,oe;return A=(x=T.clipboardData)!=null?x:T.testClipboardData,w={clipboard:A},A==null||m(T)?void this.getPastedHTMLUsingHiddenElement(function(ie){return function(De){var Fe,nt,it;return w.type="text/html",w.html=De,(Fe=ie.delegate)!=null&&Fe.inputControllerWillPaste(w),(nt=ie.responder)!=null&&nt.insertHTML(w.html),ie.requestRender(),(it=ie.delegate)!=null?it.inputControllerDidPaste(w):void 0}}(this)):((R=A.getData("URL"))?(w.type="text/html",oe=(I=A.getData("public.url-name"))?i.squishBreakableWhitespace(I).trim():R,w.html=this.createLinkHTML(R,oe),(C=this.delegate)!=null&&C.inputControllerWillPaste(w),this.setInputSummary({textAdded:oe,didDelete:this.selectionIsExpanded()}),(z=this.responder)!=null&&z.insertHTML(w.html),this.requestRender(),(H=this.delegate)!=null&&H.inputControllerDidPaste(w)):o(A)?(w.type="text/plain",w.string=A.getData("text/plain"),(X=this.delegate)!=null&&X.inputControllerWillPaste(w),this.setInputSummary({textAdded:w.string,didDelete:this.selectionIsExpanded()}),(j=this.responder)!=null&&j.insertString(w.string),this.requestRender(),(ue=this.delegate)!=null&&ue.inputControllerDidPaste(w)):(F=A.getData("text/html"))?(w.type="text/html",w.html=F,(G=this.delegate)!=null&&G.inputControllerWillPaste(w),(J=this.responder)!=null&&J.insertHTML(w.html),this.requestRender(),(te=this.delegate)!=null&&te.inputControllerDidPaste(w)):y.call(A.types,"Files")>=0&&(M=(D=A.items)!=null&&(L=D[0])!=null&&typeof L.getAsFile=="function"?L.getAsFile():void 0)&&(!M.name&&(S=u(M))&&(M.name="pasted-file-"+ ++b+"."+S),w.type="File",w.file=M,(O=this.delegate)!=null&&O.inputControllerWillAttachFiles(),(k=this.responder)!=null&&k.insertFile(w.file),this.requestRender(),(P=this.delegate)!=null&&P.inputControllerDidPaste(w)),T.preventDefault())},compositionstart:function(T){return this.getCompositionInput().start(T.data)},compositionupdate:function(T){return this.getCompositionInput().update(T.data)},compositionend:function(T){return this.getCompositionInput().end(T.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(T){return this.inputSummary.didInput=!0,T.stopPropagation()}},E.prototype.keys={backspace:function(T){var A;return(A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),this.deleteInDirection("backward",T)},delete:function(T){var A;return(A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),this.deleteInDirection("forward",T)},return:function(){var T,A;return this.setInputSummary({preferDocument:!0}),(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),(A=this.responder)!=null?A.insertLineBreak():void 0},tab:function(T){var A,S;return(A=this.responder)!=null&&A.canIncreaseNestingLevel()?((S=this.responder)!=null&&S.increaseNestingLevel(),this.requestRender(),T.preventDefault()):void 0},left:function(T){var A;return this.selectionIsInCursorTarget()?(T.preventDefault(),(A=this.responder)!=null?A.moveCursorInDirection("backward"):void 0):void 0},right:function(T){var A;return this.selectionIsInCursorTarget()?(T.preventDefault(),(A=this.responder)!=null?A.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(T){var A;return(A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),this.deleteInDirection("forward",T)},h:function(T){var A;return(A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),this.deleteInDirection("backward",T)},o:function(T){var A,S;return T.preventDefault(),(A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),(S=this.responder)!=null&&S.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return:function(T){var A,S;return(A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),(S=this.responder)!=null&&S.insertString(`
`),this.requestRender(),T.preventDefault()},tab:function(T){var A,S;return(A=this.responder)!=null&&A.canDecreaseNestingLevel()?((S=this.responder)!=null&&S.decreaseNestingLevel(),this.requestRender(),T.preventDefault()):void 0},left:function(T){return this.selectionIsInCursorTarget()?(T.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(T){return this.selectionIsInCursorTarget()?(T.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var T;return this.setInputSummary({preferDocument:!1}),(T=this.delegate)!=null?T.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var T;return this.setInputSummary({preferDocument:!1}),(T=this.delegate)!=null?T.inputControllerWillPerformTyping():void 0}}},E.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new r(this)},E.prototype.isComposing=function(){return this.compositionInput!=null&&!this.compositionInput.isEnded()},E.prototype.deleteInDirection=function(T,A){var S;return((S=this.responder)!=null?S.deleteInDirection(T):void 0)!==!1?this.setInputSummary({didDelete:!0}):A?(A.preventDefault(),this.requestRender()):void 0},E.prototype.serializeSelectionToDataTransfer=function(T){var A,S;if(a(T))return A=(S=this.responder)!=null?S.getSelectedDocument().toSerializableDocument():void 0,T.setData("application/x-trix-document",JSON.stringify(A)),T.setData("text/html",i.DocumentView.render(A).innerHTML),T.setData("text/plain",A.toString().replace(/\n$/,"")),!0},E.prototype.canAcceptDataTransfer=function(T){var A,S,M,R,F,I;for(I={},R=(M=T!=null?T.types:void 0)!=null?M:[],A=0,S=R.length;S>A;A++)F=R[A],I[F]=!0;return I.Files||I["application/x-trix-document"]||I["text/html"]||I["text/plain"]},E.prototype.getPastedHTMLUsingHiddenElement=function(T){var A,S,M;return S=this.getSelectedRange(),M={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},A=d({style:M,tagName:"div",editable:!0}),document.body.appendChild(A),A.focus(),requestAnimationFrame(function(R){return function(){var F;return F=A.innerHTML,i.removeNode(A),R.setSelectedRange(S),T(F)}}(this))},E.proxyMethod("responder?.getSelectedRange"),E.proxyMethod("responder?.setSelectedRange"),E.proxyMethod("responder?.expandSelectionInDirection"),E.proxyMethod("responder?.selectionIsInCursorTarget"),E.proxyMethod("responder?.selectionIsExpanded"),E}(i.InputController),u=function(g){var E,b;return(E=g.type)!=null&&(b=E.match(/\/(\w+)$/))!=null?b[1]:void 0},l=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,h=function(g){var E;return g.key&&l&&g.key.codePointAt(0)===g.keyCode?g.key:(g.which===null?E=g.keyCode:g.which!==0&&g.charCode!==0&&(E=g.charCode),E!=null&&f[E]!=="escape"?i.UTF16String.fromCodepoints([E]).toString():void 0)},m=function(g){var E,b,T,A,S,M,R,F,I;if(R=g.clipboardData){if(y.call(R.types,"text/html")>=0){for(F=R.types,T=0,M=F.length;M>T;T++)if(I=F[T],E=/^CorePasteboardFlavorType/.test(I),b=/^dyn\./.test(I)&&R.getData(I),E||b)return!0;return!1}return A=y.call(R.types,"com.apple.webarchive")>=0,S=y.call(R.types,"com.apple.flat-rtfd")>=0,A||S}},r=function(g){function E(b){var T;this.inputController=b,T=this.inputController,this.responder=T.responder,this.delegate=T.delegate,this.inputSummary=T.inputSummary,this.data={}}return v(E,g),E.prototype.start=function(b){var T,A;return this.data.start=b,this.isSignificant()?(this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&(T=this.responder)!=null&&T.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(A=this.responder)!=null?A.getSelectedRange():void 0):void 0},E.prototype.update=function(b){var T;return this.data.update=b,this.isSignificant()&&(T=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=T):void 0},E.prototype.end=function(b){var T,A,S,M;return this.data.end=b,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),(A=this.responder)!=null&&A.setSelectedRange(this.range),(S=this.responder)!=null&&S.insertString(this.data.end),(M=this.responder)!=null?M.setSelectedRange(this.range[0]+this.data.end.length):void 0):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},E.prototype.getEndData=function(){return this.data.end},E.prototype.isEnded=function(){return this.getEndData()!=null},E.prototype.isSignificant=function(){return s.composesExistingText?this.inputSummary.didInput:!0},E.prototype.canApplyToDocument=function(){var b,T;return((b=this.data.start)!=null?b.length:void 0)===0&&((T=this.data.end)!=null?T.length:void 0)>0&&this.range!=null},E.proxyMethod("inputController.setInputSummary"),E.proxyMethod("inputController.requestRender"),E.proxyMethod("inputController.requestReparse"),E.proxyMethod("responder?.selectionIsExpanded"),E.proxyMethod("responder?.insertPlaceholder"),E.proxyMethod("responder?.selectPlaceholder"),E.proxyMethod("responder?.forgetPlaceholder"),E}(i.BasicObject)}.call(this),function(){var r,s,o,a=function(f,d){return function(){return f.apply(d,arguments)}},u=function(f,d){function p(){this.constructor=f}for(var m in d)l.call(d,m)&&(f[m]=d[m]);return p.prototype=d.prototype,f.prototype=new p,f.__super__=d.prototype,f},l={}.hasOwnProperty,c=[].indexOf||function(f){for(var d=0,p=this.length;p>d;d++)if(d in this&&this[d]===f)return d;return-1};r=i.dataTransferIsPlainText,s=i.keyEventIsKeyboardCommand,o=i.objectsAreEqual,i.Level2InputController=function(f){function d(){return this.render=a(this.render,this),d.__super__.constructor.apply(this,arguments)}var p,m,h,v,_,y;return u(d,f),d.prototype.elementDidMutate=function(){var g;return this.scheduledRender?this.composing&&(g=this.delegate)!=null&&typeof g.inputControllerDidAllowUnhandledInput=="function"?g.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},d.prototype.scheduleRender=function(){return this.scheduledRender!=null?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},d.prototype.render=function(){var g;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(g=this.delegate)!=null&&g.render(),typeof this.afterRender=="function"&&this.afterRender(),this.afterRender=null},d.prototype.reparse=function(){var g;return(g=this.delegate)!=null?g.reparse():void 0},d.prototype.events={keydown:function(g){var E,b,T,A;if(s(g)){if(E=m(g),(A=this.delegate)!=null?A.inputControllerDidReceiveKeyboardCommand(E):void 0)return g.preventDefault()}else if(T=g.key,g.altKey&&(T+="+Alt"),g.shiftKey&&(T+="+Shift"),b=this.keys[T])return this.withEvent(g,b)},paste:function(g){var E,b,T,A,S,M,R,F,I;return h(g)?(g.preventDefault(),this.attachFiles(g.clipboardData.files)):v(g)?(g.preventDefault(),b={type:"text/plain",string:g.clipboardData.getData("text/plain")},(T=this.delegate)!=null&&T.inputControllerWillPaste(b),(A=this.responder)!=null&&A.insertString(b.string),this.render(),(S=this.delegate)!=null?S.inputControllerDidPaste(b):void 0):(E=(M=g.clipboardData)!=null?M.getData("URL"):void 0)?(g.preventDefault(),b={type:"text/html",html:this.createLinkHTML(E)},(R=this.delegate)!=null&&R.inputControllerWillPaste(b),(F=this.responder)!=null&&F.insertHTML(b.html),this.render(),(I=this.delegate)!=null?I.inputControllerDidPaste(b):void 0):void 0},beforeinput:function(g){var E;return(E=this.inputTypes[g.inputType])?(this.withEvent(g,E),this.scheduleRender()):void 0},input:function(){return i.selectionChangeObserver.reset()},dragstart:function(g){var E,b;return(E=this.responder)!=null&&E.selectionContainsAttachments()?(g.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(b=this.responder)!=null?b.getSelectedRange():void 0,point:_(g)}):void 0},dragenter:function(g){return p(g)?g.preventDefault():void 0},dragover:function(g){var E,b;if(this.dragging){if(g.preventDefault(),E=_(g),!o(E,this.dragging.point))return this.dragging.point=E,(b=this.responder)!=null?b.setLocationRangeFromPointRange(E):void 0}else if(p(g))return g.preventDefault()},drop:function(g){var E,b,T,A;return this.dragging?(g.preventDefault(),(b=this.delegate)!=null&&b.inputControllerWillMoveText(),(T=this.responder)!=null&&T.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):p(g)?(g.preventDefault(),E=_(g),(A=this.responder)!=null&&A.setLocationRangeFromPointRange(E),this.attachFiles(g.dataTransfer.files)):void 0},dragend:function(){var g;return this.dragging?((g=this.responder)!=null&&g.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},d.prototype.keys={ArrowLeft:function(){var g,E;return(g=this.responder)!=null&&g.shouldManageMovingCursorInDirection("backward")?(this.event.preventDefault(),(E=this.responder)!=null?E.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var g,E;return(g=this.responder)!=null&&g.shouldManageMovingCursorInDirection("forward")?(this.event.preventDefault(),(E=this.responder)!=null?E.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var g,E,b;return(g=this.responder)!=null&&g.shouldManageDeletingInDirection("backward")?(this.event.preventDefault(),(E=this.delegate)!=null&&E.inputControllerWillPerformTyping(),(b=this.responder)!=null&&b.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var g,E;return(g=this.responder)!=null&&g.canIncreaseNestingLevel()?(this.event.preventDefault(),(E=this.responder)!=null&&E.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var g,E;return(g=this.responder)!=null&&g.canDecreaseNestingLevel()?(this.event.preventDefault(),(E=this.responder)!=null&&E.decreaseNestingLevel(),this.render()):void 0}},d.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var g;return this.deleteByDragRange=(g=this.responder)!=null?g.getSelectedRange():void 0})},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var g;return(g=this.responder)!=null&&g.canIncreaseNestingLevel()?this.withTargetDOMRange(function(){var E;return(E=this.responder)!=null?E.increaseNestingLevel():void 0}):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var g;return(g=this.responder)!=null&&g.canDecreaseNestingLevel()?this.withTargetDOMRange(function(){var E;return(E=this.responder)!=null?E.decreaseNestingLevel():void 0}):void 0},formatRemove:function(){return this.withTargetDOMRange(function(){var g,E,b,T;T=[];for(g in(E=this.responder)!=null?E.getCurrentAttributes():void 0)T.push((b=this.responder)!=null?b.removeCurrentAttribute(g):void 0);return T})},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var g;return(g=this.delegate)!=null?g.inputControllerWillPerformRedo():void 0},historyUndo:function(){var g;return(g=this.delegate)!=null?g.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var g,E;return(g=this.deleteByDragRange)?(this.deleteByDragRange=null,(E=this.delegate)!=null&&E.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var b;return(b=this.responder)!=null?b.moveTextFromRange(g):void 0})):void 0},insertFromPaste:function(){var g,E,b,T,A,S,M,R,F,I,w;return g=this.event.dataTransfer,A={dataTransfer:g},(E=g.getData("URL"))?(this.event.preventDefault(),A.type="text/html",w=(T=g.getData("public.url-name"))?i.squishBreakableWhitespace(T).trim():E,A.html=this.createLinkHTML(E,w),(S=this.delegate)!=null&&S.inputControllerWillPaste(A),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertHTML(A.html):void 0}),this.afterRender=function(x){return function(){var C;return(C=x.delegate)!=null?C.inputControllerDidPaste(A):void 0}}(this)):r(g)?(A.type="text/plain",A.string=g.getData("text/plain"),(M=this.delegate)!=null&&M.inputControllerWillPaste(A),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertString(A.string):void 0}),this.afterRender=function(x){return function(){var C;return(C=x.delegate)!=null?C.inputControllerDidPaste(A):void 0}}(this)):(b=g.getData("text/html"))?(this.event.preventDefault(),A.type="text/html",A.html=b,(R=this.delegate)!=null&&R.inputControllerWillPaste(A),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertHTML(A.html):void 0}),this.afterRender=function(x){return function(){var C;return(C=x.delegate)!=null?C.inputControllerDidPaste(A):void 0}}(this)):(F=g.files)!=null&&F.length?(A.type="File",A.file=g.files[0],(I=this.delegate)!=null&&I.inputControllerWillPaste(A),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertFile(A.file):void 0}),this.afterRender=function(x){return function(){var C;return(C=x.delegate)!=null?C.inputControllerDidPaste(A):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString(`
`)},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var g;return(g=this.delegate)!=null&&g.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var E;return(E=this.responder)!=null?E.insertLineBreak():void 0})},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var g,E;return this.insertString((g=this.event.data)!=null?g:(E=this.event.dataTransfer)!=null?E.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},d.prototype.insertString=function(g,E){var b;return g==null&&(g=""),(b=this.delegate)!=null&&b.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var T;return(T=this.responder)!=null?T.insertString(g,E):void 0})},d.prototype.toggleAttributeIfSupported=function(g){var E;return c.call(i.getAllAttributeNames(),g)>=0?((E=this.delegate)!=null&&E.inputControllerWillPerformFormatting(g),this.withTargetDOMRange(function(){var b;return(b=this.responder)!=null?b.toggleCurrentAttribute(g):void 0})):void 0},d.prototype.activateAttributeIfSupported=function(g,E){var b;return c.call(i.getAllAttributeNames(),g)>=0?((b=this.delegate)!=null&&b.inputControllerWillPerformFormatting(g),this.withTargetDOMRange(function(){var T;return(T=this.responder)!=null?T.setCurrentAttribute(g,E):void 0})):void 0},d.prototype.deleteInDirection=function(g,E){var b,T,A,S;return A=(E??{recordUndoEntry:!0}).recordUndoEntry,A&&(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),T=function(M){return function(){var R;return(R=M.responder)!=null?R.deleteInDirection(g):void 0}}(this),(b=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(b,T):T()},d.prototype.withTargetDOMRange=function(g,E){var b;return typeof g=="function"&&(E=g,g=this.getTargetDOMRange()),g?(b=this.responder)!=null?b.withTargetDOMRange(g,E.bind(this)):void 0:(i.selectionChangeObserver.reset(),E.call(this))},d.prototype.getTargetDOMRange=function(g){var E,b,T,A;return T=(g??{minLength:0}).minLength,(A=typeof(E=this.event).getTargetRanges=="function"?E.getTargetRanges():void 0)&&A.length&&(b=y(A[0]),T===0||b.toString().length>=T)?b:void 0},y=function(g){var E;return E=document.createRange(),E.setStart(g.startContainer,g.startOffset),E.setEnd(g.endContainer,g.endOffset),E},d.prototype.withEvent=function(g,E){var b;this.event=g;try{b=E.call(this)}finally{this.event=null}return b},p=function(g){var E,b;return c.call((E=(b=g.dataTransfer)!=null?b.types:void 0)!=null?E:[],"Files")>=0},h=function(g){var E;return(E=g.clipboardData)?c.call(E.types,"Files")>=0&&E.types.length===1&&E.files.length>=1:void 0},v=function(g){var E;return(E=g.clipboardData)?c.call(E.types,"text/plain")>=0&&E.types.length===1:void 0},m=function(g){var E;return E=[],g.altKey&&E.push("alt"),g.shiftKey&&E.push("shift"),E.push(g.key),E},_=function(g){return{x:g.clientX,y:g.clientY}},d}(i.InputController)}.call(this),function(){var r,s,o,a,u,l,c,f,d=function(h,v){return function(){return h.apply(v,arguments)}},p=function(h,v){function _(){this.constructor=h}for(var y in v)m.call(v,y)&&(h[y]=v[y]);return _.prototype=v.prototype,h.prototype=new _,h.__super__=v.prototype,h},m={}.hasOwnProperty;s=i.defer,o=i.handleEvent,l=i.makeElement,f=i.tagName,c=i.config,u=c.lang,r=c.css,a=c.keyNames,i.AttachmentEditorController=function(h){function v(y,g,E,b){this.attachmentPiece=y,this.element=g,this.container=E,this.options=b??{},this.didBlurCaption=d(this.didBlurCaption,this),this.didChangeCaption=d(this.didChangeCaption,this),this.didInputCaption=d(this.didInputCaption,this),this.didKeyDownCaption=d(this.didKeyDownCaption,this),this.didClickActionButton=d(this.didClickActionButton,this),this.didClickToolbar=d(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,f(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}var _;return p(v,h),_=function(y){return function(){var g;return g=y.apply(this,arguments),g.do(),this.undos==null&&(this.undos=[]),this.undos.push(g.undo)}},v.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},v.prototype.uninstall=function(){var y,g;for(this.savePendingCaption();g=this.undos.pop();)g();return(y=this.delegate)!=null?y.didUninstallAttachmentEditor(this):void 0},v.prototype.savePendingCaption=function(){var y,g,E;return this.pendingCaption!=null?(y=this.pendingCaption,this.pendingCaption=null,y?(g=this.delegate)!=null&&typeof g.attachmentEditorDidRequestUpdatingAttributesForAttachment=="function"?g.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:y},this.attachment):void 0:(E=this.delegate)!=null&&typeof E.attachmentEditorDidRequestRemovingAttributeForAttachment=="function"?E.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},v.prototype.makeElementMutable=_(function(){return{do:function(y){return function(){return y.element.dataset.trixMutable=!0}}(this),undo:function(y){return function(){return delete y.element.dataset.trixMutable}}(this)}}),v.prototype.addToolbar=_(function(){var y;return y=l({tagName:"div",className:r.attachmentToolbar,data:{trixMutable:!0},childNodes:l({tagName:"div",className:"trix-button-row",childNodes:l({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:l({tagName:"button",className:"trix-button trix-button--remove",textContent:u.remove,attributes:{title:u.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&y.appendChild(l({tagName:"div",className:r.attachmentMetadataContainer,childNodes:l({tagName:"span",className:r.attachmentMetadata,childNodes:[l({tagName:"span",className:r.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),l({tagName:"span",className:r.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),o("click",{onElement:y,withCallback:this.didClickToolbar}),o("click",{onElement:y,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(g){return function(){return g.element.appendChild(y)}}(this),undo:function(){return function(){return i.removeNode(y)}}()}}),v.prototype.installCaptionEditor=_(function(){var y,g,E,b,T;return b=l({tagName:"textarea",className:r.attachmentCaptionEditor,attributes:{placeholder:u.captionPlaceholder},data:{trixMutable:!0}}),b.value=this.attachmentPiece.getCaption(),T=b.cloneNode(),T.classList.add("trix-autoresize-clone"),T.tabIndex=-1,y=function(){return T.value=b.value,b.style.height=T.scrollHeight+"px"},o("input",{onElement:b,withCallback:y}),o("input",{onElement:b,withCallback:this.didInputCaption}),o("keydown",{onElement:b,withCallback:this.didKeyDownCaption}),o("change",{onElement:b,withCallback:this.didChangeCaption}),o("blur",{onElement:b,withCallback:this.didBlurCaption}),E=this.element.querySelector("figcaption"),g=E.cloneNode(),{do:function(A){return function(){return E.style.display="none",g.appendChild(b),g.appendChild(T),g.classList.add(r.attachmentCaption+"--editing"),E.parentElement.insertBefore(g,E),y(),A.options.editCaption?s(function(){return b.focus()}):void 0}}(this),undo:function(){return i.removeNode(g),E.style.display=null}}}),v.prototype.didClickToolbar=function(y){return y.preventDefault(),y.stopPropagation()},v.prototype.didClickActionButton=function(y){var g;switch(y.target.getAttribute("data-trix-action")){case"remove":return(g=this.delegate)!=null?g.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},v.prototype.didKeyDownCaption=function(y){var g;return a[y.keyCode]==="return"?(y.preventDefault(),this.savePendingCaption(),(g=this.delegate)!=null&&typeof g.attachmentEditorDidRequestDeselectingAttachment=="function"?g.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},v.prototype.didInputCaption=function(y){return this.pendingCaption=y.target.value.replace(/\s/g," ").trim()},v.prototype.didChangeCaption=function(){return this.savePendingCaption()},v.prototype.didBlurCaption=function(){return this.savePendingCaption()},v}(i.BasicObject)}.call(this),function(){var r,s,o,a=function(l,c){function f(){this.constructor=l}for(var d in c)u.call(c,d)&&(l[d]=c[d]);return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},u={}.hasOwnProperty;o=i.makeElement,r=i.config.css,i.AttachmentView=function(l){function c(){c.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var f;return a(c,l),c.attachmentSelector="[data-trix-attachment]",c.prototype.createContentNodes=function(){return[]},c.prototype.createNodes=function(){var d,p,m,h,v,_,y;if(d=h=o({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(p=this.getHref())&&(h=o({tagName:"a",editable:!1,attributes:{href:p,tabindex:-1}}),d.appendChild(h)),this.attachment.hasContent())h.innerHTML=this.attachment.getContent();else for(y=this.createContentNodes(),m=0,v=y.length;v>m;m++)_=y[m],h.appendChild(_);return h.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=o({tagName:"progress",attributes:{class:r.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),d.appendChild(this.progressElement)),[f("left"),d,f("right")]},c.prototype.createCaptionElement=function(){var d,p,m,h,v,_,y;return m=o({tagName:"figcaption",className:r.attachmentCaption}),(d=this.attachmentPiece.getCaption())?(m.classList.add(r.attachmentCaption+"--edited"),m.textContent=d):(p=this.getCaptionConfig(),p.name&&(h=this.attachment.getFilename()),p.size&&(_=this.attachment.getFormattedFilesize()),h&&(v=o({tagName:"span",className:r.attachmentName,textContent:h}),m.appendChild(v)),_&&(h&&m.appendChild(document.createTextNode(" ")),y=o({tagName:"span",className:r.attachmentSize,textContent:_}),m.appendChild(y))),m},c.prototype.getClassName=function(){var d,p;return p=[r.attachment,r.attachment+"--"+this.attachment.getType()],(d=this.attachment.getExtension())&&p.push(r.attachment+"--"+d),p.join(" ")},c.prototype.getData=function(){var d,p;return p={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},d=this.attachmentPiece.attributes,d.isEmpty()||(p.trixAttributes=JSON.stringify(d)),this.attachment.isPending()&&(p.trixSerialize=!1),p},c.prototype.getHref=function(){return s(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},c.prototype.getCaptionConfig=function(){var d,p,m;return m=this.attachment.getType(),d=i.copyObject((p=i.config.attachments[m])!=null?p.caption:void 0),m==="file"&&(d.name=!0),d},c.prototype.findProgressElement=function(){var d;return(d=this.findElement())!=null?d.querySelector("progress"):void 0},f=function(d){return o({tagName:"span",textContent:i.ZERO_WIDTH_SPACE,data:{trixCursorTarget:d,trixSerialize:!1}})},c.prototype.attachmentDidChangeUploadProgress=function(){var d,p;return p=this.attachment.getUploadProgress(),(d=this.findProgressElement())!=null?d.value=p:void 0},c}(i.ObjectView),s=function(l,c){var f;return f=o("div"),f.innerHTML=l??"",f.querySelector(c)}}.call(this),function(){var r,s=function(a,u){function l(){this.constructor=a}for(var c in u)o.call(u,c)&&(a[c]=u[c]);return l.prototype=u.prototype,a.prototype=new l,a.__super__=u.prototype,a},o={}.hasOwnProperty;r=i.makeElement,i.PreviewableAttachmentView=function(a){function u(){u.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return s(u,a),u.prototype.createContentNodes=function(){return this.image=r({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},u.prototype.createCaptionElement=function(){var l;return l=u.__super__.createCaptionElement.apply(this,arguments),l.textContent||l.setAttribute("data-trix-placeholder",i.config.lang.captionPlaceholder),l},u.prototype.refresh=function(l){var c;return l==null&&(l=(c=this.findElement())!=null?c.querySelector("img"):void 0),l?this.updateAttributesForImage(l):void 0},u.prototype.updateAttributesForImage=function(l){var c,f,d,p,m,h;return m=this.attachment.getURL(),f=this.attachment.getPreviewURL(),l.src=f||m,f===m?l.removeAttribute("data-trix-serialized-attributes"):(d=JSON.stringify({src:m}),l.setAttribute("data-trix-serialized-attributes",d)),h=this.attachment.getWidth(),c=this.attachment.getHeight(),h!=null&&(l.width=h),c!=null&&(l.height=c),p=["imageElement",this.attachment.id,l.src,l.width,l.height].join("/"),l.dataset.trixStoreKey=p},u.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},u}(i.AttachmentView)}.call(this),function(){var r,s,o,a=function(l,c){function f(){this.constructor=l}for(var d in c)u.call(c,d)&&(l[d]=c[d]);return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},u={}.hasOwnProperty;o=i.makeElement,r=i.findInnerElement,s=i.getTextConfig,i.PieceView=function(l){function c(){var d;c.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),d=this.options,this.textConfig=d.textConfig,this.context=d.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var f;return a(c,l),c.prototype.createNodes=function(){var d,p,m,h,v,_;if(_=this.attachment?this.createAttachmentNodes():this.createStringNodes(),d=this.createElement()){for(m=r(d),p=0,h=_.length;h>p;p++)v=_[p],m.appendChild(v);_=[d]}return _},c.prototype.createAttachmentNodes=function(){var d,p;return d=this.attachment.isPreviewable()?i.PreviewableAttachmentView:i.AttachmentView,p=this.createChildView(d,this.piece.attachment,{piece:this.piece}),p.getNodes()},c.prototype.createStringNodes=function(){var d,p,m,h,v,_,y,g,E;if((y=this.textConfig)!=null&&y.plaintext)return[document.createTextNode(this.string)];for(_=[],g=this.string.split(`
`),m=p=0,h=g.length;h>p;m=++p)E=g[m],m>0&&(d=o("br"),_.push(d)),E.length&&(v=document.createTextNode(this.preserveSpaces(E)),_.push(v));return _},c.prototype.createElement=function(){var d,p,m,h,v,_,y,g,E;g={},_=this.attributes;for(h in _)if(E=_[h],(d=s(h))&&(d.tagName&&(v=o(d.tagName),m?(m.appendChild(v),m=v):p=m=v),d.styleProperty&&(g[d.styleProperty]=E),d.style)){y=d.style;for(h in y)E=y[h],g[h]=E}if(Object.keys(g).length){p==null&&(p=o("span"));for(h in g)E=g[h],p.style[h]=E}return p},c.prototype.createContainerElement=function(){var d,p,m,h,v;h=this.attributes;for(m in h)if(v=h[m],(p=s(m))&&p.groupTagName)return d={},d[m]=v,o(p.groupTagName,d)},f=i.NON_BREAKING_SPACE,c.prototype.preserveSpaces=function(d){return this.context.isLast&&(d=d.replace(/\ $/,f)),d=d.replace(/(\S)\ {3}(\S)/g,"$1 "+f+" $2").replace(/\ {2}/g,f+" ").replace(/\ {2}/g," "+f),(this.context.isFirst||this.context.followsWhitespace)&&(d=d.replace(/^\ /,f)),d},c}(i.ObjectView)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.TextView=function(o){function a(){a.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var u;return r(a,o),a.prototype.createNodes=function(){var l,c,f,d,p,m,h,v,_,y;for(m=[],v=i.ObjectGroup.groupObjects(this.getPieces()),d=v.length-1,f=c=0,p=v.length;p>c;f=++c)h=v[f],l={},f===0&&(l.isFirst=!0),f===d&&(l.isLast=!0),u(_)&&(l.followsWhitespace=!0),y=this.findOrCreateCachedChildView(i.PieceView,h,{textConfig:this.textConfig,context:l}),m.push.apply(m,y.getNodes()),_=h;return m},a.prototype.getPieces=function(){var l,c,f,d,p;for(d=this.text.getPieces(),p=[],l=0,c=d.length;c>l;l++)f=d[l],f.hasAttribute("blockBreak")||p.push(f);return p},u=function(l){return/\s$/.test(l!=null?l.toString():void 0)},a}(i.ObjectView)}.call(this),function(){var r,s,o,a=function(l,c){function f(){this.constructor=l}for(var d in c)u.call(c,d)&&(l[d]=c[d]);return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},u={}.hasOwnProperty;o=i.makeElement,s=i.getBlockConfig,r=i.config.css,i.BlockView=function(l){function c(){c.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return a(c,l),c.prototype.createNodes=function(){var f,d,p,m,h,v,_,y,g,E,b;if(d=document.createComment("block"),_=[d],this.block.isEmpty()?_.push(o("br")):(E=(y=s(this.block.getLastAttribute()))!=null?y.text:void 0,b=this.findOrCreateCachedChildView(i.TextView,this.block.text,{textConfig:E}),_.push.apply(_,b.getNodes()),this.shouldAddExtraNewlineElement()&&_.push(o("br"))),this.attributes.length)return _;for(g=i.config.blockAttributes.default.tagName,this.block.isRTL()&&(f={dir:"rtl"}),p=o({tagName:g,attributes:f}),m=0,h=_.length;h>m;m++)v=_[m],p.appendChild(v);return[p]},c.prototype.createContainerElement=function(f){var d,p,m,h,v;return d=this.attributes[f],v=s(d).tagName,f===0&&this.block.isRTL()&&(p={dir:"rtl"}),d==="attachmentGallery"&&(h=this.block.getBlockBreakPosition(),m=r.attachmentGallery+" "+r.attachmentGallery+"--"+h),o({tagName:v,className:m,attributes:p})},c.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},c}(i.ObjectView)}.call(this),function(){var r,s,o=function(u,l){function c(){this.constructor=u}for(var f in l)a.call(l,f)&&(u[f]=l[f]);return c.prototype=l.prototype,u.prototype=new c,u.__super__=l.prototype,u},a={}.hasOwnProperty;r=i.defer,s=i.makeElement,i.DocumentView=function(u){function l(){l.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new i.ElementStore,this.setDocument(this.object)}var c,f,d;return o(l,u),l.render=function(p){var m,h;return m=s("div"),h=new this(p,{element:m}),h.render(),h.sync(),m},l.prototype.setDocument=function(p){return p.isEqualTo(this.document)?void 0:this.document=this.object=p},l.prototype.render=function(){var p,m,h,v,_,y,g;if(this.childViews=[],this.shadowElement=s("div"),!this.document.isEmpty()){for(_=i.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),y=[],p=0,m=_.length;m>p;p++)v=_[p],g=this.findOrCreateCachedChildView(i.BlockView,v),y.push(function(){var E,b,T,A;for(T=g.getNodes(),A=[],E=0,b=T.length;b>E;E++)h=T[E],A.push(this.shadowElement.appendChild(h));return A}.call(this));return y}},l.prototype.isSynced=function(){return c(this.shadowElement,this.element)},l.prototype.sync=function(){var p;for(p=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(p),this.didSync()},l.prototype.didSync=function(){return this.elementStore.reset(f(this.element)),r(function(p){return function(){return p.garbageCollectCachedViews()}}(this))},l.prototype.createDocumentFragmentForSync=function(){var p,m,h,v,_,y,g,E,b,T;for(m=document.createDocumentFragment(),E=this.shadowElement.childNodes,h=0,_=E.length;_>h;h++)g=E[h],m.appendChild(g.cloneNode(!0));for(b=f(m),v=0,y=b.length;y>v;v++)p=b[v],(T=this.elementStore.remove(p))&&p.parentNode.replaceChild(T,p);return m},f=function(p){return p.querySelectorAll("[data-trix-store-key]")},c=function(p,m){return d(p.innerHTML)===d(m.innerHTML)},d=function(p){return p.replace(/&nbsp;/g," ")},l}(i.ObjectView)}.call(this),function(){var r,s,o,a,u,l=function(d,p){return function(){return d.apply(p,arguments)}},c=function(d,p){function m(){this.constructor=d}for(var h in p)f.call(p,h)&&(d[h]=p[h]);return m.prototype=p.prototype,d.prototype=new m,d.__super__=p.prototype,d},f={}.hasOwnProperty;o=i.findClosestElementFromNode,a=i.handleEvent,u=i.innerElementIsActive,s=i.defer,r=i.AttachmentView.attachmentSelector,i.CompositionController=function(d){function p(m,h){this.element=m,this.composition=h,this.didClickAttachment=l(this.didClickAttachment,this),this.didBlur=l(this.didBlur,this),this.didFocus=l(this.didFocus,this),this.documentView=new i.DocumentView(this.composition.document,{element:this.element}),a("focus",{onElement:this.element,withCallback:this.didFocus}),a("blur",{onElement:this.element,withCallback:this.didBlur}),a("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),a("mousedown",{onElement:this.element,matchingSelector:r,withCallback:this.didClickAttachment}),a("click",{onElement:this.element,matchingSelector:"a"+r,preventDefault:!0})}return c(p,d),p.prototype.didFocus=function(){var m,h,v;return m=function(_){return function(){var y;return _.focused?void 0:(_.focused=!0,(y=_.delegate)!=null&&typeof y.compositionControllerDidFocus=="function"?y.compositionControllerDidFocus():void 0)}}(this),(h=(v=this.blurPromise)!=null?v.then(m):void 0)!=null?h:m()},p.prototype.didBlur=function(){return this.blurPromise=new Promise(function(m){return function(h){return s(function(){var v;return u(m.element)||(m.focused=null,(v=m.delegate)!=null&&typeof v.compositionControllerDidBlur=="function"&&v.compositionControllerDidBlur()),m.blurPromise=null,h()})}}(this))},p.prototype.didClickAttachment=function(m,h){var v,_,y;return v=this.findAttachmentForElement(h),_=o(m.target,{matchingSelector:"figcaption"})!=null,(y=this.delegate)!=null&&typeof y.compositionControllerDidSelectAttachment=="function"?y.compositionControllerDidSelectAttachment(v,{editCaption:_}):void 0},p.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},p.prototype.render=function(){var m,h,v;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((m=this.delegate)!=null&&typeof m.compositionControllerWillSyncDocumentView=="function"&&m.compositionControllerWillSyncDocumentView(),this.documentView.sync(),(h=this.delegate)!=null&&typeof h.compositionControllerDidSyncDocumentView=="function"&&h.compositionControllerDidSyncDocumentView()),(v=this.delegate)!=null&&typeof v.compositionControllerDidRender=="function"?v.compositionControllerDidRender():void 0},p.prototype.rerenderViewForObject=function(m){return this.invalidateViewForObject(m),this.render()},p.prototype.invalidateViewForObject=function(m){return this.documentView.invalidateViewForObject(m)},p.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},p.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},p.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},p.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},p.prototype.isEditingAttachment=function(){return this.attachmentEditor!=null},p.prototype.installAttachmentEditorForAttachment=function(m,h){var v,_,y;if(((y=this.attachmentEditor)!=null?y.attachment:void 0)!==m&&(_=this.documentView.findElementForObject(m)))return this.uninstallAttachmentEditor(),v=this.composition.document.getAttachmentPieceForAttachment(m),this.attachmentEditor=new i.AttachmentEditorController(v,_,this.element,h),this.attachmentEditor.delegate=this},p.prototype.uninstallAttachmentEditor=function(){var m;return(m=this.attachmentEditor)!=null?m.uninstall():void 0},p.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},p.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(m,h){var v;return(v=this.delegate)!=null&&typeof v.compositionControllerWillUpdateAttachment=="function"&&v.compositionControllerWillUpdateAttachment(h),this.composition.updateAttributesForAttachment(m,h)},p.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(m,h){var v;return(v=this.delegate)!=null&&typeof v.compositionControllerWillUpdateAttachment=="function"&&v.compositionControllerWillUpdateAttachment(h),this.composition.removeAttributeForAttachment(m,h)},p.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(m){var h;return(h=this.delegate)!=null&&typeof h.compositionControllerDidRequestRemovalOfAttachment=="function"?h.compositionControllerDidRequestRemovalOfAttachment(m):void 0},p.prototype.attachmentEditorDidRequestDeselectingAttachment=function(m){var h;return(h=this.delegate)!=null&&typeof h.compositionControllerDidRequestDeselectingAttachment=="function"?h.compositionControllerDidRequestDeselectingAttachment(m):void 0},p.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},p.prototype.findAttachmentForElement=function(m){return this.composition.document.getAttachmentById(parseInt(m.dataset.trixId,10))},p}(i.BasicObject)}.call(this),function(){var r,s,o,a=function(c,f){return function(){return c.apply(f,arguments)}},u=function(c,f){function d(){this.constructor=c}for(var p in f)l.call(f,p)&&(c[p]=f[p]);return d.prototype=f.prototype,c.prototype=new d,c.__super__=f.prototype,c},l={}.hasOwnProperty;s=i.handleEvent,o=i.triggerEvent,r=i.findClosestElementFromNode,i.ToolbarController=function(c){function f(A){this.element=A,this.didKeyDownDialogInput=a(this.didKeyDownDialogInput,this),this.didClickDialogButton=a(this.didClickDialogButton,this),this.didClickAttributeButton=a(this.didClickAttributeButton,this),this.didClickActionButton=a(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),s("mousedown",{onElement:this.element,matchingSelector:d,withCallback:this.didClickActionButton}),s("mousedown",{onElement:this.element,matchingSelector:m,withCallback:this.didClickAttributeButton}),s("click",{onElement:this.element,matchingSelector:T,preventDefault:!0}),s("click",{onElement:this.element,matchingSelector:h,withCallback:this.didClickDialogButton}),s("keydown",{onElement:this.element,matchingSelector:v,withCallback:this.didKeyDownDialogInput})}var d,p,m,h,v,_,y,g,E,b,T;return u(f,c),m="[data-trix-attribute]",d="[data-trix-action]",T=m+", "+d,_="[data-trix-dialog]",p=_+"[data-trix-active]",h=_+" [data-trix-method]",v=_+" [data-trix-input]",f.prototype.didClickActionButton=function(A,S){var M,R,F;return(R=this.delegate)!=null&&R.toolbarDidClickButton(),A.preventDefault(),M=y(S),this.getDialog(M)?this.toggleDialog(M):(F=this.delegate)!=null?F.toolbarDidInvokeAction(M):void 0},f.prototype.didClickAttributeButton=function(A,S){var M,R,F;return(R=this.delegate)!=null&&R.toolbarDidClickButton(),A.preventDefault(),M=g(S),this.getDialog(M)?this.toggleDialog(M):(F=this.delegate)!=null&&F.toolbarDidToggleAttribute(M),this.refreshAttributeButtons()},f.prototype.didClickDialogButton=function(A,S){var M,R;return M=r(S,{matchingSelector:_}),R=S.getAttribute("data-trix-method"),this[R].call(this,M)},f.prototype.didKeyDownDialogInput=function(A,S){var M,R;return A.keyCode===13&&(A.preventDefault(),M=S.getAttribute("name"),R=this.getDialog(M),this.setAttribute(R)),A.keyCode===27?(A.preventDefault(),this.hideDialog()):void 0},f.prototype.updateActions=function(A){return this.actions=A,this.refreshActionButtons()},f.prototype.refreshActionButtons=function(){return this.eachActionButton(function(A){return function(S,M){return S.disabled=A.actions[M]===!1}}(this))},f.prototype.eachActionButton=function(A){var S,M,R,F,I;for(F=this.element.querySelectorAll(d),I=[],M=0,R=F.length;R>M;M++)S=F[M],I.push(A(S,y(S)));return I},f.prototype.updateAttributes=function(A){return this.attributes=A,this.refreshAttributeButtons()},f.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(A){return function(S,M){return S.disabled=A.attributes[M]===!1,A.attributes[M]||A.dialogIsVisible(M)?(S.setAttribute("data-trix-active",""),S.classList.add("trix-active")):(S.removeAttribute("data-trix-active"),S.classList.remove("trix-active"))}}(this))},f.prototype.eachAttributeButton=function(A){var S,M,R,F,I;for(F=this.element.querySelectorAll(m),I=[],M=0,R=F.length;R>M;M++)S=F[M],I.push(A(S,g(S)));return I},f.prototype.applyKeyboardCommand=function(A){var S,M,R,F,I,w,x;for(I=JSON.stringify(A.sort()),x=this.element.querySelectorAll("[data-trix-key]"),F=0,w=x.length;w>F;F++)if(S=x[F],R=S.getAttribute("data-trix-key").split("+"),M=JSON.stringify(R.sort()),M===I)return o("mousedown",{onElement:S}),!0;return!1},f.prototype.dialogIsVisible=function(A){var S;return(S=this.getDialog(A))?S.hasAttribute("data-trix-active"):void 0},f.prototype.toggleDialog=function(A){return this.dialogIsVisible(A)?this.hideDialog():this.showDialog(A)},f.prototype.showDialog=function(A){var S,M,R,F,I,w,x,C,D,L;for(this.hideDialog(),(x=this.delegate)!=null&&x.toolbarWillShowDialog(),R=this.getDialog(A),R.setAttribute("data-trix-active",""),R.classList.add("trix-active"),C=R.querySelectorAll("input[disabled]"),F=0,w=C.length;w>F;F++)M=C[F],M.removeAttribute("disabled");return(S=g(R))&&(I=b(R,A))&&(I.value=(D=this.attributes[S])!=null?D:"",I.select()),(L=this.delegate)!=null?L.toolbarDidShowDialog(A):void 0},f.prototype.setAttribute=function(A){var S,M,R;return S=g(A),M=b(A,S),M.willValidate&&!M.checkValidity()?(M.setAttribute("data-trix-validate",""),M.classList.add("trix-validate"),M.focus()):((R=this.delegate)!=null&&R.toolbarDidUpdateAttribute(S,M.value),this.hideDialog())},f.prototype.removeAttribute=function(A){var S,M;return S=g(A),(M=this.delegate)!=null&&M.toolbarDidRemoveAttribute(S),this.hideDialog()},f.prototype.hideDialog=function(){var A,S;return(A=this.element.querySelector(p))?(A.removeAttribute("data-trix-active"),A.classList.remove("trix-active"),this.resetDialogInputs(),(S=this.delegate)!=null?S.toolbarDidHideDialog(E(A)):void 0):void 0},f.prototype.resetDialogInputs=function(){var A,S,M,R,F;for(R=this.element.querySelectorAll(v),F=[],A=0,M=R.length;M>A;A++)S=R[A],S.setAttribute("disabled","disabled"),S.removeAttribute("data-trix-validate"),F.push(S.classList.remove("trix-validate"));return F},f.prototype.getDialog=function(A){return this.element.querySelector("[data-trix-dialog="+A+"]")},b=function(A,S){return S==null&&(S=g(A)),A.querySelector("[data-trix-input][name='"+S+"']")},y=function(A){return A.getAttribute("data-trix-action")},g=function(A){var S;return(S=A.getAttribute("data-trix-attribute"))!=null?S:A.getAttribute("data-trix-dialog-attribute")},E=function(A){return A.getAttribute("data-trix-dialog")},f}(i.BasicObject)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.ImagePreloadOperation=function(o){function a(u){this.url=u}return r(a,o),a.prototype.perform=function(u){var l;return l=new Image,l.onload=function(c){return function(){return l.width=c.width=l.naturalWidth,l.height=c.height=l.naturalHeight,u(!0,l)}}(this),l.onerror=function(){return u(!1)},l.src=this.url},a}(i.Operation)}.call(this),function(){var r=function(a,u){return function(){return a.apply(u,arguments)}},s=function(a,u){function l(){this.constructor=a}for(var c in u)o.call(u,c)&&(a[c]=u[c]);return l.prototype=u.prototype,a.prototype=new l,a.__super__=u.prototype,a},o={}.hasOwnProperty;i.Attachment=function(a){function u(l){l==null&&(l={}),this.releaseFile=r(this.releaseFile,this),u.__super__.constructor.apply(this,arguments),this.attributes=i.Hash.box(l),this.didChangeAttributes()}return s(u,a),u.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,u.attachmentForFile=function(l){var c,f;return f=this.attributesForFile(l),c=new this(f),c.setFile(l),c},u.attributesForFile=function(l){return new i.Hash({filename:l.name,filesize:l.size,contentType:l.type})},u.fromJSON=function(l){return new this(l)},u.prototype.getAttribute=function(l){return this.attributes.get(l)},u.prototype.hasAttribute=function(l){return this.attributes.has(l)},u.prototype.getAttributes=function(){return this.attributes.toObject()},u.prototype.setAttributes=function(l){var c,f,d;return l==null&&(l={}),c=this.attributes.merge(l),this.attributes.isEqualTo(c)?void 0:(this.attributes=c,this.didChangeAttributes(),(f=this.previewDelegate)!=null&&typeof f.attachmentDidChangeAttributes=="function"&&f.attachmentDidChangeAttributes(this),(d=this.delegate)!=null&&typeof d.attachmentDidChangeAttributes=="function"?d.attachmentDidChangeAttributes(this):void 0)},u.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},u.prototype.isPending=function(){return this.file!=null&&!(this.getURL()||this.getHref())},u.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},u.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},u.prototype.getURL=function(){return this.attributes.get("url")},u.prototype.getHref=function(){return this.attributes.get("href")},u.prototype.getFilename=function(){var l;return(l=this.attributes.get("filename"))!=null?l:""},u.prototype.getFilesize=function(){return this.attributes.get("filesize")},u.prototype.getFormattedFilesize=function(){var l;return l=this.attributes.get("filesize"),typeof l=="number"?i.config.fileSize.formatter(l):""},u.prototype.getExtension=function(){var l;return(l=this.getFilename().match(/\.(\w+)$/))!=null?l[1].toLowerCase():void 0},u.prototype.getContentType=function(){return this.attributes.get("contentType")},u.prototype.hasContent=function(){return this.attributes.has("content")},u.prototype.getContent=function(){return this.attributes.get("content")},u.prototype.getWidth=function(){return this.attributes.get("width")},u.prototype.getHeight=function(){return this.attributes.get("height")},u.prototype.getFile=function(){return this.file},u.prototype.setFile=function(l){return this.file=l,this.isPreviewable()?this.preloadFile():void 0},u.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},u.prototype.getUploadProgress=function(){var l;return(l=this.uploadProgress)!=null?l:0},u.prototype.setUploadProgress=function(l){var c;return this.uploadProgress!==l?(this.uploadProgress=l,(c=this.uploadProgressDelegate)!=null&&typeof c.attachmentDidChangeUploadProgress=="function"?c.attachmentDidChangeUploadProgress(this):void 0):void 0},u.prototype.toJSON=function(){return this.getAttributes()},u.prototype.getCacheKey=function(){return[u.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},u.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},u.prototype.setPreviewURL=function(l){var c,f;return l!==this.getPreviewURL()?(this.previewURL=l,(c=this.previewDelegate)!=null&&typeof c.attachmentDidChangeAttributes=="function"&&c.attachmentDidChangeAttributes(this),(f=this.delegate)!=null&&typeof f.attachmentDidChangePreviewURL=="function"?f.attachmentDidChangePreviewURL(this):void 0):void 0},u.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},u.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},u.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},u.prototype.preload=function(l,c){var f;return l&&l!==this.getPreviewURL()?(this.preloadingURL=l,f=new i.ImagePreloadOperation(l),f.then(function(d){return function(p){var m,h;return h=p.width,m=p.height,d.getWidth()&&d.getHeight()||d.setAttributes({width:h,height:m}),d.preloadingURL=null,d.setPreviewURL(l),typeof c=="function"?c():void 0}}(this)).catch(function(d){return function(){return d.preloadingURL=null,typeof c=="function"?c():void 0}}(this))):void 0},u}(i.Object)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.Piece=function(o){function a(u,l){l==null&&(l={}),a.__super__.constructor.apply(this,arguments),this.attributes=i.Hash.box(l)}return r(a,o),a.types={},a.registerType=function(u,l){return l.type=u,this.types[u]=l},a.fromJSON=function(u){var l;return(l=this.types[u.type])?l.fromJSON(u):void 0},a.prototype.copyWithAttributes=function(u){return new this.constructor(this.getValue(),u)},a.prototype.copyWithAdditionalAttributes=function(u){return this.copyWithAttributes(this.attributes.merge(u))},a.prototype.copyWithoutAttribute=function(u){return this.copyWithAttributes(this.attributes.remove(u))},a.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},a.prototype.getAttribute=function(u){return this.attributes.get(u)},a.prototype.getAttributesHash=function(){return this.attributes},a.prototype.getAttributes=function(){return this.attributes.toObject()},a.prototype.getCommonAttributes=function(){var u,l,c;return(c=pieceList.getPieceAtIndex(0))?(u=c.attributes,l=u.getKeys(),pieceList.eachPiece(function(f){return l=u.getKeysCommonToHash(f.attributes),u=u.slice(l)}),u.toObject()):{}},a.prototype.hasAttribute=function(u){return this.attributes.has(u)},a.prototype.hasSameStringValueAsPiece=function(u){return u!=null&&this.toString()===u.toString()},a.prototype.hasSameAttributesAsPiece=function(u){return u!=null&&(this.attributes===u.attributes||this.attributes.isEqualTo(u.attributes))},a.prototype.isBlockBreak=function(){return!1},a.prototype.isEqualTo=function(u){return a.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(u)&&this.hasSameStringValueAsPiece(u)&&this.hasSameAttributesAsPiece(u)},a.prototype.isEmpty=function(){return this.length===0},a.prototype.isSerializable=function(){return!0},a.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},a.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},a.prototype.canBeGrouped=function(){return this.hasAttribute("href")},a.prototype.canBeGroupedWith=function(u){return this.getAttribute("href")===u.getAttribute("href")},a.prototype.getLength=function(){return this.length},a.prototype.canBeConsolidatedWith=function(){return!1},a}(i.Object)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.Piece.registerType("attachment",i.AttachmentPiece=function(o){function a(u){this.attachment=u,a.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return r(a,o),a.fromJSON=function(u){return new this(i.Attachment.fromJSON(u.attachment),u.attributes)},a.permittedAttributes=["caption","presentation"],a.prototype.ensureAttachmentExclusivelyHasAttribute=function(u){return this.hasAttribute(u)?(this.attachment.hasAttribute(u)||this.attachment.setAttributes(this.attributes.slice(u)),this.attributes=this.attributes.remove(u)):void 0},a.prototype.removeProhibitedAttributes=function(){var u;return u=this.attributes.slice(this.constructor.permittedAttributes),u.isEqualTo(this.attributes)?void 0:this.attributes=u},a.prototype.getValue=function(){return this.attachment},a.prototype.isSerializable=function(){return!this.attachment.isPending()},a.prototype.getCaption=function(){var u;return(u=this.attributes.get("caption"))!=null?u:""},a.prototype.isEqualTo=function(u){var l;return a.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(u!=null&&(l=u.attachment)!=null?l.id:void 0)},a.prototype.toString=function(){return i.OBJECT_REPLACEMENT_CHARACTER},a.prototype.toJSON=function(){var u;return u=a.__super__.toJSON.apply(this,arguments),u.attachment=this.attachment,u},a.prototype.getCacheKey=function(){return[a.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},a.prototype.toConsole=function(){return JSON.stringify(this.toString())},a}(i.Piece))}.call(this),function(){var r,s=function(a,u){function l(){this.constructor=a}for(var c in u)o.call(u,c)&&(a[c]=u[c]);return l.prototype=u.prototype,a.prototype=new l,a.__super__=u.prototype,a},o={}.hasOwnProperty;r=i.normalizeNewlines,i.Piece.registerType("string",i.StringPiece=function(a){function u(l){u.__super__.constructor.apply(this,arguments),this.string=r(l),this.length=this.string.length}return s(u,a),u.fromJSON=function(l){return new this(l.string,l.attributes)},u.prototype.getValue=function(){return this.string},u.prototype.toString=function(){return this.string.toString()},u.prototype.isBlockBreak=function(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0},u.prototype.toJSON=function(){var l;return l=u.__super__.toJSON.apply(this,arguments),l.string=this.string,l},u.prototype.canBeConsolidatedWith=function(l){return l!=null&&this.hasSameConstructorAs(l)&&this.hasSameAttributesAsPiece(l)},u.prototype.consolidateWith=function(l){return new this.constructor(this.toString()+l.toString(),this.attributes)},u.prototype.splitAtOffset=function(l){var c,f;return l===0?(c=null,f=this):l===this.length?(c=this,f=null):(c=new this.constructor(this.string.slice(0,l),this.attributes),f=new this.constructor(this.string.slice(l),this.attributes)),[c,f]},u.prototype.toConsole=function(){var l;return l=this.string,l.length>15&&(l=l.slice(0,14)+"…"),JSON.stringify(l.toString())},u}(i.Piece))}.call(this),function(){var r,s=function(u,l){function c(){this.constructor=u}for(var f in l)o.call(l,f)&&(u[f]=l[f]);return c.prototype=l.prototype,u.prototype=new c,u.__super__=l.prototype,u},o={}.hasOwnProperty,a=[].slice;r=i.spliceArray,i.SplittableList=function(u){function l(p){p==null&&(p=[]),l.__super__.constructor.apply(this,arguments),this.objects=p.slice(0),this.length=this.objects.length}var c,f,d;return s(l,u),l.box=function(p){return p instanceof this?p:new this(p)},l.prototype.indexOf=function(p){return this.objects.indexOf(p)},l.prototype.splice=function(){var p;return p=1<=arguments.length?a.call(arguments,0):[],new this.constructor(r.apply(null,[this.objects].concat(a.call(p))))},l.prototype.eachObject=function(p){var m,h,v,_,y,g;for(y=this.objects,g=[],h=m=0,v=y.length;v>m;h=++m)_=y[h],g.push(p(_,h));return g},l.prototype.insertObjectAtIndex=function(p,m){return this.splice(m,0,p)},l.prototype.insertSplittableListAtIndex=function(p,m){return this.splice.apply(this,[m,0].concat(a.call(p.objects)))},l.prototype.insertSplittableListAtPosition=function(p,m){var h,v,_;return _=this.splitObjectAtPosition(m),v=_[0],h=_[1],new this.constructor(v).insertSplittableListAtIndex(p,h)},l.prototype.editObjectAtIndex=function(p,m){return this.replaceObjectAtIndex(m(this.objects[p]),p)},l.prototype.replaceObjectAtIndex=function(p,m){return this.splice(m,1,p)},l.prototype.removeObjectAtIndex=function(p){return this.splice(p,1)},l.prototype.getObjectAtIndex=function(p){return this.objects[p]},l.prototype.getSplittableListInRange=function(p){var m,h,v,_;return v=this.splitObjectsAtRange(p),h=v[0],m=v[1],_=v[2],new this.constructor(h.slice(m,_+1))},l.prototype.selectSplittableList=function(p){var m,h;return h=function(){var v,_,y,g;for(y=this.objects,g=[],v=0,_=y.length;_>v;v++)m=y[v],p(m)&&g.push(m);return g}.call(this),new this.constructor(h)},l.prototype.removeObjectsInRange=function(p){var m,h,v,_;return v=this.splitObjectsAtRange(p),h=v[0],m=v[1],_=v[2],new this.constructor(h).splice(m,_-m+1)},l.prototype.transformObjectsInRange=function(p,m){var h,v,_,y,g,E,b;return g=this.splitObjectsAtRange(p),y=g[0],v=g[1],E=g[2],b=function(){var T,A,S;for(S=[],h=T=0,A=y.length;A>T;h=++T)_=y[h],S.push(h>=v&&E>=h?m(_):_);return S}(),new this.constructor(b)},l.prototype.splitObjectsAtRange=function(p){var m,h,v,_,y,g;return _=this.splitObjectAtPosition(d(p)),h=_[0],m=_[1],v=_[2],y=new this.constructor(h).splitObjectAtPosition(c(p)+v),h=y[0],g=y[1],[h,m,g-1]},l.prototype.getObjectAtPosition=function(p){var m,h;return h=this.findIndexAndOffsetAtPosition(p),m=h.index,h.offset,this.objects[m]},l.prototype.splitObjectAtPosition=function(p){var m,h,v,_,y,g,E,b,T,A;return g=this.findIndexAndOffsetAtPosition(p),m=g.index,y=g.offset,_=this.objects.slice(0),m!=null?y===0?(T=m,A=0):(v=this.getObjectAtIndex(m),E=v.splitAtOffset(y),h=E[0],b=E[1],_.splice(m,1,h,b),T=m+1,A=h.getLength()-y):(T=_.length,A=0),[_,T,A]},l.prototype.consolidate=function(){var p,m,h,v,_,y;for(v=[],_=this.objects[0],y=this.objects.slice(1),p=0,m=y.length;m>p;p++)h=y[p],typeof _.canBeConsolidatedWith=="function"&&_.canBeConsolidatedWith(h)?_=_.consolidateWith(h):(v.push(_),_=h);return _!=null&&v.push(_),new this.constructor(v)},l.prototype.consolidateFromIndexToIndex=function(p,m){var h,v,_;return v=this.objects.slice(0),_=v.slice(p,m+1),h=new this.constructor(_).consolidate().toArray(),this.splice.apply(this,[p,_.length].concat(a.call(h)))},l.prototype.findIndexAndOffsetAtPosition=function(p){var m,h,v,_,y,g,E;for(m=0,E=this.objects,v=h=0,_=E.length;_>h;v=++h){if(g=E[v],y=m+g.getLength(),p>=m&&y>p)return{index:v,offset:p-m};m=y}return{index:null,offset:null}},l.prototype.findPositionAtIndexAndOffset=function(p,m){var h,v,_,y,g,E;for(g=0,E=this.objects,h=v=0,_=E.length;_>v;h=++v)if(y=E[h],p>h)g+=y.getLength();else if(h===p){g+=m;break}return g},l.prototype.getEndPosition=function(){var p,m;return this.endPosition!=null?this.endPosition:this.endPosition=function(){var h,v,_;for(m=0,_=this.objects,h=0,v=_.length;v>h;h++)p=_[h],m+=p.getLength();return m}.call(this)},l.prototype.toString=function(){return this.objects.join("")},l.prototype.toArray=function(){return this.objects.slice(0)},l.prototype.toJSON=function(){return this.toArray()},l.prototype.isEqualTo=function(p){return l.__super__.isEqualTo.apply(this,arguments)||f(this.objects,p!=null?p.objects:void 0)},f=function(p,m){var h,v,_,y,g;if(m==null&&(m=[]),p.length!==m.length)return!1;for(g=!0,v=h=0,_=p.length;_>h;v=++h)y=p[v],g&&!y.isEqualTo(m[v])&&(g=!1);return g},l.prototype.contentsForInspection=function(){var p;return{objects:"["+function(){var m,h,v,_;for(v=this.objects,_=[],m=0,h=v.length;h>m;m++)p=v[m],_.push(p.inspect());return _}.call(this).join(", ")+"]"}},d=function(p){return p[0]},c=function(p){return p[1]},l}(i.Object)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.Text=function(o){function a(u){var l;u==null&&(u=[]),a.__super__.constructor.apply(this,arguments),this.pieceList=new i.SplittableList(function(){var c,f,d;for(d=[],c=0,f=u.length;f>c;c++)l=u[c],l.isEmpty()||d.push(l);return d}())}return r(a,o),a.textForAttachmentWithAttributes=function(u,l){var c;return c=new i.AttachmentPiece(u,l),new this([c])},a.textForStringWithAttributes=function(u,l){var c;return c=new i.StringPiece(u,l),new this([c])},a.fromJSON=function(u){var l,c;return c=function(){var f,d,p;for(p=[],f=0,d=u.length;d>f;f++)l=u[f],p.push(i.Piece.fromJSON(l));return p}(),new this(c)},a.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},a.prototype.copyWithPieceList=function(u){return new this.constructor(u.consolidate().toArray())},a.prototype.copyUsingObjectMap=function(u){var l,c;return c=function(){var f,d,p,m,h;for(p=this.getPieces(),h=[],f=0,d=p.length;d>f;f++)l=p[f],h.push((m=u.find(l))!=null?m:l);return h}.call(this),new this.constructor(c)},a.prototype.appendText=function(u){return this.insertTextAtPosition(u,this.getLength())},a.prototype.insertTextAtPosition=function(u,l){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(u.pieceList,l))},a.prototype.removeTextAtRange=function(u){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(u))},a.prototype.replaceTextAtRange=function(u,l){return this.removeTextAtRange(l).insertTextAtPosition(u,l[0])},a.prototype.moveTextFromRangeToPosition=function(u,l){var c,f;if(!(u[0]<=l&&l<=u[1]))return f=this.getTextAtRange(u),c=f.getLength(),u[0]<l&&(l-=c),this.removeTextAtRange(u).insertTextAtPosition(f,l)},a.prototype.addAttributeAtRange=function(u,l,c){var f;return f={},f[u]=l,this.addAttributesAtRange(f,c)},a.prototype.addAttributesAtRange=function(u,l){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(l,function(c){return c.copyWithAdditionalAttributes(u)}))},a.prototype.removeAttributeAtRange=function(u,l){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(l,function(c){return c.copyWithoutAttribute(u)}))},a.prototype.setAttributesAtRange=function(u,l){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(l,function(c){return c.copyWithAttributes(u)}))},a.prototype.getAttributesAtPosition=function(u){var l,c;return(l=(c=this.pieceList.getObjectAtPosition(u))!=null?c.getAttributes():void 0)!=null?l:{}},a.prototype.getCommonAttributes=function(){var u,l;return u=function(){var c,f,d,p;for(d=this.pieceList.toArray(),p=[],c=0,f=d.length;f>c;c++)l=d[c],p.push(l.getAttributes());return p}.call(this),i.Hash.fromCommonAttributesOfObjects(u).toObject()},a.prototype.getCommonAttributesAtRange=function(u){var l;return(l=this.getTextAtRange(u).getCommonAttributes())!=null?l:{}},a.prototype.getExpandedRangeForAttributeAtOffset=function(u,l){var c,f,d;for(c=d=l,f=this.getLength();c>0&&this.getCommonAttributesAtRange([c-1,d])[u];)c--;for(;f>d&&this.getCommonAttributesAtRange([l,d+1])[u];)d++;return[c,d]},a.prototype.getTextAtRange=function(u){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(u))},a.prototype.getStringAtRange=function(u){return this.pieceList.getSplittableListInRange(u).toString()},a.prototype.getStringAtPosition=function(u){return this.getStringAtRange([u,u+1])},a.prototype.startsWithString=function(u){return this.getStringAtRange([0,u.length])===u},a.prototype.endsWithString=function(u){var l;return l=this.getLength(),this.getStringAtRange([l-u.length,l])===u},a.prototype.getAttachmentPieces=function(){var u,l,c,f,d;for(f=this.pieceList.toArray(),d=[],u=0,l=f.length;l>u;u++)c=f[u],c.attachment!=null&&d.push(c);return d},a.prototype.getAttachments=function(){var u,l,c,f,d;for(f=this.getAttachmentPieces(),d=[],u=0,l=f.length;l>u;u++)c=f[u],d.push(c.attachment);return d},a.prototype.getAttachmentAndPositionById=function(u){var l,c,f,d,p,m;for(d=0,p=this.pieceList.toArray(),l=0,c=p.length;c>l;l++){if(f=p[l],((m=f.attachment)!=null?m.id:void 0)===u)return{attachment:f.attachment,position:d};d+=f.length}return{attachment:null,position:null}},a.prototype.getAttachmentById=function(u){var l,c;return c=this.getAttachmentAndPositionById(u),l=c.attachment,c.position,l},a.prototype.getRangeOfAttachment=function(u){var l,c;return c=this.getAttachmentAndPositionById(u.id),u=c.attachment,l=c.position,u!=null?[l,l+1]:void 0},a.prototype.updateAttributesForAttachment=function(u,l){var c;return(c=this.getRangeOfAttachment(l))?this.addAttributesAtRange(u,c):this},a.prototype.getLength=function(){return this.pieceList.getEndPosition()},a.prototype.isEmpty=function(){return this.getLength()===0},a.prototype.isEqualTo=function(u){var l;return a.__super__.isEqualTo.apply(this,arguments)||(u!=null&&(l=u.pieceList)!=null?l.isEqualTo(this.pieceList):void 0)},a.prototype.isBlockBreak=function(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},a.prototype.eachPiece=function(u){return this.pieceList.eachObject(u)},a.prototype.getPieces=function(){return this.pieceList.toArray()},a.prototype.getPieceAtPosition=function(u){return this.pieceList.getObjectAtPosition(u)},a.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},a.prototype.toSerializableText=function(){var u;return u=this.pieceList.selectSplittableList(function(l){return l.isSerializable()}),this.copyWithPieceList(u)},a.prototype.toString=function(){return this.pieceList.toString()},a.prototype.toJSON=function(){return this.pieceList.toJSON()},a.prototype.toConsole=function(){var u;return JSON.stringify(function(){var l,c,f,d;for(f=this.pieceList.toArray(),d=[],l=0,c=f.length;c>l;l++)u=f[l],d.push(JSON.parse(u.toConsole()));return d}.call(this))},a.prototype.getDirection=function(){return i.getDirection(this.toString())},a.prototype.isRTL=function(){return this.getDirection()==="rtl"},a}(i.Object)}.call(this),function(){var r,s,o,a,u=function(d,p){function m(){this.constructor=d}for(var h in p)l.call(p,h)&&(d[h]=p[h]);return m.prototype=p.prototype,d.prototype=new m,d.__super__=p.prototype,d},l={}.hasOwnProperty,c=[].indexOf||function(d){for(var p=0,m=this.length;m>p;p++)if(p in this&&this[p]===d)return p;return-1},f=[].slice;r=i.arraysAreEqual,a=i.spliceArray,s=i.getBlockConfig,i.getBlockAttributeNames,o=i.getListAttributeNames,i.Block=function(d){function p(A,S){A==null&&(A=new i.Text),S==null&&(S=[]),p.__super__.constructor.apply(this,arguments),this.text=h(A),this.attributes=S}var m,h,v,_,y,g,E,b,T;return u(p,d),p.fromJSON=function(A){var S;return S=i.Text.fromJSON(A.text),new this(S,A.attributes)},p.prototype.isEmpty=function(){return this.text.isBlockBreak()},p.prototype.isEqualTo=function(A){return p.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(A!=null?A.text:void 0)&&r(this.attributes,A!=null?A.attributes:void 0)},p.prototype.copyWithText=function(A){return new this.constructor(A,this.attributes)},p.prototype.copyWithoutText=function(){return this.copyWithText(null)},p.prototype.copyWithAttributes=function(A){return new this.constructor(this.text,A)},p.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},p.prototype.copyUsingObjectMap=function(A){var S;return this.copyWithText((S=A.find(this.text))?S:this.text.copyUsingObjectMap(A))},p.prototype.addAttribute=function(A){var S;return S=this.attributes.concat(_(A)),this.copyWithAttributes(S)},p.prototype.removeAttribute=function(A){var S,M;return M=s(A).listAttribute,S=g(g(this.attributes,A),M),this.copyWithAttributes(S)},p.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},p.prototype.getLastAttribute=function(){return y(this.attributes)},p.prototype.getAttributes=function(){return this.attributes.slice(0)},p.prototype.getAttributeLevel=function(){return this.attributes.length},p.prototype.getAttributeAtLevel=function(A){return this.attributes[A-1]},p.prototype.hasAttribute=function(A){return c.call(this.attributes,A)>=0},p.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},p.prototype.getLastNestableAttribute=function(){return y(this.getNestableAttributes())},p.prototype.getNestableAttributes=function(){var A,S,M,R,F;for(R=this.attributes,F=[],S=0,M=R.length;M>S;S++)A=R[S],s(A).nestable&&F.push(A);return F},p.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},p.prototype.decreaseNestingLevel=function(){var A;return(A=this.getLastNestableAttribute())?this.removeAttribute(A):this},p.prototype.increaseNestingLevel=function(){var A,S,M;return(A=this.getLastNestableAttribute())?(M=this.attributes.lastIndexOf(A),S=a.apply(null,[this.attributes,M+1,0].concat(f.call(_(A)))),this.copyWithAttributes(S)):this},p.prototype.getListItemAttributes=function(){var A,S,M,R,F;for(R=this.attributes,F=[],S=0,M=R.length;M>S;S++)A=R[S],s(A).listAttribute&&F.push(A);return F},p.prototype.isListItem=function(){var A;return(A=s(this.getLastAttribute()))!=null?A.listAttribute:void 0},p.prototype.isTerminalBlock=function(){var A;return(A=s(this.getLastAttribute()))!=null?A.terminal:void 0},p.prototype.breaksOnReturn=function(){var A;return(A=s(this.getLastAttribute()))!=null?A.breakOnReturn:void 0},p.prototype.findLineBreakInDirectionFromPosition=function(A,S){var M,R;return R=this.toString(),M=function(){switch(A){case"forward":return R.indexOf(`
`,S);case"backward":return R.slice(0,S).lastIndexOf(`
`)}}(),M!==-1?M:void 0},p.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},p.prototype.toString=function(){return this.text.toString()},p.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},p.prototype.getDirection=function(){return this.text.getDirection()},p.prototype.isRTL=function(){return this.text.isRTL()},p.prototype.getLength=function(){return this.text.getLength()},p.prototype.canBeConsolidatedWith=function(A){return!this.hasAttributes()&&!A.hasAttributes()&&this.getDirection()===A.getDirection()},p.prototype.consolidateWith=function(A){var S,M;return S=i.Text.textForStringWithAttributes(`
`),M=this.getTextWithoutBlockBreak().appendText(S),this.copyWithText(M.appendText(A.text))},p.prototype.splitAtOffset=function(A){var S,M;return A===0?(S=null,M=this):A===this.getLength()?(S=this,M=null):(S=this.copyWithText(this.text.getTextAtRange([0,A])),M=this.copyWithText(this.text.getTextAtRange([A,this.getLength()]))),[S,M]},p.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},p.prototype.getTextWithoutBlockBreak=function(){return E(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},p.prototype.canBeGrouped=function(A){return this.attributes[A]},p.prototype.canBeGroupedWith=function(A,S){var M,R,F,I;return F=A.getAttributes(),R=F[S],M=this.attributes[S],!(M!==R||s(M).group===!1&&(I=F[S+1],c.call(o(),I)<0)||this.getDirection()!==A.getDirection()&&!A.isEmpty())},h=function(A){return A=T(A),A=m(A)},T=function(A){var S,M,R,F,I,w;return F=!1,w=A.getPieces(),M=2<=w.length?f.call(w,0,S=w.length-1):(S=0,[]),R=w[S++],R==null?A:(M=function(){var x,C,D;for(D=[],x=0,C=M.length;C>x;x++)I=M[x],I.isBlockBreak()?(F=!0,D.push(b(I))):D.push(I);return D}(),F?new i.Text(f.call(M).concat([R])):A)},v=i.Text.textForStringWithAttributes(`
`,{blockBreak:!0}),m=function(A){return E(A)?A:A.appendText(v)},E=function(A){var S,M;return M=A.getLength(),M===0?!1:(S=A.getTextAtRange([M-1,M]),S.isBlockBreak())},b=function(A){return A.copyWithoutAttribute("blockBreak")},_=function(A){var S;return S=s(A).listAttribute,S!=null?[S,A]:[A]},y=function(A){return A.slice(-1)[0]},g=function(A,S){var M;return M=A.lastIndexOf(S),M===-1?A:a(A,M,1)},p}(i.Object)}.call(this),function(){var r,s,o,a=function(f,d){function p(){this.constructor=f}for(var m in d)u.call(d,m)&&(f[m]=d[m]);return p.prototype=d.prototype,f.prototype=new p,f.__super__=d.prototype,f},u={}.hasOwnProperty,l=[].indexOf||function(f){for(var d=0,p=this.length;p>d;d++)if(d in this&&this[d]===f)return d;return-1},c=[].slice;s=i.tagName,o=i.walkTree,r=i.nodeIsAttachmentElement,i.HTMLSanitizer=function(f){function d(_,y){var g;g=y??{},this.allowedAttributes=g.allowedAttributes,this.forbiddenProtocols=g.forbiddenProtocols,this.forbiddenElements=g.forbiddenElements,this.allowedAttributes==null&&(this.allowedAttributes=p),this.forbiddenProtocols==null&&(this.forbiddenProtocols=h),this.forbiddenElements==null&&(this.forbiddenElements=m),this.body=v(_)}var p,m,h,v;return a(d,f),p="style href src width height class".split(" "),h="javascript:".split(" "),m="script iframe".split(" "),d.sanitize=function(_,y){var g;return g=new this(_,y),g.sanitize(),g},d.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},d.prototype.getHTML=function(){return this.body.innerHTML},d.prototype.getBody=function(){return this.body},d.prototype.sanitizeElements=function(){var _,y,g,E,b;for(b=o(this.body),E=[];b.nextNode();)switch(g=b.currentNode,g.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(g)?E.push(g):this.sanitizeElement(g);break;case Node.COMMENT_NODE:E.push(g)}for(_=0,y=E.length;y>_;_++)g=E[_],i.removeNode(g);return this.body},d.prototype.sanitizeElement=function(_){var y,g,E,b,T;for(_.hasAttribute("href")&&(b=_.protocol,l.call(this.forbiddenProtocols,b)>=0&&_.removeAttribute("href")),T=c.call(_.attributes),y=0,g=T.length;g>y;y++)E=T[y].name,l.call(this.allowedAttributes,E)>=0||E.indexOf("data-trix")===0||_.removeAttribute(E);return _},d.prototype.normalizeListElementNesting=function(){var _,y,g,E,b;for(b=c.call(this.body.querySelectorAll("ul,ol")),_=0,y=b.length;y>_;_++)g=b[_],(E=g.previousElementSibling)&&s(E)==="li"&&E.appendChild(g);return this.body},d.prototype.elementIsRemovable=function(_){return(_!=null?_.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(_)||this.elementIsntSerializable(_):void 0},d.prototype.elementIsForbidden=function(_){var y;return y=s(_),l.call(this.forbiddenElements,y)>=0},d.prototype.elementIsntSerializable=function(_){return _.getAttribute("data-trix-serialize")==="false"&&!r(_)},v=function(_){var y,g,E,b,T;for(_==null&&(_=""),_=_.replace(/<\/html[^>]*>[^]*$/i,"</html>"),y=document.implementation.createHTMLDocument(""),y.documentElement.innerHTML=_,T=y.head.querySelectorAll("style"),E=0,b=T.length;b>E;E++)g=T[E],y.body.appendChild(g);return y.body},d}(i.BasicObject)}.call(this),function(){var r,s,o,a,u,l,c,f,d,p,m,h=function(y,g){function E(){this.constructor=y}for(var b in g)v.call(g,b)&&(y[b]=g[b]);return E.prototype=g.prototype,y.prototype=new E,y.__super__=g.prototype,y},v={}.hasOwnProperty,_=[].indexOf||function(y){for(var g=0,E=this.length;E>g;g++)if(g in this&&this[g]===y)return g;return-1};r=i.arraysAreEqual,l=i.makeElement,p=i.tagName,u=i.getBlockTagNames,m=i.walkTree,a=i.findClosestElementFromNode,o=i.elementContainsNode,c=i.nodeIsAttachmentElement,f=i.normalizeSpaces,s=i.breakableWhitespacePattern,d=i.squishBreakableWhitespace,i.HTMLParser=function(y){function g(D,L){this.html=D,this.referenceElement=(L??{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var E,b,T,A,S,M,R,F,I,w,x,C;return h(g,y),g.parse=function(D,L){var O;return O=new this(D,L),O.parse(),O},g.prototype.getDocument=function(){return i.Document.fromJSON(this.blocks)},g.prototype.parse=function(){var D,L;try{for(this.createHiddenContainer(),D=i.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=D,L=m(this.containerElement,{usingFilter:R});L.nextNode();)this.processNode(L.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},g.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=l({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},g.prototype.removeHiddenContainer=function(){return i.removeNode(this.containerElement)},R=function(D){return p(D)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},g.prototype.processNode=function(D){switch(D.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(D))return this.appendBlockForTextNode(D),this.processTextNode(D);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(D),this.processElement(D)}},g.prototype.appendBlockForTextNode=function(D){var L,O,k;return O=D.parentNode,O===this.currentBlockElement&&this.isBlockElement(D.previousSibling)?this.appendStringWithAttributes(`
`):O!==this.containerElement&&!this.isBlockElement(O)||(L=this.getBlockAttributes(O),r(L,(k=this.currentBlock)!=null?k.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(L,O),this.currentBlockElement=O)},g.prototype.appendBlockForElement=function(D){var L,O,k,P;if(k=this.isBlockElement(D),O=o(this.currentBlockElement,D),k&&!this.isBlockElement(D.firstChild)){if((!this.isInsignificantTextNode(D.firstChild)||!this.isBlockElement(D.firstElementChild))&&(L=this.getBlockAttributes(D),D.firstChild))return O&&r(L,this.currentBlock.attributes)?this.appendStringWithAttributes(`
`):(this.currentBlock=this.appendBlockForAttributesWithElement(L,D),this.currentBlockElement=D)}else if(this.currentBlockElement&&!O&&!k)return(P=this.findParentBlockElement(D))?this.appendBlockForElement(P):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},g.prototype.findParentBlockElement=function(D){var L;for(L=D.parentElement;L&&L!==this.containerElement;){if(this.isBlockElement(L)&&_.call(this.blockElements,L)>=0)return L;L=L.parentElement}return null},g.prototype.processTextNode=function(D){var L,O;return O=D.data,b(D.parentNode)||(O=d(O),x((L=D.previousSibling)!=null?L.textContent:void 0)&&(O=S(O))),this.appendStringWithAttributes(O,this.getTextAttributes(D.parentNode))},g.prototype.processElement=function(D){var L,O,k,P,z;if(c(D))return L=F(D,"attachment"),Object.keys(L).length&&(P=this.getTextAttributes(D),this.appendAttachmentWithAttributes(L,P),D.innerHTML=""),this.processedElements.push(D);switch(p(D)){case"br":return this.isExtraBR(D)||this.isBlockElement(D.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(D)),this.processedElements.push(D);case"img":L={url:D.getAttribute("src"),contentType:"image"},k=A(D);for(O in k)z=k[O],L[O]=z;return this.appendAttachmentWithAttributes(L,this.getTextAttributes(D)),this.processedElements.push(D);case"tr":if(D.parentNode.firstChild!==D)return this.appendStringWithAttributes(`
`);break;case"td":if(D.parentNode.firstChild!==D)return this.appendStringWithAttributes(" | ")}},g.prototype.appendBlockForAttributesWithElement=function(D,L){var O;return this.blockElements.push(L),O=E(D),this.blocks.push(O),O},g.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},g.prototype.appendStringWithAttributes=function(D,L){return this.appendPiece(w(D,L))},g.prototype.appendAttachmentWithAttributes=function(D,L){return this.appendPiece(I(D,L))},g.prototype.appendPiece=function(D){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(D)},g.prototype.appendStringToTextAtIndex=function(D,L){var O,k;return k=this.blocks[L].text,O=k[k.length-1],(O!=null?O.type:void 0)==="string"?O.string+=D:k.push(w(D))},g.prototype.prependStringToTextAtIndex=function(D,L){var O,k;return k=this.blocks[L].text,O=k[0],(O!=null?O.type:void 0)==="string"?O.string=D+O.string:k.unshift(w(D))},w=function(D,L){var O;return L==null&&(L={}),O="string",D=f(D),{string:D,attributes:L,type:O}},I=function(D,L){var O;return L==null&&(L={}),O="attachment",{attachment:D,attributes:L,type:O}},E=function(D){var L;return D==null&&(D={}),L=[],{text:L,attributes:D}},g.prototype.getTextAttributes=function(D){var L,O,k,P,z,H,X,j,ue,G,J,te;k={},ue=i.config.textAttributes;for(L in ue)if(z=ue[L],z.tagName&&a(D,{matchingSelector:z.tagName,untilNode:this.containerElement}))k[L]=!0;else if(z.parser){if(te=z.parser(D)){for(O=!1,G=this.findBlockElementAncestors(D),H=0,j=G.length;j>H;H++)if(P=G[H],z.parser(P)===te){O=!0;break}O||(k[L]=te)}}else z.styleProperty&&(te=D.style[z.styleProperty])&&(k[L]=te);if(c(D)){J=F(D,"attributes");for(X in J)te=J[X],k[X]=te}return k},g.prototype.getBlockAttributes=function(D){var L,O,k,P;for(O=[];D&&D!==this.containerElement;){P=i.config.blockAttributes;for(L in P)k=P[L],k.parse!==!1&&p(D)===k.tagName&&(typeof k.test=="function"&&k.test(D)||!k.test)&&(O.push(L),k.listAttribute&&O.push(k.listAttribute));D=D.parentNode}return O.reverse()},g.prototype.findBlockElementAncestors=function(D){var L,O;for(L=[];D&&D!==this.containerElement;)O=p(D),_.call(u(),O)>=0&&L.push(D),D=D.parentNode;return L},F=function(D,L){try{return JSON.parse(D.getAttribute("data-trix-"+L))}catch{return{}}},A=function(D){var L,O,k;return k=D.getAttribute("width"),O=D.getAttribute("height"),L={},k&&(L.width=parseInt(k,10)),O&&(L.height=parseInt(O,10)),L},g.prototype.isBlockElement=function(D){var L;if((D!=null?D.nodeType:void 0)===Node.ELEMENT_NODE&&!c(D)&&!a(D,{matchingSelector:"td",untilNode:this.containerElement}))return L=p(D),_.call(u(),L)>=0||window.getComputedStyle(D).display==="block"},g.prototype.isInsignificantTextNode=function(D){var L,O,k;if((D!=null?D.nodeType:void 0)===Node.TEXT_NODE&&C(D.data)&&(O=D.parentNode,k=D.previousSibling,L=D.nextSibling,(!M(O.previousSibling)||this.isBlockElement(O.previousSibling))&&!b(O)))return!k||this.isBlockElement(k)||!L||this.isBlockElement(L)},g.prototype.isExtraBR=function(D){return p(D)==="br"&&this.isBlockElement(D.parentNode)&&D.parentNode.lastChild===D},b=function(D){var L;return L=window.getComputedStyle(D).whiteSpace,L==="pre"||L==="pre-wrap"||L==="pre-line"},M=function(D){return D&&!x(D.textContent)},g.prototype.translateBlockElementMarginsToNewlines=function(){var D,L,O,k,P,z,H;for(D=this.getMarginOfDefaultBlockElement(),z=this.blocks,H=[],O=L=0,k=z.length;k>L;O=++L)z[O],(P=this.getMarginOfBlockElementAtIndex(O))&&(P.top>2*D.top&&this.prependStringToTextAtIndex(`
`,O),H.push(P.bottom>2*D.bottom?this.appendStringToTextAtIndex(`
`,O):void 0));return H},g.prototype.getMarginOfBlockElementAtIndex=function(D){var L,O;return!(L=this.blockElements[D])||!L.textContent||(O=p(L),_.call(u(),O)>=0||_.call(this.processedElements,L)>=0)?void 0:T(L)},g.prototype.getMarginOfDefaultBlockElement=function(){var D;return D=l(i.config.blockAttributes.default.tagName),this.containerElement.appendChild(D),T(D)},T=function(D){var L;return L=window.getComputedStyle(D),L.display==="block"?{top:parseInt(L.marginTop),bottom:parseInt(L.marginBottom)}:void 0},S=function(D){return D.replace(RegExp("^"+s.source+"+"),"")},C=function(D){return RegExp("^"+s.source+"*$").test(D)},x=function(D){return/\s$/.test(D)},g}(i.BasicObject)}.call(this),function(){var r,s,o,a,u=function(d,p){function m(){this.constructor=d}for(var h in p)l.call(p,h)&&(d[h]=p[h]);return m.prototype=p.prototype,d.prototype=new m,d.__super__=p.prototype,d},l={}.hasOwnProperty,c=[].slice,f=[].indexOf||function(d){for(var p=0,m=this.length;m>p;p++)if(p in this&&this[p]===d)return p;return-1};r=i.arraysAreEqual,o=i.normalizeRange,a=i.rangeIsCollapsed,s=i.getBlockConfig,i.Document=function(d){function p(h){h==null&&(h=[]),p.__super__.constructor.apply(this,arguments),h.length===0&&(h=[new i.Block]),this.blockList=i.SplittableList.box(h)}var m;return u(p,d),p.fromJSON=function(h){var v,_;return _=function(){var y,g,E;for(E=[],y=0,g=h.length;g>y;y++)v=h[y],E.push(i.Block.fromJSON(v));return E}(),new this(_)},p.fromHTML=function(h,v){return i.HTMLParser.parse(h,v).getDocument()},p.fromString=function(h,v){var _;return _=i.Text.textForStringWithAttributes(h,v),new this([new i.Block(_)])},p.prototype.isEmpty=function(){var h;return this.blockList.length===1&&(h=this.getBlockAtIndex(0),h.isEmpty()&&!h.hasAttributes())},p.prototype.copy=function(h){var v;return h==null&&(h={}),v=h.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(v)},p.prototype.copyUsingObjectsFromDocument=function(h){var v;return v=new i.ObjectMap(h.getObjects()),this.copyUsingObjectMap(v)},p.prototype.copyUsingObjectMap=function(h){var v,_,y;return _=function(){var g,E,b,T;for(b=this.getBlocks(),T=[],g=0,E=b.length;E>g;g++)v=b[g],T.push((y=h.find(v))?y:v.copyUsingObjectMap(h));return T}.call(this),new this.constructor(_)},p.prototype.copyWithBaseBlockAttributes=function(h){var v,_,y;return h==null&&(h=[]),y=function(){var g,E,b,T;for(b=this.getBlocks(),T=[],g=0,E=b.length;E>g;g++)_=b[g],v=h.concat(_.getAttributes()),T.push(_.copyWithAttributes(v));return T}.call(this),new this.constructor(y)},p.prototype.replaceBlock=function(h,v){var _;return _=this.blockList.indexOf(h),_===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(v,_))},p.prototype.insertDocumentAtRange=function(h,v){var _,y,g,E,b,T,A;return y=h.blockList,b=(v=o(v))[0],T=this.locationFromPosition(b),g=T.index,E=T.offset,A=this,_=this.getBlockAtPosition(b),a(v)&&_.isEmpty()&&!_.hasAttributes()?A=new this.constructor(A.blockList.removeObjectAtIndex(g)):_.getBlockBreakPosition()===E&&b++,A=A.removeTextAtRange(v),new this.constructor(A.blockList.insertSplittableListAtPosition(y,b))},p.prototype.mergeDocumentAtRange=function(h,v){var _,y,g,E,b,T,A,S,M,R,F,I;return F=(v=o(v))[0],R=this.locationFromPosition(F),y=this.getBlockAtIndex(R.index).getAttributes(),_=h.getBaseBlockAttributes(),I=y.slice(-_.length),r(_,I)?(A=y.slice(0,-_.length),T=h.copyWithBaseBlockAttributes(A)):T=h.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(y),g=T.getBlockCount(),E=T.getBlockAtIndex(0),r(y,E.getAttributes())?(b=E.getTextWithoutBlockBreak(),M=this.insertTextAtRange(b,v),g>1&&(T=new this.constructor(T.getBlocks().slice(1)),S=F+b.getLength(),M=M.insertDocumentAtRange(T,S))):M=this.insertDocumentAtRange(T,v),M},p.prototype.insertTextAtRange=function(h,v){var _,y,g,E,b;return b=(v=o(v))[0],E=this.locationFromPosition(b),y=E.index,g=E.offset,_=this.removeTextAtRange(v),new this.constructor(_.blockList.editObjectAtIndex(y,function(T){return T.copyWithText(T.text.insertTextAtPosition(h,g))}))},p.prototype.removeTextAtRange=function(h){var v,_,y,g,E,b,T,A,S,M,R,F,I,w,x,C,D,L,O,k,P;return M=h=o(h),A=M[0],L=M[1],a(h)?this:(R=this.locationRangeFromRange(h),b=R[0],C=R[1],E=b.index,T=b.offset,g=this.getBlockAtIndex(E),x=C.index,D=C.offset,w=this.getBlockAtIndex(x),F=L-A===1&&g.getBlockBreakPosition()===T&&w.getBlockBreakPosition()!==D&&w.text.getStringAtPosition(D)===`
`,F?y=this.blockList.editObjectAtIndex(x,function(z){return z.copyWithText(z.text.removeTextAtRange([D,D+1]))}):(S=g.text.getTextAtRange([0,T]),O=w.text.getTextAtRange([D,w.getLength()]),k=S.appendText(O),I=E!==x&&T===0,P=I&&g.getAttributeLevel()>=w.getAttributeLevel(),_=P?w.copyWithText(k):g.copyWithText(k),v=x+1-E,y=this.blockList.splice(E,v,_)),new this.constructor(y))},p.prototype.moveTextFromRangeToPosition=function(h,v){var _,y,g,E,b,T,A,S,M,R;return T=h=o(h),M=T[0],g=T[1],v>=M&&g>=v?this:(y=this.getDocumentAtRange(h),S=this.removeTextAtRange(h),b=v>M,b&&(v-=y.getLength()),A=y.getBlocks(),E=A[0],_=2<=A.length?c.call(A,1):[],_.length===0?(R=E.getTextWithoutBlockBreak(),b&&(v+=1)):R=E.text,S=S.insertTextAtRange(R,v),_.length===0?S:(y=new this.constructor(_),v+=R.getLength(),S.insertDocumentAtRange(y,v)))},p.prototype.addAttributeAtRange=function(h,v,_){var y;return y=this.blockList,this.eachBlockAtRange(_,function(g,E,b){return y=y.editObjectAtIndex(b,function(){return s(h)?g.addAttribute(h,v):E[0]===E[1]?g:g.copyWithText(g.text.addAttributeAtRange(h,v,E))})}),new this.constructor(y)},p.prototype.addAttribute=function(h,v){var _;return _=this.blockList,this.eachBlock(function(y,g){return _=_.editObjectAtIndex(g,function(){return y.addAttribute(h,v)})}),new this.constructor(_)},p.prototype.removeAttributeAtRange=function(h,v){var _;return _=this.blockList,this.eachBlockAtRange(v,function(y,g,E){return s(h)?_=_.editObjectAtIndex(E,function(){return y.removeAttribute(h)}):g[0]!==g[1]?_=_.editObjectAtIndex(E,function(){return y.copyWithText(y.text.removeAttributeAtRange(h,g))}):void 0}),new this.constructor(_)},p.prototype.updateAttributesForAttachment=function(h,v){var _,y,g;return y=this.getRangeOfAttachment(v)[0],_=this.locationFromPosition(y).index,g=this.getTextAtIndex(_),new this.constructor(this.blockList.editObjectAtIndex(_,function(E){return E.copyWithText(g.updateAttributesForAttachment(h,v))}))},p.prototype.removeAttributeForAttachment=function(h,v){var _;return _=this.getRangeOfAttachment(v),this.removeAttributeAtRange(h,_)},p.prototype.insertBlockBreakAtRange=function(h){var v,_,y,g;return g=(h=o(h))[0],y=this.locationFromPosition(g).offset,_=this.removeTextAtRange(h),y===0&&(v=[new i.Block]),new this.constructor(_.blockList.insertSplittableListAtPosition(new i.SplittableList(v),g))},p.prototype.applyBlockAttributeAtRange=function(h,v,_){var y,g,E,b;return E=this.expandRangeToLineBreaksAndSplitBlocks(_),g=E.document,_=E.range,y=s(h),y.listAttribute?(g=g.removeLastListAttributeAtRange(_,{exceptAttributeName:h}),b=g.convertLineBreaksToBlockBreaksInRange(_),g=b.document,_=b.range):g=y.exclusive?g.removeBlockAttributesAtRange(_):y.terminal?g.removeLastTerminalAttributeAtRange(_):g.consolidateBlocksAtRange(_),g.addAttributeAtRange(h,v,_)},p.prototype.removeLastListAttributeAtRange=function(h,v){var _;return v==null&&(v={}),_=this.blockList,this.eachBlockAtRange(h,function(y,g,E){var b;if((b=y.getLastAttribute())&&s(b).listAttribute&&b!==v.exceptAttributeName)return _=_.editObjectAtIndex(E,function(){return y.removeAttribute(b)})}),new this.constructor(_)},p.prototype.removeLastTerminalAttributeAtRange=function(h){var v;return v=this.blockList,this.eachBlockAtRange(h,function(_,y,g){var E;if((E=_.getLastAttribute())&&s(E).terminal)return v=v.editObjectAtIndex(g,function(){return _.removeAttribute(E)})}),new this.constructor(v)},p.prototype.removeBlockAttributesAtRange=function(h){var v;return v=this.blockList,this.eachBlockAtRange(h,function(_,y,g){return _.hasAttributes()?v=v.editObjectAtIndex(g,function(){return _.copyWithoutAttributes()}):void 0}),new this.constructor(v)},p.prototype.expandRangeToLineBreaksAndSplitBlocks=function(h){var v,_,y,g,E,b,T,A,S;return b=h=o(h),S=b[0],g=b[1],A=this.locationFromPosition(S),y=this.locationFromPosition(g),v=this,T=v.getBlockAtIndex(A.index),(A.offset=T.findLineBreakInDirectionFromPosition("backward",A.offset))!=null&&(E=v.positionFromLocation(A),v=v.insertBlockBreakAtRange([E,E+1]),y.index+=1,y.offset-=v.getBlockAtIndex(A.index).getLength(),A.index+=1),A.offset=0,y.offset===0&&y.index>A.index?(y.index-=1,y.offset=v.getBlockAtIndex(y.index).getBlockBreakPosition()):(_=v.getBlockAtIndex(y.index),_.text.getStringAtRange([y.offset-1,y.offset])===`
`?y.offset-=1:y.offset=_.findLineBreakInDirectionFromPosition("forward",y.offset),y.offset!==_.getBlockBreakPosition()&&(E=v.positionFromLocation(y),v=v.insertBlockBreakAtRange([E,E+1]))),S=v.positionFromLocation(A),g=v.positionFromLocation(y),h=o([S,g]),{document:v,range:h}},p.prototype.convertLineBreaksToBlockBreaksInRange=function(h){var v,_,y;return _=(h=o(h))[0],y=this.getStringAtRange(h).slice(0,-1),v=this,y.replace(/.*?\n/g,function(g){return _+=g.length,v=v.insertBlockBreakAtRange([_-1,_])}),{document:v,range:h}},p.prototype.consolidateBlocksAtRange=function(h){var v,_,y,g,E;return y=h=o(h),E=y[0],_=y[1],g=this.locationFromPosition(E).index,v=this.locationFromPosition(_).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(g,v))},p.prototype.getDocumentAtRange=function(h){var v;return h=o(h),v=this.blockList.getSplittableListInRange(h).toArray(),new this.constructor(v)},p.prototype.getStringAtRange=function(h){var v,_,y;return y=h=o(h),_=y[y.length-1],_!==this.getLength()&&(v=-1),this.getDocumentAtRange(h).toString().slice(0,v)},p.prototype.getBlockAtIndex=function(h){return this.blockList.getObjectAtIndex(h)},p.prototype.getBlockAtPosition=function(h){var v;return v=this.locationFromPosition(h).index,this.getBlockAtIndex(v)},p.prototype.getTextAtIndex=function(h){var v;return(v=this.getBlockAtIndex(h))!=null?v.text:void 0},p.prototype.getTextAtPosition=function(h){var v;return v=this.locationFromPosition(h).index,this.getTextAtIndex(v)},p.prototype.getPieceAtPosition=function(h){var v,_,y;return y=this.locationFromPosition(h),v=y.index,_=y.offset,this.getTextAtIndex(v).getPieceAtPosition(_)},p.prototype.getCharacterAtPosition=function(h){var v,_,y;return y=this.locationFromPosition(h),v=y.index,_=y.offset,this.getTextAtIndex(v).getStringAtRange([_,_+1])},p.prototype.getLength=function(){return this.blockList.getEndPosition()},p.prototype.getBlocks=function(){return this.blockList.toArray()},p.prototype.getBlockCount=function(){return this.blockList.length},p.prototype.getEditCount=function(){return this.editCount},p.prototype.eachBlock=function(h){return this.blockList.eachObject(h)},p.prototype.eachBlockAtRange=function(h,v){var _,y,g,E,b,T,A,S,M,R,F,I;if(T=h=o(h),F=T[0],g=T[1],R=this.locationFromPosition(F),y=this.locationFromPosition(g),R.index===y.index)return _=this.getBlockAtIndex(R.index),I=[R.offset,y.offset],v(_,I,R.index);for(M=[],b=E=A=R.index,S=y.index;S>=A?S>=E:E>=S;b=S>=A?++E:--E)(_=this.getBlockAtIndex(b))?(I=function(){switch(b){case R.index:return[R.offset,_.text.getLength()];case y.index:return[0,y.offset];default:return[0,_.text.getLength()]}}(),M.push(v(_,I,b))):M.push(void 0);return M},p.prototype.getCommonAttributesAtRange=function(h){var v,_,y;return _=(h=o(h))[0],a(h)?this.getCommonAttributesAtPosition(_):(y=[],v=[],this.eachBlockAtRange(h,function(g,E){return E[0]!==E[1]?(y.push(g.text.getCommonAttributesAtRange(E)),v.push(m(g))):void 0}),i.Hash.fromCommonAttributesOfObjects(y).merge(i.Hash.fromCommonAttributesOfObjects(v)).toObject())},p.prototype.getCommonAttributesAtPosition=function(h){var v,_,y,g,E,b,T,A,S,M;if(S=this.locationFromPosition(h),E=S.index,A=S.offset,y=this.getBlockAtIndex(E),!y)return{};g=m(y),v=y.text.getAttributesAtPosition(A),_=y.text.getAttributesAtPosition(A-1),b=function(){var R,F;R=i.config.textAttributes,F=[];for(T in R)M=R[T],M.inheritable&&F.push(T);return F}();for(T in _)M=_[T],(M===v[T]||f.call(b,T)>=0)&&(g[T]=M);return g},p.prototype.getRangeOfCommonAttributeAtPosition=function(h,v){var _,y,g,E,b,T,A,S,M;return b=this.locationFromPosition(v),g=b.index,E=b.offset,M=this.getTextAtIndex(g),T=M.getExpandedRangeForAttributeAtOffset(h,E),S=T[0],y=T[1],A=this.positionFromLocation({index:g,offset:S}),_=this.positionFromLocation({index:g,offset:y}),o([A,_])},p.prototype.getBaseBlockAttributes=function(){var h,v,_,y,g,E,b;for(h=this.getBlockAtIndex(0).getAttributes(),_=y=1,b=this.getBlockCount();b>=1?b>y:y>b;_=b>=1?++y:--y)v=this.getBlockAtIndex(_).getAttributes(),E=Math.min(h.length,v.length),h=function(){var T,A,S;for(S=[],g=T=0,A=E;(A>=0?A>T:T>A)&&v[g]===h[g];g=A>=0?++T:--T)S.push(v[g]);return S}();return h},m=function(h){var v,_;return _={},(v=h.getLastAttribute())&&(_[v]=!0),_},p.prototype.getAttachmentById=function(h){var v,_,y,g;for(g=this.getAttachments(),_=0,y=g.length;y>_;_++)if(v=g[_],v.id===h)return v},p.prototype.getAttachmentPieces=function(){var h;return h=[],this.blockList.eachObject(function(v){var _;return _=v.text,h=h.concat(_.getAttachmentPieces())}),h},p.prototype.getAttachments=function(){var h,v,_,y,g;for(y=this.getAttachmentPieces(),g=[],h=0,v=y.length;v>h;h++)_=y[h],g.push(_.attachment);return g},p.prototype.getRangeOfAttachment=function(h){var v,_,y,g,E,b,T;for(g=0,E=this.blockList.toArray(),_=v=0,y=E.length;y>v;_=++v){if(b=E[_].text,T=b.getRangeOfAttachment(h))return o([g+T[0],g+T[1]]);g+=b.getLength()}},p.prototype.getLocationRangeOfAttachment=function(h){var v;return v=this.getRangeOfAttachment(h),this.locationRangeFromRange(v)},p.prototype.getAttachmentPieceForAttachment=function(h){var v,_,y,g;for(g=this.getAttachmentPieces(),v=0,_=g.length;_>v;v++)if(y=g[v],y.attachment===h)return y},p.prototype.findRangesForBlockAttribute=function(h){var v,_,y,g,E,b,T;for(E=0,b=[],T=this.getBlocks(),_=0,y=T.length;y>_;_++)v=T[_],g=v.getLength(),v.hasAttribute(h)&&b.push([E,E+g]),E+=g;return b},p.prototype.findRangesForTextAttribute=function(h,v){var _,y,g,E,b,T,A,S,M,R;for(R=(v??{}).withValue,T=0,A=[],S=[],E=function(F){return R!=null?F.getAttribute(h)===R:F.hasAttribute(h)},M=this.getPieces(),_=0,y=M.length;y>_;_++)b=M[_],g=b.getLength(),E(b)&&(A[1]===T?A[1]=T+g:S.push(A=[T,T+g])),T+=g;return S},p.prototype.locationFromPosition=function(h){var v,_;return _=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,h)),_.index!=null?_:(v=this.getBlocks(),{index:v.length-1,offset:v[v.length-1].getLength()})},p.prototype.positionFromLocation=function(h){return this.blockList.findPositionAtIndexAndOffset(h.index,h.offset)},p.prototype.locationRangeFromPosition=function(h){return o(this.locationFromPosition(h))},p.prototype.locationRangeFromRange=function(h){var v,_,y,g;if(h=o(h))return g=h[0],_=h[1],y=this.locationFromPosition(g),v=this.locationFromPosition(_),o([y,v])},p.prototype.rangeFromLocationRange=function(h){var v,_;return h=o(h),v=this.positionFromLocation(h[0]),a(h)||(_=this.positionFromLocation(h[1])),o([v,_])},p.prototype.isEqualTo=function(h){return this.blockList.isEqualTo(h!=null?h.blockList:void 0)},p.prototype.getTexts=function(){var h,v,_,y,g;for(y=this.getBlocks(),g=[],v=0,_=y.length;_>v;v++)h=y[v],g.push(h.text);return g},p.prototype.getPieces=function(){var h,v,_,y,g;for(_=[],y=this.getTexts(),h=0,v=y.length;v>h;h++)g=y[h],_.push.apply(_,g.getPieces());return _},p.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},p.prototype.toSerializableDocument=function(){var h;return h=[],this.blockList.eachObject(function(v){return h.push(v.copyWithText(v.text.toSerializableText()))}),new this.constructor(h)},p.prototype.toString=function(){return this.blockList.toString()},p.prototype.toJSON=function(){return this.blockList.toJSON()},p.prototype.toConsole=function(){var h;return JSON.stringify(function(){var v,_,y,g;for(y=this.blockList.toArray(),g=[],v=0,_=y.length;_>v;v++)h=y[v],g.push(JSON.parse(h.text.toConsole()));return g}.call(this))},p}(i.Object)}.call(this),function(){i.LineBreakInsertion=function(){function r(s){var o;this.composition=s,this.document=this.composition.document,o=this.composition.getSelectedRange(),this.startPosition=o[0],this.endPosition=o[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return r.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`},r.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)},r.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},r.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()},r.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},r}()}.call(this),function(){var r,s,o,a,u,l,c,f,d,p,m=function(v,_){function y(){this.constructor=v}for(var g in _)h.call(_,g)&&(v[g]=_[g]);return y.prototype=_.prototype,v.prototype=new y,v.__super__=_.prototype,v},h={}.hasOwnProperty;l=i.normalizeRange,d=i.rangesAreEqual,f=i.rangeIsCollapsed,c=i.objectsAreEqual,r=i.arrayStartsWith,p=i.summarizeArrayChange,o=i.getAllAttributeNames,a=i.getBlockConfig,u=i.getTextConfig,s=i.extend,i.Composition=function(v){function _(){this.document=new i.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var y;return m(_,v),_.prototype.setDocument=function(g){var E;return g.isEqualTo(this.document)?void 0:(this.document=g,this.refreshAttachments(),this.revision++,(E=this.delegate)!=null&&typeof E.compositionDidChangeDocument=="function"?E.compositionDidChangeDocument(g):void 0)},_.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},_.prototype.loadSnapshot=function(g){var E,b,T,A;return E=g.document,A=g.selectedRange,(b=this.delegate)!=null&&typeof b.compositionWillLoadSnapshot=="function"&&b.compositionWillLoadSnapshot(),this.setDocument(E??new i.Document),this.setSelection(A??[0,0]),(T=this.delegate)!=null&&typeof T.compositionDidLoadSnapshot=="function"?T.compositionDidLoadSnapshot():void 0},_.prototype.insertText=function(g,E){var b,T,A,S;return S=(E??{updatePosition:!0}).updatePosition,T=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(g,T)),A=T[0],b=A+g.getLength(),S&&this.setSelection(b),this.notifyDelegateOfInsertionAtRange([A,b])},_.prototype.insertBlock=function(g){var E;return g==null&&(g=new i.Block),E=new i.Document([g]),this.insertDocument(E)},_.prototype.insertDocument=function(g){var E,b,T;return g==null&&(g=new i.Document),b=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(g,b)),T=b[0],E=T+g.getLength(),this.setSelection(E),this.notifyDelegateOfInsertionAtRange([T,E])},_.prototype.insertString=function(g,E){var b,T;return b=this.getCurrentTextAttributes(),T=i.Text.textForStringWithAttributes(g,b),this.insertText(T,E)},_.prototype.insertBlockBreak=function(){var g,E,b;return E=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(E)),b=E[0],g=b+1,this.setSelection(g),this.notifyDelegateOfInsertionAtRange([b,g])},_.prototype.insertLineBreak=function(){var g,E;return E=new i.LineBreakInsertion(this),E.shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(E.startPosition)):E.shouldPrependListItem()?(g=new i.Document([E.block.copyWithoutText()]),this.insertDocument(g)):E.shouldInsertBlockBreak()?this.insertBlockBreak():E.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():E.shouldBreakFormattedBlock()?this.breakFormattedBlock(E):this.insertString(`
`)},_.prototype.insertHTML=function(g){var E,b,T,A;return E=i.Document.fromHTML(g),T=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(E,T)),A=T[0],b=A+E.getLength()-1,this.setSelection(b),this.notifyDelegateOfInsertionAtRange([A,b])},_.prototype.replaceHTML=function(g){var E,b,T;return E=i.Document.fromHTML(g).copyUsingObjectsFromDocument(this.document),b=this.getLocationRange({strict:!1}),T=this.document.rangeFromLocationRange(b),this.setDocument(E),this.setSelection(T)},_.prototype.insertFile=function(g){return this.insertFiles([g])},_.prototype.insertFiles=function(g){var E,b,T,A,S,M;for(b=[],A=0,S=g.length;S>A;A++)T=g[A],(M=this.delegate)!=null&&M.compositionShouldAcceptFile(T)&&(E=i.Attachment.attachmentForFile(T),b.push(E));return this.insertAttachments(b)},_.prototype.insertAttachment=function(g){return this.insertAttachments([g])},_.prototype.insertAttachments=function(g){var E,b,T,A,S,M,R,F,I;for(F=new i.Text,A=0,S=g.length;S>A;A++)E=g[A],I=E.getType(),M=(R=i.config.attachments[I])!=null?R.presentation:void 0,T=this.getCurrentTextAttributes(),M&&(T.presentation=M),b=i.Text.textForAttachmentWithAttributes(E,T),F=F.appendText(b);return this.insertText(F)},_.prototype.shouldManageDeletingInDirection=function(g){var E;if(E=this.getLocationRange(),f(E)){if(g==="backward"&&E[0].offset===0||this.shouldManageMovingCursorInDirection(g))return!0}else if(E[0].index!==E[1].index)return!0;return!1},_.prototype.deleteInDirection=function(g,E){var b,T,A,S,M,R,F,I;return S=(E??{}).length,M=this.getLocationRange(),R=this.getSelectedRange(),F=f(R),F?A=g==="backward"&&M[0].offset===0:I=M[0].index!==M[1].index,A&&this.canDecreaseBlockAttributeLevel()&&(T=this.getBlock(),T.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(R[0]),T.isEmpty())?!1:(F&&(R=this.getExpandedRangeInDirection(g,{length:S}),g==="backward"&&(b=this.getAttachmentAtRange(R))),b?(this.editAttachment(b),!1):(this.setDocument(this.document.removeTextAtRange(R)),this.setSelection(R[0]),A||I?!1:void 0))},_.prototype.moveTextFromRange=function(g){var E;return E=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(g,E)),this.setSelection(E)},_.prototype.removeAttachment=function(g){var E;return(E=this.document.getRangeOfAttachment(g))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(E)),this.setSelection(E[0])):void 0},_.prototype.removeLastBlockAttribute=function(){var g,E,b,T;return b=this.getSelectedRange(),T=b[0],E=b[1],g=this.document.getBlockAtPosition(E),this.removeCurrentAttribute(g.getLastAttribute()),this.setSelection(T)},y=" ",_.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(y)},_.prototype.selectPlaceholder=function(){return this.placeholderPosition!=null?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+y.length]),this.getSelectedRange()):void 0},_.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},_.prototype.hasCurrentAttribute=function(g){var E;return E=this.currentAttributes[g],E!=null&&E!==!1},_.prototype.toggleCurrentAttribute=function(g){var E;return(E=!this.currentAttributes[g])?this.setCurrentAttribute(g,E):this.removeCurrentAttribute(g)},_.prototype.canSetCurrentAttribute=function(g){return a(g)?this.canSetCurrentBlockAttribute(g):this.canSetCurrentTextAttribute(g)},_.prototype.canSetCurrentTextAttribute=function(){var g,E,b,T,A;if(E=this.getSelectedDocument()){for(A=E.getAttachments(),b=0,T=A.length;T>b;b++)if(g=A[b],!g.hasContent())return!1;return!0}},_.prototype.canSetCurrentBlockAttribute=function(){var g;if(g=this.getBlock())return!g.isTerminalBlock()},_.prototype.setCurrentAttribute=function(g,E){return a(g)?this.setBlockAttribute(g,E):(this.setTextAttribute(g,E),this.currentAttributes[g]=E,this.notifyDelegateOfCurrentAttributesChange())},_.prototype.setTextAttribute=function(g,E){var b,T,A,S;if(T=this.getSelectedRange())return A=T[0],b=T[1],A!==b?this.setDocument(this.document.addAttributeAtRange(g,E,T)):g==="href"?(S=i.Text.textForStringWithAttributes(E,{href:E}),this.insertText(S)):void 0},_.prototype.setBlockAttribute=function(g,E){var b;if(b=this.getSelectedRange())return this.canSetCurrentAttribute(g)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(g,E,b)),this.setSelection(b)):void 0},_.prototype.removeCurrentAttribute=function(g){return a(g)?(this.removeBlockAttribute(g),this.updateCurrentAttributes()):(this.removeTextAttribute(g),delete this.currentAttributes[g],this.notifyDelegateOfCurrentAttributesChange())},_.prototype.removeTextAttribute=function(g){var E;if(E=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(g,E))},_.prototype.removeBlockAttribute=function(g){var E;if(E=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(g,E))},_.prototype.canDecreaseNestingLevel=function(){var g;return((g=this.getBlock())!=null?g.getNestingLevel():void 0)>0},_.prototype.canIncreaseNestingLevel=function(){var g,E,b;if(g=this.getBlock())return(b=a(g.getLastNestableAttribute()))!=null&&b.listAttribute?(E=this.getPreviousBlock())?r(E.getListItemAttributes(),g.getListItemAttributes()):void 0:g.getNestingLevel()>0},_.prototype.decreaseNestingLevel=function(){var g;if(g=this.getBlock())return this.setDocument(this.document.replaceBlock(g,g.decreaseNestingLevel()))},_.prototype.increaseNestingLevel=function(){var g;if(g=this.getBlock())return this.setDocument(this.document.replaceBlock(g,g.increaseNestingLevel()))},_.prototype.canDecreaseBlockAttributeLevel=function(){var g;return((g=this.getBlock())!=null?g.getAttributeLevel():void 0)>0},_.prototype.decreaseBlockAttributeLevel=function(){var g,E;return(g=(E=this.getBlock())!=null?E.getLastAttribute():void 0)?this.removeCurrentAttribute(g):void 0},_.prototype.decreaseListLevel=function(){var g,E,b,T,A,S;for(S=this.getSelectedRange()[0],A=this.document.locationFromPosition(S).index,b=A,g=this.getBlock().getAttributeLevel();(E=this.document.getBlockAtIndex(b+1))&&E.isListItem()&&E.getAttributeLevel()>g;)b++;return S=this.document.positionFromLocation({index:A,offset:0}),T=this.document.positionFromLocation({index:b,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([S,T]))},_.prototype.updateCurrentAttributes=function(){var g,E,b,T,A,S;if(S=this.getSelectedRange({ignoreLock:!0})){for(E=this.document.getCommonAttributesAtRange(S),A=o(),b=0,T=A.length;T>b;b++)g=A[b],E[g]||this.canSetCurrentAttribute(g)||(E[g]=!1);if(!c(E,this.currentAttributes))return this.currentAttributes=E,this.notifyDelegateOfCurrentAttributesChange()}},_.prototype.getCurrentAttributes=function(){return s.call({},this.currentAttributes)},_.prototype.getCurrentTextAttributes=function(){var g,E,b,T;g={},b=this.currentAttributes;for(E in b)T=b[E],T!==!1&&u(E)&&(g[E]=T);return g},_.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},_.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},_.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},_.proxyMethod("getSelectionManager().getPointRange"),_.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),_.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),_.proxyMethod("getSelectionManager().locationIsCursorTarget"),_.proxyMethod("getSelectionManager().selectionIsExpanded"),_.proxyMethod("delegate?.getSelectionManager"),_.prototype.setSelection=function(g){var E,b;return E=this.document.locationRangeFromRange(g),(b=this.delegate)!=null?b.compositionDidRequestChangingSelectionToLocationRange(E):void 0},_.prototype.getSelectedRange=function(){var g;return(g=this.getLocationRange())?this.document.rangeFromLocationRange(g):void 0},_.prototype.setSelectedRange=function(g){var E;return E=this.document.locationRangeFromRange(g),this.getSelectionManager().setLocationRange(E)},_.prototype.getPosition=function(){var g;return(g=this.getLocationRange())?this.document.positionFromLocation(g[0]):void 0},_.prototype.getLocationRange=function(g){var E,b;return(E=(b=this.targetLocationRange)!=null?b:this.getSelectionManager().getLocationRange(g))!=null?E:l({index:0,offset:0})},_.prototype.withTargetLocationRange=function(g,E){var b;this.targetLocationRange=g;try{b=E()}finally{this.targetLocationRange=null}return b},_.prototype.withTargetRange=function(g,E){var b;return b=this.document.locationRangeFromRange(g),this.withTargetLocationRange(b,E)},_.prototype.withTargetDOMRange=function(g,E){var b;return b=this.createLocationRangeFromDOMRange(g,{strict:!1}),this.withTargetLocationRange(b,E)},_.prototype.getExpandedRangeInDirection=function(g,E){var b,T,A,S;return T=(E??{}).length,A=this.getSelectedRange(),S=A[0],b=A[1],g==="backward"?T?S-=T:S=this.translateUTF16PositionFromOffset(S,-1):T?b+=T:b=this.translateUTF16PositionFromOffset(b,1),l([S,b])},_.prototype.shouldManageMovingCursorInDirection=function(g){var E;return this.editingAttachment?!0:(E=this.getExpandedRangeInDirection(g),this.getAttachmentAtRange(E)!=null)},_.prototype.moveCursorInDirection=function(g){var E,b,T,A;return this.editingAttachment?T=this.document.getRangeOfAttachment(this.editingAttachment):(A=this.getSelectedRange(),T=this.getExpandedRangeInDirection(g),b=!d(A,T)),this.setSelectedRange(g==="backward"?T[0]:T[1]),b&&(E=this.getAttachmentAtRange(T))?this.editAttachment(E):void 0},_.prototype.expandSelectionInDirection=function(g,E){var b,T;return b=(E??{}).length,T=this.getExpandedRangeInDirection(g,{length:b}),this.setSelectedRange(T)},_.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},_.prototype.expandSelectionAroundCommonAttribute=function(g){var E,b;return E=this.getPosition(),b=this.document.getRangeOfCommonAttributeAtPosition(g,E),this.setSelectedRange(b)},_.prototype.selectionContainsAttachments=function(){var g;return((g=this.getSelectedAttachments())!=null?g.length:void 0)>0},_.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},_.prototype.positionIsCursorTarget=function(g){var E;return(E=this.document.locationFromPosition(g))?this.locationIsCursorTarget(E):void 0},_.prototype.positionIsBlockBreak=function(g){var E;return(E=this.document.getPieceAtPosition(g))!=null?E.isBlockBreak():void 0},_.prototype.getSelectedDocument=function(){var g;return(g=this.getSelectedRange())?this.document.getDocumentAtRange(g):void 0},_.prototype.getSelectedAttachments=function(){var g;return(g=this.getSelectedDocument())!=null?g.getAttachments():void 0},_.prototype.getAttachments=function(){return this.attachments.slice(0)},_.prototype.refreshAttachments=function(){var g,E,b,T,A,S,M,R,F,I,w,x;for(b=this.document.getAttachments(),R=p(this.attachments,b),g=R.added,w=R.removed,this.attachments=b,T=0,S=w.length;S>T;T++)E=w[T],E.delegate=null,(F=this.delegate)!=null&&typeof F.compositionDidRemoveAttachment=="function"&&F.compositionDidRemoveAttachment(E);for(x=[],A=0,M=g.length;M>A;A++)E=g[A],E.delegate=this,x.push((I=this.delegate)!=null&&typeof I.compositionDidAddAttachment=="function"?I.compositionDidAddAttachment(E):void 0);return x},_.prototype.attachmentDidChangeAttributes=function(g){var E;return this.revision++,(E=this.delegate)!=null&&typeof E.compositionDidEditAttachment=="function"?E.compositionDidEditAttachment(g):void 0},_.prototype.attachmentDidChangePreviewURL=function(g){var E;return this.revision++,(E=this.delegate)!=null&&typeof E.compositionDidChangeAttachmentPreviewURL=="function"?E.compositionDidChangeAttachmentPreviewURL(g):void 0},_.prototype.editAttachment=function(g,E){var b;if(g!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=g,(b=this.delegate)!=null&&typeof b.compositionDidStartEditingAttachment=="function"?b.compositionDidStartEditingAttachment(this.editingAttachment,E):void 0},_.prototype.stopEditingAttachment=function(){var g;if(this.editingAttachment)return(g=this.delegate)!=null&&typeof g.compositionDidStopEditingAttachment=="function"&&g.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},_.prototype.updateAttributesForAttachment=function(g,E){return this.setDocument(this.document.updateAttributesForAttachment(g,E))},_.prototype.removeAttributeForAttachment=function(g,E){return this.setDocument(this.document.removeAttributeForAttachment(g,E))},_.prototype.breakFormattedBlock=function(g){var E,b,T,A,S;return b=g.document,E=g.block,A=g.startPosition,S=[A-1,A],E.getBlockBreakPosition()===g.startLocation.offset?(E.breaksOnReturn()&&g.nextCharacter===`
`?A+=1:b=b.removeTextAtRange(S),S=[A,A]):g.nextCharacter===`
`?g.previousCharacter===`
`?S=[A-1,A+1]:(S=[A,A+1],A+=1):g.startLocation.offset-1!==0&&(A+=1),T=new i.Document([E.removeLastAttribute().copyWithoutText()]),this.setDocument(b.insertDocumentAtRange(T,S)),this.setSelection(A)},_.prototype.getPreviousBlock=function(){var g,E;return(E=this.getLocationRange())&&(g=E[0].index,g>0)?this.document.getBlockAtIndex(g-1):void 0},_.prototype.getBlock=function(){var g;return(g=this.getLocationRange())?this.document.getBlockAtIndex(g[0].index):void 0},_.prototype.getAttachmentAtRange=function(g){var E;return E=this.document.getDocumentAtRange(g),E.toString()===i.OBJECT_REPLACEMENT_CHARACTER+`
`?E.getAttachments()[0]:void 0},_.prototype.notifyDelegateOfCurrentAttributesChange=function(){var g;return(g=this.delegate)!=null&&typeof g.compositionDidChangeCurrentAttributes=="function"?g.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},_.prototype.notifyDelegateOfInsertionAtRange=function(g){var E;return(E=this.delegate)!=null&&typeof E.compositionDidPerformInsertionAtRange=="function"?E.compositionDidPerformInsertionAtRange(g):void 0},_.prototype.translateUTF16PositionFromOffset=function(g,E){var b,T;return T=this.document.toUTF16String(),b=T.offsetFromUCS2Offset(g),T.offsetToUCS2Offset(b+E)},_}(i.BasicObject)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.UndoManager=function(o){function a(l){this.composition=l,this.undoEntries=[],this.redoEntries=[]}var u;return r(a,o),a.prototype.recordUndoEntry=function(l,c){var f,d,p,m,h;return m=c??{},d=m.context,f=m.consolidatable,p=this.undoEntries.slice(-1)[0],f&&u(p,l,d)?void 0:(h=this.createEntry({description:l,context:d}),this.undoEntries.push(h),this.redoEntries=[])},a.prototype.undo=function(){var l,c;return(c=this.undoEntries.pop())?(l=this.createEntry(c),this.redoEntries.push(l),this.composition.loadSnapshot(c.snapshot)):void 0},a.prototype.redo=function(){var l,c;return(l=this.redoEntries.pop())?(c=this.createEntry(l),this.undoEntries.push(c),this.composition.loadSnapshot(l.snapshot)):void 0},a.prototype.canUndo=function(){return this.undoEntries.length>0},a.prototype.canRedo=function(){return this.redoEntries.length>0},a.prototype.createEntry=function(l){var c,f,d;return d=l??{},f=d.description,c=d.context,{description:f!=null?f.toString():void 0,context:JSON.stringify(c),snapshot:this.composition.getSnapshot()}},u=function(l,c,f){return(l!=null?l.description:void 0)===(c!=null?c.toString():void 0)&&(l!=null?l.context:void 0)===JSON.stringify(f)},a}(i.BasicObject)}.call(this),function(){var r;i.attachmentGalleryFilter=function(s){var o;return o=new r(s),o.perform(),o.getSnapshot()},r=function(){function s(l){this.document=l.document,this.selectedRange=l.selectedRange}var o,a,u;return o="attachmentGallery",a="presentation",u="gallery",s.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},s.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},s.prototype.removeBlockAttribute=function(){var l,c,f,d,p;for(d=this.findRangesOfBlocks(),p=[],l=0,c=d.length;c>l;l++)f=d[l],p.push(this.document=this.document.removeAttributeAtRange(o,f));return p},s.prototype.applyBlockAttribute=function(){var l,c,f,d,p,m;for(f=0,p=this.findRangesOfPieces(),m=[],l=0,c=p.length;c>l;l++)d=p[l],d[1]-d[0]>1&&(d[0]+=f,d[1]+=f,this.document.getCharacterAtPosition(d[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(d[1]),d[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),d[1]++,f++),d[0]!==0&&this.document.getCharacterAtPosition(d[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(d[0]),d[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),d[0]++,f++),m.push(this.document=this.document.applyBlockAttributeAtRange(o,!0,d)));return m},s.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(o)},s.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute(a,{withValue:u})},s.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},s}()}.call(this),function(){var r=function(s,o){return function(){return s.apply(o,arguments)}};i.Editor=function(){function s(a,u,l){this.composition=a,this.selectionManager=u,this.element=l,this.insertFiles=r(this.insertFiles,this),this.undoManager=new i.UndoManager(this.composition),this.filters=o.slice(0)}var o;return o=[i.attachmentGalleryFilter],s.prototype.loadDocument=function(a){return this.loadSnapshot({document:a,selectedRange:[0,0]})},s.prototype.loadHTML=function(a){return a==null&&(a=""),this.loadDocument(i.Document.fromHTML(a,{referenceElement:this.element}))},s.prototype.loadJSON=function(a){var u,l;return u=a.document,l=a.selectedRange,u=i.Document.fromJSON(u),this.loadSnapshot({document:u,selectedRange:l})},s.prototype.loadSnapshot=function(a){return this.undoManager=new i.UndoManager(this.composition),this.composition.loadSnapshot(a)},s.prototype.getDocument=function(){return this.composition.document},s.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},s.prototype.getSnapshot=function(){return this.composition.getSnapshot()},s.prototype.toJSON=function(){return this.getSnapshot()},s.prototype.deleteInDirection=function(a){return this.composition.deleteInDirection(a)},s.prototype.insertAttachment=function(a){return this.composition.insertAttachment(a)},s.prototype.insertAttachments=function(a){return this.composition.insertAttachments(a)},s.prototype.insertDocument=function(a){return this.composition.insertDocument(a)},s.prototype.insertFile=function(a){return this.composition.insertFile(a)},s.prototype.insertFiles=function(a){return this.composition.insertFiles(a)},s.prototype.insertHTML=function(a){return this.composition.insertHTML(a)},s.prototype.insertString=function(a){return this.composition.insertString(a)},s.prototype.insertText=function(a){return this.composition.insertText(a)},s.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},s.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},s.prototype.getPosition=function(){return this.composition.getPosition()},s.prototype.getClientRectAtPosition=function(a){var u;return u=this.getDocument().locationRangeFromRange([a,a+1]),this.selectionManager.getClientRectAtLocationRange(u)},s.prototype.expandSelectionInDirection=function(a){return this.composition.expandSelectionInDirection(a)},s.prototype.moveCursorInDirection=function(a){return this.composition.moveCursorInDirection(a)},s.prototype.setSelectedRange=function(a){return this.composition.setSelectedRange(a)},s.prototype.activateAttribute=function(a,u){return u==null&&(u=!0),this.composition.setCurrentAttribute(a,u)},s.prototype.attributeIsActive=function(a){return this.composition.hasCurrentAttribute(a)},s.prototype.canActivateAttribute=function(a){return this.composition.canSetCurrentAttribute(a)},s.prototype.deactivateAttribute=function(a){return this.composition.removeCurrentAttribute(a)},s.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},s.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},s.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},s.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},s.prototype.canRedo=function(){return this.undoManager.canRedo()},s.prototype.canUndo=function(){return this.undoManager.canUndo()},s.prototype.recordUndoEntry=function(a,u){var l,c,f;return f=u??{},c=f.context,l=f.consolidatable,this.undoManager.recordUndoEntry(a,{context:c,consolidatable:l})},s.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},s.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},s}()}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.ManagedAttachment=function(o){function a(u,l){var c;this.attachmentManager=u,this.attachment=l,c=this.attachment,this.id=c.id,this.file=c.file}return r(a,o),a.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},a.proxyMethod("attachment.getAttribute"),a.proxyMethod("attachment.hasAttribute"),a.proxyMethod("attachment.setAttribute"),a.proxyMethod("attachment.getAttributes"),a.proxyMethod("attachment.setAttributes"),a.proxyMethod("attachment.isPending"),a.proxyMethod("attachment.isPreviewable"),a.proxyMethod("attachment.getURL"),a.proxyMethod("attachment.getHref"),a.proxyMethod("attachment.getFilename"),a.proxyMethod("attachment.getFilesize"),a.proxyMethod("attachment.getFormattedFilesize"),a.proxyMethod("attachment.getExtension"),a.proxyMethod("attachment.getContentType"),a.proxyMethod("attachment.getFile"),a.proxyMethod("attachment.setFile"),a.proxyMethod("attachment.releaseFile"),a.proxyMethod("attachment.getUploadProgress"),a.proxyMethod("attachment.setUploadProgress"),a}(i.BasicObject)}.call(this),function(){var r=function(o,a){function u(){this.constructor=o}for(var l in a)s.call(a,l)&&(o[l]=a[l]);return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},s={}.hasOwnProperty;i.AttachmentManager=function(o){function a(u){var l,c,f;for(u==null&&(u=[]),this.managedAttachments={},c=0,f=u.length;f>c;c++)l=u[c],this.manageAttachment(l)}return r(a,o),a.prototype.getAttachments=function(){var u,l,c,f;c=this.managedAttachments,f=[];for(l in c)u=c[l],f.push(u);return f},a.prototype.manageAttachment=function(u){var l,c;return(l=this.managedAttachments)[c=u.id]!=null?l[c]:l[c]=new i.ManagedAttachment(this,u)},a.prototype.attachmentIsManaged=function(u){return u.id in this.managedAttachments},a.prototype.requestRemovalOfAttachment=function(u){var l;return this.attachmentIsManaged(u)&&(l=this.delegate)!=null&&typeof l.attachmentManagerDidRequestRemovalOfAttachment=="function"?l.attachmentManagerDidRequestRemovalOfAttachment(u):void 0},a.prototype.unmanageAttachment=function(u){var l;return l=this.managedAttachments[u.id],delete this.managedAttachments[u.id],l},a}(i.BasicObject)}.call(this),function(){var r,s,o,a,u,l,c,f,d,p,m;r=i.elementContainsNode,s=i.findChildIndexOfNode,u=i.nodeIsBlockStart,l=i.nodeIsBlockStartComment,a=i.nodeIsBlockContainer,c=i.nodeIsCursorTarget,f=i.nodeIsEmptyTextNode,d=i.nodeIsTextNode,o=i.nodeIsAttachmentElement,p=i.tagName,m=i.walkTree,i.LocationMapper=function(){function h(E){this.element=E}var v,_,y,g;return h.prototype.findLocationFromContainerAndOffset=function(E,b,T){var A,S,M,R,F,I,w;for(I=(T??{strict:!0}).strict,S=0,M=!1,R={index:0,offset:0},(A=this.findAttachmentElementParentForNode(E))&&(E=A.parentNode,b=s(A)),w=m(this.element,{usingFilter:y});w.nextNode();){if(F=w.currentNode,F===E&&d(E)){c(F)||(R.offset+=b);break}if(F.parentNode===E){if(S++===b)break}else if(!r(E,F)&&S>0)break;u(F,{strict:I})?(M&&R.index++,R.offset=0,M=!0):R.offset+=_(F)}return R},h.prototype.findContainerAndOffsetFromLocation=function(E){var b,T,A,S,M;if(E.index===0&&E.offset===0){for(b=this.element,S=0;b.firstChild;)if(b=b.firstChild,a(b)){S=1;break}return[b,S]}if(M=this.findNodeAndOffsetFromLocation(E),T=M[0],A=M[1],T){if(d(T))_(T)===0?(b=T.parentNode.parentNode,S=s(T.parentNode),c(T,{name:"right"})&&S++):(b=T,S=E.offset-A);else{if(b=T.parentNode,!u(T.previousSibling)&&!a(b))for(;T===b.lastChild&&(T=b,b=b.parentNode,!a(b)););S=s(T),E.offset!==0&&S++}return[b,S]}},h.prototype.findNodeAndOffsetFromLocation=function(E){var b,T,A,S,M,R,F,I;for(F=0,I=this.getSignificantNodesForIndex(E.index),T=0,A=I.length;A>T;T++){if(b=I[T],S=_(b),E.offset<=F+S)if(d(b)){if(M=b,R=F,E.offset===R&&c(M))break}else M||(M=b,R=F);if(F+=S,F>E.offset)break}return[M,R]},h.prototype.findAttachmentElementParentForNode=function(E){for(;E&&E!==this.element;){if(o(E))return E;E=E.parentNode}},h.prototype.getSignificantNodesForIndex=function(E){var b,T,A,S,M;for(A=[],M=m(this.element,{usingFilter:v}),S=!1;M.nextNode();)if(T=M.currentNode,l(T)){if(typeof b<"u"&&b!==null?b++:b=0,b===E)S=!0;else if(S)break}else S&&A.push(T);return A},_=function(E){var b;return E.nodeType===Node.TEXT_NODE?c(E)?0:(b=E.textContent,b.length):p(E)==="br"||o(E)?1:0},v=function(E){return g(E)===NodeFilter.FILTER_ACCEPT?y(E):NodeFilter.FILTER_REJECT},g=function(E){return f(E)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},y=function(E){return o(E.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},h}()}.call(this),function(){var r,s,o=[].slice;r=i.getDOMRange,s=i.setDOMRange,i.PointMapper=function(){function a(){}return a.prototype.createDOMRangeFromPoint=function(u){var l,c,f,d,p,m,h,v;if(h=u.x,v=u.y,document.caretPositionFromPoint)return p=document.caretPositionFromPoint(h,v),f=p.offsetNode,c=p.offset,l=document.createRange(),l.setStart(f,c),l;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(h,v);if(document.body.createTextRange){d=r();try{m=document.body.createTextRange(),m.moveToPoint(h,v),m.select()}catch{}return l=r(),s(d),l}},a.prototype.getClientRectsForDOMRange=function(u){var l,c,f;return c=o.call(u.getClientRects()),f=c[0],l=c[c.length-1],[f,l]},a}()}.call(this),function(){var r,s=function(l,c){return function(){return l.apply(c,arguments)}},o=function(l,c){function f(){this.constructor=l}for(var d in c)a.call(c,d)&&(l[d]=c[d]);return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},a={}.hasOwnProperty,u=[].indexOf||function(l){for(var c=0,f=this.length;f>c;c++)if(c in this&&this[c]===l)return c;return-1};r=i.getDOMRange,i.SelectionChangeObserver=function(l){function c(){this.run=s(this.run,this),this.update=s(this.update,this),this.selectionManagers=[]}var f;return o(c,l),c.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},c.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},c.prototype.registerSelectionManager=function(d){return u.call(this.selectionManagers,d)<0?(this.selectionManagers.push(d),this.start()):void 0},c.prototype.unregisterSelectionManager=function(d){var p;return this.selectionManagers=function(){var m,h,v,_;for(v=this.selectionManagers,_=[],m=0,h=v.length;h>m;m++)p=v[m],p!==d&&_.push(p);return _}.call(this),this.selectionManagers.length===0?this.stop():void 0},c.prototype.notifySelectionManagersOfSelectionChange=function(){var d,p,m,h,v;for(m=this.selectionManagers,h=[],d=0,p=m.length;p>d;d++)v=m[d],h.push(v.selectionDidChange());return h},c.prototype.update=function(){var d;return d=r(),f(d,this.domRange)?void 0:(this.domRange=d,this.notifySelectionManagersOfSelectionChange())},c.prototype.reset=function(){return this.domRange=null,this.update()},c.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},f=function(d,p){return(d!=null?d.startContainer:void 0)===(p!=null?p.startContainer:void 0)&&(d!=null?d.startOffset:void 0)===(p!=null?p.startOffset:void 0)&&(d!=null?d.endContainer:void 0)===(p!=null?p.endContainer:void 0)&&(d!=null?d.endOffset:void 0)===(p!=null?p.endOffset:void 0)},c}(i.BasicObject),i.selectionChangeObserver==null&&(i.selectionChangeObserver=new i.SelectionChangeObserver)}.call(this),function(){var r,s,o,a,u,l,c,f,d,p,m=function(_,y){return function(){return _.apply(y,arguments)}},h=function(_,y){function g(){this.constructor=_}for(var E in y)v.call(y,E)&&(_[E]=y[E]);return g.prototype=y.prototype,_.prototype=new g,_.__super__=y.prototype,_},v={}.hasOwnProperty;o=i.getDOMSelection,s=i.getDOMRange,p=i.setDOMRange,r=i.elementContainsNode,l=i.nodeIsCursorTarget,u=i.innerElementIsActive,a=i.handleEvent,c=i.normalizeRange,f=i.rangeIsCollapsed,d=i.rangesAreEqual,i.SelectionManager=function(_){function y(g){this.element=g,this.selectionDidChange=m(this.selectionDidChange,this),this.didMouseDown=m(this.didMouseDown,this),this.locationMapper=new i.LocationMapper(this.element),this.pointMapper=new i.PointMapper,this.lockCount=0,a("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return h(y,_),y.prototype.getLocationRange=function(g){var E;return g==null&&(g={}),g.strict===!1?this.createLocationRangeFromDOMRange(s(),{strict:!1}):g.ignoreLock?this.currentLocationRange:(E=this.lockedLocationRange)!=null?E:this.currentLocationRange},y.prototype.setLocationRange=function(g){var E;if(!this.lockedLocationRange)return g=c(g),(E=this.createDOMRangeFromLocationRange(g))?(p(E),this.updateCurrentLocationRange(g)):void 0},y.prototype.setLocationRangeFromPointRange=function(g){var E,b;return g=c(g),b=this.getLocationAtPoint(g[0]),E=this.getLocationAtPoint(g[1]),this.setLocationRange([b,E])},y.prototype.getClientRectAtLocationRange=function(g){var E;return(E=this.createDOMRangeFromLocationRange(g))?this.getClientRectsForDOMRange(E)[1]:void 0},y.prototype.locationIsCursorTarget=function(g){var E,b;return b=this.findNodeAndOffsetFromLocation(g),E=b[0],b[1],l(E)},y.prototype.lock=function(){return this.lockCount++===0?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},y.prototype.unlock=function(){var g;return--this.lockCount===0&&(g=this.lockedLocationRange,this.lockedLocationRange=null,g!=null)?this.setLocationRange(g):void 0},y.prototype.clearSelection=function(){var g;return(g=o())!=null?g.removeAllRanges():void 0},y.prototype.selectionIsCollapsed=function(){var g;return((g=s())!=null?g.collapsed:void 0)===!0},y.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},y.prototype.createLocationRangeFromDOMRange=function(g,E){var b,T;if(g!=null&&this.domRangeWithinElement(g)&&(T=this.findLocationFromContainerAndOffset(g.startContainer,g.startOffset,E)))return g.collapsed||(b=this.findLocationFromContainerAndOffset(g.endContainer,g.endOffset,E)),c([T,b])},y.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),y.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),y.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),y.proxyMethod("pointMapper.createDOMRangeFromPoint"),y.proxyMethod("pointMapper.getClientRectsForDOMRange"),y.prototype.didMouseDown=function(){return this.pauseTemporarily()},y.prototype.pauseTemporarily=function(){var g,E,b,T;return this.paused=!0,E=function(A){return function(){var S,M,R;for(A.paused=!1,clearTimeout(T),M=0,R=b.length;R>M;M++)S=b[M],S.destroy();return r(document,A.element)?A.selectionDidChange():void 0}}(this),T=setTimeout(E,200),b=function(){var A,S,M,R;for(M=["mousemove","keydown"],R=[],A=0,S=M.length;S>A;A++)g=M[A],R.push(a(g,{onElement:document,withCallback:E}));return R}()},y.prototype.selectionDidChange=function(){return this.paused||u(this.element)?void 0:this.updateCurrentLocationRange()},y.prototype.updateCurrentLocationRange=function(g){var E;return(g??(g=this.createLocationRangeFromDOMRange(s())))&&!d(g,this.currentLocationRange)?(this.currentLocationRange=g,(E=this.delegate)!=null&&typeof E.locationRangeDidChange=="function"?E.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},y.prototype.createDOMRangeFromLocationRange=function(g){var E,b,T,A;return T=this.findContainerAndOffsetFromLocation(g[0]),b=f(g)?T:(A=this.findContainerAndOffsetFromLocation(g[1]))!=null?A:T,T!=null&&b!=null?(E=document.createRange(),E.setStart.apply(E,T),E.setEnd.apply(E,b),E):void 0},y.prototype.getLocationAtPoint=function(g){var E,b;return(E=this.createDOMRangeFromPoint(g))&&(b=this.createLocationRangeFromDOMRange(E))!=null?b[0]:void 0},y.prototype.domRangeWithinElement=function(g){return g.collapsed?r(this.element,g.startContainer):r(this.element,g.startContainer)&&r(this.element,g.endContainer)},y}(i.BasicObject)}.call(this),function(){var r,s,o,a,u=function(f,d){function p(){this.constructor=f}for(var m in d)l.call(d,m)&&(f[m]=d[m]);return p.prototype=d.prototype,f.prototype=new p,f.__super__=d.prototype,f},l={}.hasOwnProperty,c=[].slice;o=i.rangeIsCollapsed,a=i.rangesAreEqual,s=i.objectsAreEqual,r=i.getBlockConfig,i.EditorController=function(f){function d(m){var h,v;this.editorElement=m.editorElement,h=m.document,v=m.html,this.selectionManager=new i.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new i.Composition,this.composition.delegate=this,this.attachmentManager=new i.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new i["Level"+i.config.input.getLevel()+"InputController"](this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new i.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new i.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new i.Editor(this.composition,this.selectionManager,this.editorElement),h!=null?this.editor.loadDocument(h):this.editor.loadHTML(v)}var p;return u(d,f),d.prototype.registerSelectionManager=function(){return i.selectionChangeObserver.registerSelectionManager(this.selectionManager)},d.prototype.unregisterSelectionManager=function(){return i.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},d.prototype.render=function(){return this.compositionController.render()},d.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},d.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},d.prototype.compositionDidChangeCurrentAttributes=function(m){return this.currentAttributes=m,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},d.prototype.compositionDidPerformInsertionAtRange=function(m){return this.pasting?this.pastedRange=m:void 0},d.prototype.compositionShouldAcceptFile=function(m){return this.notifyEditorElement("file-accept",{file:m})},d.prototype.compositionDidAddAttachment=function(m){var h;return h=this.attachmentManager.manageAttachment(m),this.notifyEditorElement("attachment-add",{attachment:h})},d.prototype.compositionDidEditAttachment=function(m){var h;return this.compositionController.rerenderViewForObject(m),h=this.attachmentManager.manageAttachment(m),this.notifyEditorElement("attachment-edit",{attachment:h}),this.notifyEditorElement("change")},d.prototype.compositionDidChangeAttachmentPreviewURL=function(m){return this.compositionController.invalidateViewForObject(m),this.notifyEditorElement("change")},d.prototype.compositionDidRemoveAttachment=function(m){var h;return h=this.attachmentManager.unmanageAttachment(m),this.notifyEditorElement("attachment-remove",{attachment:h})},d.prototype.compositionDidStartEditingAttachment=function(m,h){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(m),this.compositionController.installAttachmentEditorForAttachment(m,h),this.selectionManager.setLocationRange(this.attachmentLocationRange)},d.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},d.prototype.compositionDidRequestChangingSelectionToLocationRange=function(m){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=m,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},d.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},d.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},d.prototype.getSelectionManager=function(){return this.selectionManager},d.proxyMethod("getSelectionManager().setLocationRange"),d.proxyMethod("getSelectionManager().getLocationRange"),d.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(m){return this.removeAttachment(m)},d.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},d.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},d.prototype.compositionControllerDidRender=function(){return this.requestedLocationRange!=null&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},d.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},d.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},d.prototype.compositionControllerDidSelectAttachment=function(m,h){return this.toolbarController.hideDialog(),this.composition.editAttachment(m,h)},d.prototype.compositionControllerDidRequestDeselectingAttachment=function(m){var h,v;return h=(v=this.attachmentLocationRange)!=null?v:this.composition.document.getLocationRangeOfAttachment(m),this.selectionManager.setLocationRange(h[1])},d.prototype.compositionControllerWillUpdateAttachment=function(m){return this.editor.recordUndoEntry("Edit Attachment",{context:m.id,consolidatable:!0})},d.prototype.compositionControllerDidRequestRemovalOfAttachment=function(m){return this.removeAttachment(m)},d.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},d.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},d.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},d.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},d.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},d.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},d.prototype.inputControllerWillPerformFormatting=function(m){return this.recordFormattingUndoEntry(m)},d.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},d.prototype.inputControllerWillPaste=function(m){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:m})},d.prototype.inputControllerDidPaste=function(m){return m.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:m})},d.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},d.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},d.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},d.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},d.prototype.inputControllerDidReceiveKeyboardCommand=function(m){return this.toolbarController.applyKeyboardCommand(m)},d.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},d.prototype.inputControllerDidReceiveDragOverPoint=function(m){return this.selectionManager.setLocationRangeFromPointRange(m)},d.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},d.prototype.locationRangeDidChange=function(m){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!a(this.attachmentLocationRange,m)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},d.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},d.prototype.toolbarDidInvokeAction=function(m){return this.invokeAction(m)},d.prototype.toolbarDidToggleAttribute=function(m){return this.recordFormattingUndoEntry(m),this.composition.toggleCurrentAttribute(m),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarDidUpdateAttribute=function(m,h){return this.recordFormattingUndoEntry(m),this.composition.setCurrentAttribute(m,h),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarDidRemoveAttribute=function(m){return this.recordFormattingUndoEntry(m),this.composition.removeCurrentAttribute(m),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},d.prototype.toolbarDidShowDialog=function(m){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:m})},d.prototype.toolbarDidHideDialog=function(m){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:m})},d.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},d.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},d.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return i.config.input.pickFiles(this.editor.insertFiles)}}},d.prototype.canInvokeAction=function(m){var h,v;return this.actionIsExternal(m)?!0:!!((h=this.actions[m])!=null&&(v=h.test)!=null&&v.call(this))},d.prototype.invokeAction=function(m){var h,v;return this.actionIsExternal(m)?this.notifyEditorElement("action-invoke",{actionName:m}):(h=this.actions[m])!=null&&(v=h.perform)!=null?v.call(this):void 0},d.prototype.actionIsExternal=function(m){return/^x-./.test(m)},d.prototype.getCurrentActions=function(){var m,h;h={};for(m in this.actions)h[m]=this.canInvokeAction(m);return h},d.prototype.updateCurrentActions=function(){var m;return m=this.getCurrentActions(),s(m,this.currentActions)?void 0:(this.currentActions=m,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},d.prototype.runEditorFilters=function(){var m,h,v,_,y,g,E,b;for(b=this.composition.getSnapshot(),y=this.editor.filters,v=0,_=y.length;_>v;v++)h=y[v],m=b.document,E=b.selectedRange,b=(g=h.call(this.editor,b))!=null?g:{},b.document==null&&(b.document=m),b.selectedRange==null&&(b.selectedRange=E);return p(b,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(b)},p=function(m,h){return a(m.selectedRange,h.selectedRange)&&m.document.isEqualTo(h.document)},d.prototype.updateInputElement=function(){var m,h;return m=this.compositionController.getSerializableElement(),h=i.serializeToContentType(m,"text/html"),this.editorElement.setInputElementValue(h)},d.prototype.notifyEditorElement=function(m,h){switch(m){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(m,h)},d.prototype.removeAttachment=function(m){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(m),this.render()},d.prototype.recordFormattingUndoEntry=function(m){var h,v;return h=r(m),v=this.selectionManager.getLocationRange(),h||!o(v)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},d.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},d.prototype.getUndoContext=function(){var m;return m=1<=arguments.length?c.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(c.call(m))},d.prototype.getLocationContext=function(){var m;return m=this.selectionManager.getLocationRange(),o(m)?m[0].index:m},d.prototype.getTimeContext=function(){return i.config.undoInterval>0?Math.floor(new Date().getTime()/i.config.undoInterval):0},d.prototype.isFocused=function(){var m;return this.editorElement===((m=this.editorElement.ownerDocument)!=null?m.activeElement:void 0)},d.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},d}(i.Controller)}.call(this),function(){var r,s,o,a,u,l,c,f=[].indexOf||function(d){for(var p=0,m=this.length;m>p;p++)if(p in this&&this[p]===d)return p;return-1};s=i.browser,l=i.makeElement,c=i.triggerEvent,a=i.handleEvent,u=i.handleEventOnce,o=i.findClosestElementFromNode,r=i.AttachmentView.attachmentSelector,i.registerElement("trix-editor",function(){var d,p,m,h,v,_,y,g,E;return y=0,p=function(b){return!document.querySelector(":focus")&&b.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===b?b.focus():void 0},g=function(b){return b.hasAttribute("contenteditable")?void 0:(b.setAttribute("contenteditable",""),u("focus",{onElement:b,withCallback:function(){return m(b)}}))},m=function(b){return v(b),E(b)},v=function(b){return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("enableObjectResizing")?(document.execCommand("enableObjectResizing",!1,!1),a("mscontrolselect",{onElement:b,preventDefault:!0})):void 0},E=function(){var b;return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("DefaultParagraphSeparator")&&(b=i.config.blockAttributes.default.tagName,b==="div"||b==="p")?document.execCommand("DefaultParagraphSeparator",!1,b):void 0},d=function(b){return b.hasAttribute("role")?void 0:b.setAttribute("role","textbox")},_=function(b){var T;if(!b.hasAttribute("aria-label")&&!b.hasAttribute("aria-labelledby"))return(T=function(){var A,S,M;return M=function(){var R,F,I,w;for(I=b.labels,w=[],R=0,F=I.length;F>R;R++)A=I[R],A.contains(b)||w.push(A.textContent);return w}(),(S=M.join(" "))?b.setAttribute("aria-label",S):b.removeAttribute("aria-label")})(),a("focus",{onElement:b,withCallback:T})},h=function(){return s.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}}(),{defaultCSS:`%t {
  display: block;
}

%t:empty:not(:focus)::before {
  content: attr(placeholder);
  color: graytext;
  cursor: text;
  pointer-events: none;
}

%t a[contenteditable=false] {
  cursor: text;
}

%t img {
  max-width: 100%;
  height: auto;
}

%t `+r+` figcaption textarea {
  resize: none;
}

%t `+r+` figcaption textarea.trix-autoresize-clone {
  position: absolute;
  left: -9999px;
  max-height: 0px;
}

%t `+r+` figcaption[data-trix-placeholder]:empty::before {
  content: attr(data-trix-placeholder);
  color: graytext;
}

%t [data-trix-cursor-target] {
  display: `+h.display+` !important;
  width: `+h.width+` !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
}

%t [data-trix-cursor-target=left] {
  vertical-align: top !important;
  margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
  vertical-align: bottom !important;
  margin-right: -1px !important;
}`,trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++y),this.trixId)}},labels:{get:function(){var b,T,A;return T=[],this.id&&this.ownerDocument&&T.push.apply(T,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(b=o(this,{matchingSelector:"label"}))&&((A=b.control)===this||A===null)&&T.push(b),T}},toolbarElement:{get:function(){var b,T,A;return this.hasAttribute("toolbar")?(T=this.ownerDocument)!=null?T.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(A="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",A),b=l("trix-toolbar",{id:A}),this.parentNode.insertBefore(b,this),b):void 0}},inputElement:{get:function(){var b,T,A;return this.hasAttribute("input")?(A=this.ownerDocument)!=null?A.getElementById(this.getAttribute("input")):void 0:this.parentNode?(T="trix-input-"+this.trixId,this.setAttribute("input",T),b=l("input",{type:"hidden",id:T}),this.parentNode.insertBefore(b,this.nextElementSibling),b):void 0}},editor:{get:function(){var b;return(b=this.editorController)!=null?b.editor:void 0}},name:{get:function(){var b;return(b=this.inputElement)!=null?b.name:void 0}},value:{get:function(){var b;return(b=this.inputElement)!=null?b.value:void 0},set:function(b){var T;return this.defaultValue=b,(T=this.editor)!=null?T.loadHTML(this.defaultValue):void 0}},notify:function(b,T){return this.editorController?c("trix-"+b,{onElement:this,attributes:T}):void 0},setInputElementValue:function(b){var T;return(T=this.inputElement)!=null?T.value=b:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(g(this),d(this),_(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(c("trix-before-initialize",{onElement:this}),this.editorController=new i.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(b){return function(){return c("trix-initialize",{onElement:b})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),p(this))},disconnect:function(){var b;return(b=this.editorController)!=null&&b.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(b){var T;if(!b.defaultPrevented&&b.target===((T=this.inputElement)!=null?T.form:void 0))return this.reset()},clickBubbled:function(b){var T;if(!(b.defaultPrevented||this.contains(b.target)||!(T=o(b.target,{matchingSelector:"label"}))||f.call(this.labels,T)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(){}.call(this)}).call(this),typeof t=="object"&&t.exports?t.exports=i:typeof define=="function"&&define.amd&&define(i)}.call(e)}),af=_e((e,t)=>{/*! choices.js v10.2.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */(function(i,r){typeof e=="object"&&typeof t=="object"?t.exports=r():typeof define=="function"&&define.amd?define([],r):typeof e=="object"?e.Choices=r():i.Choices=r()})(window,function(){return function(){var n={282:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.clearChoices=a.activateChoices=a.filterChoices=a.addChoice=void 0;var l=u(883),c=function(m){var h=m.value,v=m.label,_=m.id,y=m.groupId,g=m.disabled,E=m.elementId,b=m.customProperties,T=m.placeholder,A=m.keyCode;return{type:l.ACTION_TYPES.ADD_CHOICE,value:h,label:v,id:_,groupId:y,disabled:g,elementId:E,customProperties:b,placeholder:T,keyCode:A}};a.addChoice=c;var f=function(m){return{type:l.ACTION_TYPES.FILTER_CHOICES,results:m}};a.filterChoices=f;var d=function(m){return m===void 0&&(m=!0),{type:l.ACTION_TYPES.ACTIVATE_CHOICES,active:m}};a.activateChoices=d;var p=function(){return{type:l.ACTION_TYPES.CLEAR_CHOICES}};a.clearChoices=p},783:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.addGroup=void 0;var l=u(883),c=function(f){var d=f.value,p=f.id,m=f.active,h=f.disabled;return{type:l.ACTION_TYPES.ADD_GROUP,value:d,id:p,active:m,disabled:h}};a.addGroup=c},464:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.highlightItem=a.removeItem=a.addItem=void 0;var l=u(883),c=function(p){var m=p.value,h=p.label,v=p.id,_=p.choiceId,y=p.groupId,g=p.customProperties,E=p.placeholder,b=p.keyCode;return{type:l.ACTION_TYPES.ADD_ITEM,value:m,label:h,id:v,choiceId:_,groupId:y,customProperties:g,placeholder:E,keyCode:b}};a.addItem=c;var f=function(p,m){return{type:l.ACTION_TYPES.REMOVE_ITEM,id:p,choiceId:m}};a.removeItem=f;var d=function(p,m){return{type:l.ACTION_TYPES.HIGHLIGHT_ITEM,id:p,highlighted:m}};a.highlightItem=d},137:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.setIsLoading=a.resetTo=a.clearAll=void 0;var l=u(883),c=function(){return{type:l.ACTION_TYPES.CLEAR_ALL}};a.clearAll=c;var f=function(p){return{type:l.ACTION_TYPES.RESET_TO,state:p}};a.resetTo=f;var d=function(p){return{type:l.ACTION_TYPES.SET_IS_LOADING,isLoading:p}};a.setIsLoading=d},373:function(o,a,u){var l=this&&this.__spreadArray||function(F,I,w){if(w||arguments.length===2)for(var x=0,C=I.length,D;x<C;x++)(D||!(x in I))&&(D||(D=Array.prototype.slice.call(I,0,x)),D[x]=I[x]);return F.concat(D||Array.prototype.slice.call(I))},c=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(a,"__esModule",{value:!0});var f=c(u(996)),d=c(u(221)),p=u(282),m=u(783),h=u(464),v=u(137),_=u(520),y=u(883),g=u(789),E=u(799),b=u(655),T=c(u(744)),A=c(u(686)),S="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,M={},R=function(){function F(I,w){I===void 0&&(I="[data-choice]"),w===void 0&&(w={});var x=this;w.allowHTML===void 0&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=f.default.all([g.DEFAULT_CONFIG,F.defaults.options,w],{arrayMerge:function(z,H){return l([],H,!0)}});var C=(0,E.diff)(this.config,g.DEFAULT_CONFIG);C.length&&console.warn("Unknown config option(s) passed",C.join(", "));var D=typeof I=="string"?document.querySelector(I):I;if(!(D instanceof HTMLInputElement||D instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=D.type===y.TEXT_TYPE,this._isSelectOneElement=D.type===y.SELECT_ONE_TYPE,this._isSelectMultipleElement=D.type===y.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),w.addItemFilter&&typeof w.addItemFilter!="function"){var L=w.addItemFilter instanceof RegExp?w.addItemFilter:new RegExp(w.addItemFilter);this.config.addItemFilter=L.test.bind(L)}if(this._isTextElement?this.passedElement=new _.WrappedInput({element:D,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new _.WrappedSelect({element:D,classNames:this.config.classNames,template:function(z){return x._templates.option(z)}}),this.initialised=!1,this._store=new T.default,this._initialState=b.defaultState,this._currentState=b.defaultState,this._prevState=b.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,E.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var O=window.getComputedStyle(this.passedElement.element).direction,k=window.getComputedStyle(document.documentElement).direction;O!==k&&(this._direction=O)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var P=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(P)}if(this.passedElement.options&&this.passedElement.options.forEach(function(z){x._presetChoices.push({value:z.value,label:z.innerHTML,selected:!!z.selected,disabled:z.disabled||z.parentNode.disabled,placeholder:z.value===""||z.hasAttribute("placeholder"),customProperties:(0,E.parseCustomProperties)(z.dataset.customProperties)})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:I}),this.initialised=!0;return}this.init()}return Object.defineProperty(F,"defaults",{get:function(){return Object.preventExtensions({get options(){return M},get templates(){return A.default}})},enumerable:!1,configurable:!0}),F.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var I=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");I&&this.disable(),this.initialised=!0;var w=this.config.callbackOnInit;w&&typeof w=="function"&&w.call(this)}},F.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=A.default,this.initialised=!1)},F.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},F.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},F.prototype.highlightItem=function(I,w){if(w===void 0&&(w=!0),!I||!I.id)return this;var x=I.id,C=I.groupId,D=C===void 0?-1:C,L=I.value,O=L===void 0?"":L,k=I.label,P=k===void 0?"":k,z=D>=0?this._store.getGroupById(D):null;return this._store.dispatch((0,h.highlightItem)(x,!0)),w&&this.passedElement.triggerEvent(y.EVENTS.highlightItem,{id:x,value:O,label:P,groupValue:z&&z.value?z.value:null}),this},F.prototype.unhighlightItem=function(I){if(!I||!I.id)return this;var w=I.id,x=I.groupId,C=x===void 0?-1:x,D=I.value,L=D===void 0?"":D,O=I.label,k=O===void 0?"":O,P=C>=0?this._store.getGroupById(C):null;return this._store.dispatch((0,h.highlightItem)(w,!1)),this.passedElement.triggerEvent(y.EVENTS.highlightItem,{id:w,value:L,label:k,groupValue:P&&P.value?P.value:null}),this},F.prototype.highlightAll=function(){var I=this;return this._store.items.forEach(function(w){return I.highlightItem(w)}),this},F.prototype.unhighlightAll=function(){var I=this;return this._store.items.forEach(function(w){return I.unhighlightItem(w)}),this},F.prototype.removeActiveItemsByValue=function(I){var w=this;return this._store.activeItems.filter(function(x){return x.value===I}).forEach(function(x){return w._removeItem(x)}),this},F.prototype.removeActiveItems=function(I){var w=this;return this._store.activeItems.filter(function(x){var C=x.id;return C!==I}).forEach(function(x){return w._removeItem(x)}),this},F.prototype.removeHighlightedItems=function(I){var w=this;return I===void 0&&(I=!1),this._store.highlightedActiveItems.forEach(function(x){w._removeItem(x),I&&w._triggerChange(x.value)}),this},F.prototype.showDropdown=function(I){var w=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){w.dropdown.show(),w.containerOuter.open(w.dropdown.distanceFromTopWindow),!I&&w._canSearch&&w.input.focus(),w.passedElement.triggerEvent(y.EVENTS.showDropdown,{})}),this)},F.prototype.hideDropdown=function(I){var w=this;return this.dropdown.isActive?(requestAnimationFrame(function(){w.dropdown.hide(),w.containerOuter.close(),!I&&w._canSearch&&(w.input.removeActiveDescendant(),w.input.blur()),w.passedElement.triggerEvent(y.EVENTS.hideDropdown,{})}),this):this},F.prototype.getValue=function(I){I===void 0&&(I=!1);var w=this._store.activeItems.reduce(function(x,C){var D=I?C.value:C;return x.push(D),x},[]);return this._isSelectOneElement?w[0]:w},F.prototype.setValue=function(I){var w=this;return this.initialised?(I.forEach(function(x){return w._setChoiceOrItem(x)}),this):this},F.prototype.setChoiceByValue=function(I){var w=this;if(!this.initialised||this._isTextElement)return this;var x=Array.isArray(I)?I:[I];return x.forEach(function(C){return w._findAndSelectChoiceByValue(C)}),this},F.prototype.setChoices=function(I,w,x,C){var D=this;if(I===void 0&&(I=[]),w===void 0&&(w="value"),x===void 0&&(x="label"),C===void 0&&(C=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof w!="string"||!w)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(C&&this.clearChoices(),typeof I=="function"){var L=I(this);if(typeof Promise=="function"&&L instanceof Promise)return new Promise(function(O){return requestAnimationFrame(O)}).then(function(){return D._handleLoadingState(!0)}).then(function(){return L}).then(function(O){return D.setChoices(O,w,x,C)}).catch(function(O){D.config.silent||console.error(O)}).then(function(){return D._handleLoadingState(!1)}).then(function(){return D});if(!Array.isArray(L))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof L));return this.setChoices(L,w,x,!1)}if(!Array.isArray(I))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),I.forEach(function(O){if(O.choices)D._addGroup({id:O.id?parseInt("".concat(O.id),10):null,group:O,valueKey:w,labelKey:x});else{var k=O;D._addChoice({value:k[w],label:k[x],isSelected:!!k.selected,isDisabled:!!k.disabled,placeholder:!!k.placeholder,customProperties:k.customProperties})}}),this._stopLoading(),this},F.prototype.clearChoices=function(){return this._store.dispatch((0,p.clearChoices)()),this},F.prototype.clearStore=function(){return this._store.dispatch((0,v.clearAll)()),this},F.prototype.clearInput=function(){var I=!this._isSelectOneElement;return this.input.clear(I),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,p.activateChoices)(!0))),this},F.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var I=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,w=this._isSelectElement,x=this._currentState.items!==this._prevState.items;I&&(w&&this._renderChoices(),x&&this._renderItems(),this._prevState=this._currentState)}},F.prototype._renderChoices=function(){var I=this,w=this._store,x=w.activeGroups,C=w.activeChoices,D=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return I.choiceList.scrollToTop()}),x.length>=1&&!this._isSearching){var L=C.filter(function(H){return H.placeholder===!0&&H.groupId===-1});L.length>=1&&(D=this._createChoicesFragment(L,D)),D=this._createGroupsFragment(x,C,D)}else C.length>=1&&(D=this._createChoicesFragment(C,D));if(D.childNodes&&D.childNodes.length>0){var O=this._store.activeItems,k=this._canAddItem(O,this.input.value);if(k.response)this.choiceList.append(D),this._highlightChoice();else{var P=this._getTemplate("notice",k.notice);this.choiceList.append(P)}}else{var z=void 0,P=void 0;this._isSearching?(P=typeof this.config.noResultsText=="function"?this.config.noResultsText():this.config.noResultsText,z=this._getTemplate("notice",P,"no-results")):(P=typeof this.config.noChoicesText=="function"?this.config.noChoicesText():this.config.noChoicesText,z=this._getTemplate("notice",P,"no-choices")),this.choiceList.append(z)}},F.prototype._renderItems=function(){var I=this._store.activeItems||[];this.itemList.clear();var w=this._createItemsFragment(I);w.childNodes&&this.itemList.append(w)},F.prototype._createGroupsFragment=function(I,w,x){var C=this;x===void 0&&(x=document.createDocumentFragment());var D=function(L){return w.filter(function(O){return C._isSelectOneElement?O.groupId===L.id:O.groupId===L.id&&(C.config.renderSelectedChoices==="always"||!O.selected)})};return this.config.shouldSort&&I.sort(this.config.sorter),I.forEach(function(L){var O=D(L);if(O.length>=1){var k=C._getTemplate("choiceGroup",L);x.appendChild(k),C._createChoicesFragment(O,x,!0)}}),x},F.prototype._createChoicesFragment=function(I,w,x){var C=this;w===void 0&&(w=document.createDocumentFragment()),x===void 0&&(x=!1);var D=this.config,L=D.renderSelectedChoices,O=D.searchResultLimit,k=D.renderChoiceLimit,P=this._isSearching?E.sortByScore:this.config.sorter,z=function(oe){var ie=L==="auto"?C._isSelectOneElement||!oe.selected:!0;if(ie){var De=C._getTemplate("choice",oe,C.config.itemSelectText);w.appendChild(De)}},H=I;L==="auto"&&!this._isSelectOneElement&&(H=I.filter(function(oe){return!oe.selected}));var X=H.reduce(function(oe,ie){return ie.placeholder?oe.placeholderChoices.push(ie):oe.normalChoices.push(ie),oe},{placeholderChoices:[],normalChoices:[]}),j=X.placeholderChoices,ue=X.normalChoices;(this.config.shouldSort||this._isSearching)&&ue.sort(P);var G=H.length,J=this._isSelectOneElement?l(l([],j,!0),ue,!0):ue;this._isSearching?G=O:k&&k>0&&!x&&(G=k);for(var te=0;te<G;te+=1)J[te]&&z(J[te]);return w},F.prototype._createItemsFragment=function(I,w){var x=this;w===void 0&&(w=document.createDocumentFragment());var C=this.config,D=C.shouldSortItems,L=C.sorter,O=C.removeItemButton;D&&!this._isSelectOneElement&&I.sort(L),this._isTextElement?this.passedElement.value=I.map(function(P){var z=P.value;return z}).join(this.config.delimiter):this.passedElement.options=I;var k=function(P){var z=x._getTemplate("item",P,O);w.appendChild(z)};return I.forEach(k),w},F.prototype._triggerChange=function(I){I!=null&&this.passedElement.triggerEvent(y.EVENTS.change,{value:I})},F.prototype._selectPlaceholderChoice=function(I){this._addItem({value:I.value,label:I.label,choiceId:I.id,groupId:I.groupId,placeholder:I.placeholder}),this._triggerChange(I.value)},F.prototype._handleButtonAction=function(I,w){if(!(!I||!w||!this.config.removeItems||!this.config.removeItemButton)){var x=w.parentNode&&w.parentNode.dataset.id,C=x&&I.find(function(D){return D.id===parseInt(x,10)});C&&(this._removeItem(C),this._triggerChange(C.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},F.prototype._handleItemAction=function(I,w,x){var C=this;if(x===void 0&&(x=!1),!(!I||!w||!this.config.removeItems||this._isSelectOneElement)){var D=w.dataset.id;I.forEach(function(L){L.id===parseInt("".concat(D),10)&&!L.highlighted?C.highlightItem(L):!x&&L.highlighted&&C.unhighlightItem(L)}),this.input.focus()}},F.prototype._handleChoiceAction=function(I,w){if(!(!I||!w)){var x=w.dataset.id,C=x&&this._store.getChoiceById(x);if(C){var D=I[0]&&I[0].keyCode?I[0].keyCode:void 0,L=this.dropdown.isActive;if(C.keyCode=D,this.passedElement.triggerEvent(y.EVENTS.choice,{choice:C}),!C.selected&&!C.disabled){var O=this._canAddItem(I,C.value);O.response&&(this._addItem({value:C.value,label:C.label,choiceId:C.id,groupId:C.groupId,customProperties:C.customProperties,placeholder:C.placeholder,keyCode:C.keyCode}),this._triggerChange(C.value))}this.clearInput(),L&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},F.prototype._handleBackspace=function(I){if(!(!this.config.removeItems||!I)){var w=I[I.length-1],x=I.some(function(C){return C.highlighted});this.config.editItems&&!x&&w?(this.input.value=w.value,this.input.setWidth(),this._removeItem(w),this._triggerChange(w.value)):(x||this.highlightItem(w,!1),this.removeHighlightedItems(!0))}},F.prototype._startLoading=function(){this._store.dispatch((0,v.setIsLoading)(!0))},F.prototype._stopLoading=function(){this._store.dispatch((0,v.setIsLoading)(!1))},F.prototype._handleLoadingState=function(I){I===void 0&&(I=!0);var w=this.itemList.getChild(".".concat(this.config.classNames.placeholder));I?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?w?w.innerHTML=this.config.loadingText:(w=this._getTemplate("placeholder",this.config.loadingText),w&&this.itemList.append(w)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?w&&(w.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},F.prototype._handleSearch=function(I){if(this.input.isFocussed){var w=this._store.choices,x=this.config,C=x.searchFloor,D=x.searchChoices,L=w.some(function(k){return!k.active});if(I!==null&&typeof I<"u"&&I.length>=C){var O=D?this._searchChoices(I):0;this.passedElement.triggerEvent(y.EVENTS.search,{value:I,resultCount:O})}else L&&(this._isSearching=!1,this._store.dispatch((0,p.activateChoices)(!0)))}},F.prototype._canAddItem=function(I,w){var x=!0,C=typeof this.config.addItemText=="function"?this.config.addItemText(w):this.config.addItemText;if(!this._isSelectOneElement){var D=(0,E.existsInArray)(I,w);this.config.maxItemCount>0&&this.config.maxItemCount<=I.length&&(x=!1,C=typeof this.config.maxItemText=="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&D&&x&&(x=!1,C=typeof this.config.uniqueItemText=="function"?this.config.uniqueItemText(w):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&x&&typeof this.config.addItemFilter=="function"&&!this.config.addItemFilter(w)&&(x=!1,C=typeof this.config.customAddItemText=="function"?this.config.customAddItemText(w):this.config.customAddItemText)}return{response:x,notice:C}},F.prototype._searchChoices=function(I){var w=typeof I=="string"?I.trim():I,x=typeof this._currentValue=="string"?this._currentValue.trim():this._currentValue;if(w.length<1&&w==="".concat(x," "))return 0;var C=this._store.searchableChoices,D=w,L=Object.assign(this.config.fuseOptions,{keys:l([],this.config.searchFields,!0),includeMatches:!0}),O=new d.default(C,L),k=O.search(D);return this._currentValue=w,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,p.filterChoices)(k)),k.length},F.prototype._addEventListeners=function(){var I=document.documentElement;I.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),I.addEventListener("click",this._onClick,{passive:!0}),I.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},F.prototype._removeEventListeners=function(){var I=document.documentElement;I.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),I.removeEventListener("click",this._onClick),I.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},F.prototype._onKeyDown=function(I){var w=I.keyCode,x=this._store.activeItems,C=this.input.isFocussed,D=this.dropdown.isActive,L=this.itemList.hasChildren(),O=String.fromCharCode(w),k=/[^\x00-\x1F]/.test(O),P=y.KEY_CODES.BACK_KEY,z=y.KEY_CODES.DELETE_KEY,H=y.KEY_CODES.ENTER_KEY,X=y.KEY_CODES.A_KEY,j=y.KEY_CODES.ESC_KEY,ue=y.KEY_CODES.UP_KEY,G=y.KEY_CODES.DOWN_KEY,J=y.KEY_CODES.PAGE_UP_KEY,te=y.KEY_CODES.PAGE_DOWN_KEY;switch(!this._isTextElement&&!D&&k&&(this.showDropdown(),this.input.isFocussed||(this.input.value+=I.key.toLowerCase())),w){case X:return this._onSelectKey(I,L);case H:return this._onEnterKey(I,x,D);case j:return this._onEscapeKey(D);case ue:case J:case G:case te:return this._onDirectionKey(I,D);case z:case P:return this._onDeleteKey(I,x,C)}},F.prototype._onKeyUp=function(I){var w=I.target,x=I.keyCode,C=this.input.value,D=this._store.activeItems,L=this._canAddItem(D,C),O=y.KEY_CODES.BACK_KEY,k=y.KEY_CODES.DELETE_KEY;if(this._isTextElement){var P=L.notice&&C;if(P){var z=this._getTemplate("notice",L.notice);this.dropdown.element.innerHTML=z.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var H=x===O||x===k,X=H&&w&&!w.value,j=!this._isTextElement&&this._isSearching,ue=this._canSearch&&L.response;X&&j?(this._isSearching=!1,this._store.dispatch((0,p.activateChoices)(!0))):ue&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},F.prototype._onSelectKey=function(I,w){var x=I.ctrlKey,C=I.metaKey,D=x||C;if(D&&w){this._canSearch=!1;var L=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;L&&this.highlightAll()}},F.prototype._onEnterKey=function(I,w,x){var C=I.target,D=y.KEY_CODES.ENTER_KEY,L=C&&C.hasAttribute("data-button");if(this._isTextElement&&C&&C.value){var O=this.input.value,k=this._canAddItem(w,O);k.response&&(this.hideDropdown(!0),this._addItem({value:O}),this._triggerChange(O),this.clearInput())}if(L&&(this._handleButtonAction(w,C),I.preventDefault()),x){var P=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));P&&(w[0]&&(w[0].keyCode=D),this._handleChoiceAction(w,P)),I.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),I.preventDefault())},F.prototype._onEscapeKey=function(I){I&&(this.hideDropdown(!0),this.containerOuter.focus())},F.prototype._onDirectionKey=function(I,w){var x=I.keyCode,C=I.metaKey,D=y.KEY_CODES.DOWN_KEY,L=y.KEY_CODES.PAGE_UP_KEY,O=y.KEY_CODES.PAGE_DOWN_KEY;if(w||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var k=x===D||x===O?1:-1,P=C||x===O||x===L,z="[data-choice-selectable]",H=void 0;if(P)k>0?H=this.dropdown.element.querySelector("".concat(z,":last-of-type")):H=this.dropdown.element.querySelector(z);else{var X=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));X?H=(0,E.getAdjacentEl)(X,z,k):H=this.dropdown.element.querySelector(z)}H&&((0,E.isScrolledIntoView)(H,this.choiceList.element,k)||this.choiceList.scrollToChildElement(H,k),this._highlightChoice(H)),I.preventDefault()}},F.prototype._onDeleteKey=function(I,w,x){var C=I.target;!this._isSelectOneElement&&!C.value&&x&&(this._handleBackspace(w),I.preventDefault())},F.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},F.prototype._onTouchEnd=function(I){var w=(I||I.touches[0]).target,x=this._wasTap&&this.containerOuter.element.contains(w);if(x){var C=w===this.containerOuter.element||w===this.containerInner.element;C&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),I.stopPropagation()}this._wasTap=!0},F.prototype._onMouseDown=function(I){var w=I.target;if(w instanceof HTMLElement){if(S&&this.choiceList.element.contains(w)){var x=this.choiceList.element.firstElementChild,C=this._direction==="ltr"?I.offsetX>=x.offsetWidth:I.offsetX<x.offsetLeft;this._isScrollingOnIe=C}if(w!==this.input.element){var D=w.closest("[data-button],[data-item],[data-choice]");if(D instanceof HTMLElement){var L=I.shiftKey,O=this._store.activeItems,k=D.dataset;"button"in k?this._handleButtonAction(O,D):"item"in k?this._handleItemAction(O,D,L):"choice"in k&&this._handleChoiceAction(O,D)}I.preventDefault()}}},F.prototype._onMouseOver=function(I){var w=I.target;w instanceof HTMLElement&&"choice"in w.dataset&&this._highlightChoice(w)},F.prototype._onClick=function(I){var w=I.target,x=this.containerOuter.element.contains(w);if(x)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):this._isSelectOneElement&&w!==this.input.element&&!this.dropdown.element.contains(w)&&this.hideDropdown();else{var C=this._store.highlightedActiveItems.length>0;C&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},F.prototype._onFocus=function(I){var w,x=this,C=I.target,D=C&&this.containerOuter.element.contains(C);if(D){var L=(w={},w[y.TEXT_TYPE]=function(){C===x.input.element&&x.containerOuter.addFocusState()},w[y.SELECT_ONE_TYPE]=function(){x.containerOuter.addFocusState(),C===x.input.element&&x.showDropdown(!0)},w[y.SELECT_MULTIPLE_TYPE]=function(){C===x.input.element&&(x.showDropdown(!0),x.containerOuter.addFocusState())},w);L[this.passedElement.element.type]()}},F.prototype._onBlur=function(I){var w,x=this,C=I.target,D=C&&this.containerOuter.element.contains(C);if(D&&!this._isScrollingOnIe){var L=this._store.activeItems,O=L.some(function(P){return P.highlighted}),k=(w={},w[y.TEXT_TYPE]=function(){C===x.input.element&&(x.containerOuter.removeFocusState(),O&&x.unhighlightAll(),x.hideDropdown(!0))},w[y.SELECT_ONE_TYPE]=function(){x.containerOuter.removeFocusState(),(C===x.input.element||C===x.containerOuter.element&&!x._canSearch)&&x.hideDropdown(!0)},w[y.SELECT_MULTIPLE_TYPE]=function(){C===x.input.element&&(x.containerOuter.removeFocusState(),x.hideDropdown(!0),O&&x.unhighlightAll())},w);k[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},F.prototype._onFormReset=function(){this._store.dispatch((0,v.resetTo)(this._initialState))},F.prototype._highlightChoice=function(I){var w=this;I===void 0&&(I=null);var x=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(x.length){var C=I,D=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));D.forEach(function(L){L.classList.remove(w.config.classNames.highlightedState),L.setAttribute("aria-selected","false")}),C?this._highlightPosition=x.indexOf(C):(x.length>this._highlightPosition?C=x[this._highlightPosition]:C=x[x.length-1],C||(C=x[0])),C.classList.add(this.config.classNames.highlightedState),C.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(y.EVENTS.highlightChoice,{el:C}),this.dropdown.isActive&&(this.input.setActiveDescendant(C.id),this.containerOuter.setActiveDescendant(C.id))}},F.prototype._addItem=function(I){var w=I.value,x=I.label,C=x===void 0?null:x,D=I.choiceId,L=D===void 0?-1:D,O=I.groupId,k=O===void 0?-1:O,P=I.customProperties,z=P===void 0?{}:P,H=I.placeholder,X=H===void 0?!1:H,j=I.keyCode,ue=j===void 0?-1:j,G=typeof w=="string"?w.trim():w,J=this._store.items,te=C||G,oe=L||-1,ie=k>=0?this._store.getGroupById(k):null,De=J?J.length+1:1;this.config.prependValue&&(G=this.config.prependValue+G.toString()),this.config.appendValue&&(G+=this.config.appendValue.toString()),this._store.dispatch((0,h.addItem)({value:G,label:te,id:De,choiceId:oe,groupId:k,customProperties:z,placeholder:X,keyCode:ue})),this._isSelectOneElement&&this.removeActiveItems(De),this.passedElement.triggerEvent(y.EVENTS.addItem,{id:De,value:G,label:te,customProperties:z,groupValue:ie&&ie.value?ie.value:null,keyCode:ue})},F.prototype._removeItem=function(I){var w=I.id,x=I.value,C=I.label,D=I.customProperties,L=I.choiceId,O=I.groupId,k=O&&O>=0?this._store.getGroupById(O):null;!w||!L||(this._store.dispatch((0,h.removeItem)(w,L)),this.passedElement.triggerEvent(y.EVENTS.removeItem,{id:w,value:x,label:C,customProperties:D,groupValue:k&&k.value?k.value:null}))},F.prototype._addChoice=function(I){var w=I.value,x=I.label,C=x===void 0?null:x,D=I.isSelected,L=D===void 0?!1:D,O=I.isDisabled,k=O===void 0?!1:O,P=I.groupId,z=P===void 0?-1:P,H=I.customProperties,X=H===void 0?{}:H,j=I.placeholder,ue=j===void 0?!1:j,G=I.keyCode,J=G===void 0?-1:G;if(!(typeof w>"u"||w===null)){var te=this._store.choices,oe=C||w,ie=te?te.length+1:1,De="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(ie);this._store.dispatch((0,p.addChoice)({id:ie,groupId:z,elementId:De,value:w,label:oe,disabled:k,customProperties:X,placeholder:ue,keyCode:J})),L&&this._addItem({value:w,label:oe,choiceId:ie,customProperties:X,placeholder:ue,keyCode:J})}},F.prototype._addGroup=function(I){var w=this,x=I.group,C=I.id,D=I.valueKey,L=D===void 0?"value":D,O=I.labelKey,k=O===void 0?"label":O,P=(0,E.isType)("Object",x)?x.choices:Array.from(x.getElementsByTagName("OPTION")),z=C||Math.floor(new Date().valueOf()*Math.random()),H=x.disabled?x.disabled:!1;if(P){this._store.dispatch((0,m.addGroup)({value:x.label,id:z,active:!0,disabled:H}));var X=function(j){var ue=j.disabled||j.parentNode&&j.parentNode.disabled;w._addChoice({value:j[L],label:(0,E.isType)("Object",j)?j[k]:j.innerHTML,isSelected:j.selected,isDisabled:ue,groupId:z,customProperties:j.customProperties,placeholder:j.placeholder})};P.forEach(X)}else this._store.dispatch((0,m.addGroup)({value:x.label,id:x.id,active:!1,disabled:x.disabled}))},F.prototype._getTemplate=function(I){for(var w,x=[],C=1;C<arguments.length;C++)x[C-1]=arguments[C];return(w=this._templates[I]).call.apply(w,l([this,this.config],x,!1))},F.prototype._createTemplates=function(){var I=this.config.callbackOnCreateTemplates,w={};I&&typeof I=="function"&&(w=I.call(this,E.strToEl)),this._templates=(0,f.default)(A.default,w)},F.prototype._createElements=function(){this.containerOuter=new _.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new _.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new _.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new _.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new _.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new _.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},F.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},F.prototype._addPredefinedGroups=function(I){var w=this,x=this.passedElement.placeholderOption;x&&x.parentNode&&x.parentNode.tagName==="SELECT"&&this._addChoice({value:x.value,label:x.innerHTML,isSelected:x.selected,isDisabled:x.disabled,placeholder:!0}),I.forEach(function(C){return w._addGroup({group:C,id:C.id||null})})},F.prototype._addPredefinedChoices=function(I){var w=this;this.config.shouldSort&&I.sort(this.config.sorter);var x=I.some(function(D){return D.selected}),C=I.findIndex(function(D){return D.disabled===void 0||!D.disabled});I.forEach(function(D,L){var O=D.value,k=O===void 0?"":O,P=D.label,z=D.customProperties,H=D.placeholder;if(w._isSelectElement)if(D.choices)w._addGroup({group:D,id:D.id||null});else{var X=w._isSelectOneElement&&!x&&L===C,j=X?!0:D.selected,ue=D.disabled;w._addChoice({value:k,label:P,isSelected:!!j,isDisabled:!!ue,placeholder:!!H,customProperties:z})}else w._addChoice({value:k,label:P,isSelected:!!D.selected,isDisabled:!!D.disabled,placeholder:!!D.placeholder,customProperties:z})})},F.prototype._addPredefinedItems=function(I){var w=this;I.forEach(function(x){typeof x=="object"&&x.value&&w._addItem({value:x.value,label:x.label,choiceId:x.id,customProperties:x.customProperties,placeholder:x.placeholder}),typeof x=="string"&&w._addItem({value:x})})},F.prototype._setChoiceOrItem=function(I){var w=this,x=(0,E.getType)(I).toLowerCase(),C={object:function(){I.value&&(w._isTextElement?w._addItem({value:I.value,label:I.label,choiceId:I.id,customProperties:I.customProperties,placeholder:I.placeholder}):w._addChoice({value:I.value,label:I.label,isSelected:!0,isDisabled:!1,customProperties:I.customProperties,placeholder:I.placeholder}))},string:function(){w._isTextElement?w._addItem({value:I}):w._addChoice({value:I,label:I,isSelected:!0,isDisabled:!1})}};C[x]()},F.prototype._findAndSelectChoiceByValue=function(I){var w=this,x=this._store.choices,C=x.find(function(D){return w.config.valueComparer(D.value,I)});C&&!C.selected&&this._addItem({value:C.value,label:C.label,choiceId:C.id,groupId:C.groupId,customProperties:C.customProperties,placeholder:C.placeholder,keyCode:C.keyCode})},F.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var I=this.passedElement.placeholderOption;return I?I.text:null}var w=this.config,x=w.placeholder,C=w.placeholderValue,D=this.passedElement.element.dataset;if(x){if(C)return C;if(D.placeholder)return D.placeholder}return null},F}();a.default=R},613:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=u(799),c=u(883),f=function(){function d(p){var m=p.element,h=p.type,v=p.classNames,_=p.position;this.element=m,this.classNames=v,this.type=h,this.position=_,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return d.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},d.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},d.prototype.shouldFlip=function(p){if(typeof p!="number")return!1;var m=!1;return this.position==="auto"?m=!window.matchMedia("(min-height: ".concat(p+1,"px)")).matches:this.position==="top"&&(m=!0),m},d.prototype.setActiveDescendant=function(p){this.element.setAttribute("aria-activedescendant",p)},d.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},d.prototype.open=function(p){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(p)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},d.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},d.prototype.focus=function(){this.isFocussed||this.element.focus()},d.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},d.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},d.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===c.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},d.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===c.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},d.prototype.wrap=function(p){(0,l.wrap)(p,this.element)},d.prototype.unwrap=function(p){this.element.parentNode&&(this.element.parentNode.insertBefore(p,this.element),this.element.parentNode.removeChild(this.element))},d.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},d.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},d.prototype._onFocus=function(){this.isFocussed=!0},d.prototype._onBlur=function(){this.isFocussed=!1},d}();a.default=f},217:function(o,a){Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function l(c){var f=c.element,d=c.type,p=c.classNames;this.element=f,this.classNames=p,this.type=d,this.isActive=!1}return Object.defineProperty(l.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),l.prototype.getChild=function(c){return this.element.querySelector(c)},l.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},l.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},l}();a.default=u},520:function(o,a,u){var l=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0}),a.WrappedSelect=a.WrappedInput=a.List=a.Input=a.Container=a.Dropdown=void 0;var c=l(u(217));a.Dropdown=c.default;var f=l(u(613));a.Container=f.default;var d=l(u(11));a.Input=d.default;var p=l(u(624));a.List=p.default;var m=l(u(541));a.WrappedInput=m.default;var h=l(u(982));a.WrappedSelect=h.default},11:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=u(799),c=u(883),f=function(){function d(p){var m=p.element,h=p.type,v=p.classNames,_=p.preventPaste;this.element=m,this.type=h,this.classNames=v,this.preventPaste=_,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=m.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(d.prototype,"placeholder",{set:function(p){this.element.placeholder=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return(0,l.sanitise)(this.element.value)},set:function(p){this.element.value=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),d.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},d.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},d.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},d.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},d.prototype.focus=function(){this.isFocussed||this.element.focus()},d.prototype.blur=function(){this.isFocussed&&this.element.blur()},d.prototype.clear=function(p){return p===void 0&&(p=!0),this.element.value&&(this.element.value=""),p&&this.setWidth(),this},d.prototype.setWidth=function(){var p=this.element,m=p.style,h=p.value,v=p.placeholder;m.minWidth="".concat(v.length+1,"ch"),m.width="".concat(h.length+1,"ch")},d.prototype.setActiveDescendant=function(p){this.element.setAttribute("aria-activedescendant",p)},d.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},d.prototype._onInput=function(){this.type!==c.SELECT_ONE_TYPE&&this.setWidth()},d.prototype._onPaste=function(p){this.preventPaste&&p.preventDefault()},d.prototype._onFocus=function(){this.isFocussed=!0},d.prototype._onBlur=function(){this.isFocussed=!1},d}();a.default=f},624:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=u(883),c=function(){function f(d){var p=d.element;this.element=p,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return f.prototype.clear=function(){this.element.innerHTML=""},f.prototype.append=function(d){this.element.appendChild(d)},f.prototype.getChild=function(d){return this.element.querySelector(d)},f.prototype.hasChildren=function(){return this.element.hasChildNodes()},f.prototype.scrollToTop=function(){this.element.scrollTop=0},f.prototype.scrollToChildElement=function(d,p){var m=this;if(d){var h=this.element.offsetHeight,v=this.element.scrollTop+h,_=d.offsetHeight,y=d.offsetTop+_,g=p>0?this.element.scrollTop+y-v:d.offsetTop;requestAnimationFrame(function(){m._animateScroll(g,p)})}},f.prototype._scrollDown=function(d,p,m){var h=(m-d)/p,v=h>1?h:1;this.element.scrollTop=d+v},f.prototype._scrollUp=function(d,p,m){var h=(d-m)/p,v=h>1?h:1;this.element.scrollTop=d-v},f.prototype._animateScroll=function(d,p){var m=this,h=l.SCROLLING_SPEED,v=this.element.scrollTop,_=!1;p>0?(this._scrollDown(v,h,d),v<d&&(_=!0)):(this._scrollUp(v,h,d),v>d&&(_=!0)),_&&requestAnimationFrame(function(){m._animateScroll(d,p)})},f}();a.default=c},730:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=u(799),c=function(){function f(d){var p=d.element,m=d.classNames;if(this.element=p,this.classNames=m,!(p instanceof HTMLInputElement)&&!(p instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(f.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this.element.value},set:function(d){this.element.value=d},enumerable:!1,configurable:!0}),f.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var d=this.element.getAttribute("style");d&&this.element.setAttribute("data-choice-orig-style",d),this.element.setAttribute("data-choice","active")},f.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var d=this.element.getAttribute("data-choice-orig-style");d?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",d)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},f.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},f.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},f.prototype.triggerEvent=function(d,p){(0,l.dispatchEvent)(this.element,d,p)},f}();a.default=c},541:function(o,a,u){var l=this&&this.__extends||function(){var p=function(m,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},p(m,h)};return function(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(m,h);function v(){this.constructor=m}m.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});var f=c(u(730)),d=function(p){l(m,p);function m(h){var v=h.element,_=h.classNames,y=h.delimiter,g=p.call(this,{element:v,classNames:_})||this;return g.delimiter=y,g}return Object.defineProperty(m.prototype,"value",{get:function(){return this.element.value},set:function(h){this.element.setAttribute("value",h),this.element.value=h},enumerable:!1,configurable:!0}),m}(f.default);a.default=d},982:function(o,a,u){var l=this&&this.__extends||function(){var p=function(m,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},p(m,h)};return function(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(m,h);function v(){this.constructor=m}m.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});var f=c(u(730)),d=function(p){l(m,p);function m(h){var v=h.element,_=h.classNames,y=h.template,g=p.call(this,{element:v,classNames:_})||this;return g.template=y,g}return Object.defineProperty(m.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(h){var v=this,_=document.createDocumentFragment(),y=function(g){var E=v.template(g);_.appendChild(E)};h.forEach(function(g){return y(g)}),this.appendDocFragment(_)},enumerable:!1,configurable:!0}),m.prototype.appendDocFragment=function(h){this.element.innerHTML="",this.element.appendChild(h)},m}(f.default);a.default=d},883:function(o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SCROLLING_SPEED=a.SELECT_MULTIPLE_TYPE=a.SELECT_ONE_TYPE=a.TEXT_TYPE=a.KEY_CODES=a.ACTION_TYPES=a.EVENTS=void 0,a.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},a.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},a.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},a.TEXT_TYPE="text",a.SELECT_ONE_TYPE="select-one",a.SELECT_MULTIPLE_TYPE="select-multiple",a.SCROLLING_SPEED=4},789:function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CONFIG=a.DEFAULT_CLASSNAMES=void 0;var l=u(799);a.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},a.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:l.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(c){return'Press Enter to add <b>"'.concat((0,l.sanitise)(c),'"</b>')},maxItemText:function(c){return"Only ".concat(c," values can be added")},valueComparer:function(c,f){return c===f},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:a.DEFAULT_CLASSNAMES}},18:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},978:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},948:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},359:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},285:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},533:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},187:function(o,a,u){var l=this&&this.__createBinding||(Object.create?function(f,d,p,m){m===void 0&&(m=p);var h=Object.getOwnPropertyDescriptor(d,p);(!h||("get"in h?!d.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(f,m,h)}:function(f,d,p,m){m===void 0&&(m=p),f[m]=d[p]}),c=this&&this.__exportStar||function(f,d){for(var p in f)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&l(d,f,p)};Object.defineProperty(a,"__esModule",{value:!0}),c(u(18),a),c(u(978),a),c(u(948),a),c(u(359),a),c(u(285),a),c(u(533),a),c(u(287),a),c(u(132),a),c(u(837),a),c(u(598),a),c(u(369),a),c(u(37),a),c(u(47),a),c(u(923),a),c(u(876),a)},287:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},132:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},837:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},598:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},37:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},369:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},47:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},923:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},876:function(o,a){Object.defineProperty(a,"__esModule",{value:!0})},799:function(o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.parseCustomProperties=a.diff=a.cloneObject=a.existsInArray=a.dispatchEvent=a.sortByScore=a.sortByAlpha=a.strToEl=a.sanitise=a.isScrolledIntoView=a.getAdjacentEl=a.wrap=a.isType=a.getType=a.generateId=a.generateChars=a.getRandomNumber=void 0;var u=function(S,M){return Math.floor(Math.random()*(M-S)+S)};a.getRandomNumber=u;var l=function(S){return Array.from({length:S},function(){return(0,a.getRandomNumber)(0,36).toString(36)}).join("")};a.generateChars=l;var c=function(S,M){var R=S.id||S.name&&"".concat(S.name,"-").concat((0,a.generateChars)(2))||(0,a.generateChars)(4);return R=R.replace(/(:|\.|\[|\]|,)/g,""),R="".concat(M,"-").concat(R),R};a.generateId=c;var f=function(S){return Object.prototype.toString.call(S).slice(8,-1)};a.getType=f;var d=function(S,M){return M!=null&&(0,a.getType)(M)===S};a.isType=d;var p=function(S,M){return M===void 0&&(M=document.createElement("div")),S.parentNode&&(S.nextSibling?S.parentNode.insertBefore(M,S.nextSibling):S.parentNode.appendChild(M)),M.appendChild(S)};a.wrap=p;var m=function(S,M,R){R===void 0&&(R=1);for(var F="".concat(R>0?"next":"previous","ElementSibling"),I=S[F];I;){if(I.matches(M))return I;I=I[F]}return I};a.getAdjacentEl=m;var h=function(S,M,R){if(R===void 0&&(R=1),!S)return!1;var F;return R>0?F=M.scrollTop+M.offsetHeight>=S.offsetTop+S.offsetHeight:F=S.offsetTop>=M.scrollTop,F};a.isScrolledIntoView=h;var v=function(S){return typeof S!="string"?S:S.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};a.sanitise=v,a.strToEl=function(){var S=document.createElement("div");return function(M){var R=M.trim();S.innerHTML=R;for(var F=S.children[0];S.firstChild;)S.removeChild(S.firstChild);return F}}();var _=function(S,M){var R=S.value,F=S.label,I=F===void 0?R:F,w=M.value,x=M.label,C=x===void 0?w:x;return I.localeCompare(C,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};a.sortByAlpha=_;var y=function(S,M){var R=S.score,F=R===void 0?0:R,I=M.score,w=I===void 0?0:I;return F-w};a.sortByScore=y;var g=function(S,M,R){R===void 0&&(R=null);var F=new CustomEvent(M,{detail:R,bubbles:!0,cancelable:!0});return S.dispatchEvent(F)};a.dispatchEvent=g;var E=function(S,M,R){return R===void 0&&(R="value"),S.some(function(F){return typeof M=="string"?F[R]===M.trim():F[R]===M})};a.existsInArray=E;var b=function(S){return JSON.parse(JSON.stringify(S))};a.cloneObject=b;var T=function(S,M){var R=Object.keys(S).sort(),F=Object.keys(M).sort();return R.filter(function(I){return F.indexOf(I)<0})};a.diff=T;var A=function(S){if(typeof S<"u")try{return JSON.parse(S)}catch{return S}return{}};a.parseCustomProperties=A},273:function(o,a){var u=this&&this.__spreadArray||function(c,f,d){if(d||arguments.length===2)for(var p=0,m=f.length,h;p<m;p++)(h||!(p in f))&&(h||(h=Array.prototype.slice.call(f,0,p)),h[p]=f[p]);return c.concat(h||Array.prototype.slice.call(f))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function l(c,f){switch(c===void 0&&(c=a.defaultState),f===void 0&&(f={}),f.type){case"ADD_CHOICE":{var d=f,p={id:d.id,elementId:d.elementId,groupId:d.groupId,value:d.value,label:d.label||d.value,disabled:d.disabled||!1,selected:!1,active:!0,score:9999,customProperties:d.customProperties,placeholder:d.placeholder||!1};return u(u([],c,!0),[p],!1)}case"ADD_ITEM":{var m=f;return m.choiceId>-1?c.map(function(y){var g=y;return g.id===parseInt("".concat(m.choiceId),10)&&(g.selected=!0),g}):c}case"REMOVE_ITEM":{var h=f;return h.choiceId&&h.choiceId>-1?c.map(function(y){var g=y;return g.id===parseInt("".concat(h.choiceId),10)&&(g.selected=!1),g}):c}case"FILTER_CHOICES":{var v=f;return c.map(function(y){var g=y;return g.active=v.results.some(function(E){var b=E.item,T=E.score;return b.id===g.id?(g.score=T,!0):!1}),g})}case"ACTIVATE_CHOICES":{var _=f;return c.map(function(y){var g=y;return g.active=_.active,g})}case"CLEAR_CHOICES":return a.defaultState;default:return c}}a.default=l},871:function(o,a){var u=this&&this.__spreadArray||function(c,f,d){if(d||arguments.length===2)for(var p=0,m=f.length,h;p<m;p++)(h||!(p in f))&&(h||(h=Array.prototype.slice.call(f,0,p)),h[p]=f[p]);return c.concat(h||Array.prototype.slice.call(f))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function l(c,f){switch(c===void 0&&(c=a.defaultState),f===void 0&&(f={}),f.type){case"ADD_GROUP":{var d=f;return u(u([],c,!0),[{id:d.id,value:d.value,active:d.active,disabled:d.disabled}],!1)}case"CLEAR_CHOICES":return[];default:return c}}a.default=l},655:function(o,a,u){var l=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0;var c=u(791),f=l(u(52)),d=l(u(871)),p=l(u(273)),m=l(u(502)),h=u(799);a.defaultState={groups:[],items:[],choices:[],loading:!1};var v=(0,c.combineReducers)({items:f.default,groups:d.default,choices:p.default,loading:m.default}),_=function(y,g){var E=y;if(g.type==="CLEAR_ALL")E=a.defaultState;else if(g.type==="RESET_TO")return(0,h.cloneObject)(g.state);return v(E,g)};a.default=_},52:function(o,a){var u=this&&this.__spreadArray||function(c,f,d){if(d||arguments.length===2)for(var p=0,m=f.length,h;p<m;p++)(h||!(p in f))&&(h||(h=Array.prototype.slice.call(f,0,p)),h[p]=f[p]);return c.concat(h||Array.prototype.slice.call(f))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function l(c,f){switch(c===void 0&&(c=a.defaultState),f===void 0&&(f={}),f.type){case"ADD_ITEM":{var d=f,p=u(u([],c,!0),[{id:d.id,choiceId:d.choiceId,groupId:d.groupId,value:d.value,label:d.label,active:!0,highlighted:!1,customProperties:d.customProperties,placeholder:d.placeholder||!1,keyCode:null}],!1);return p.map(function(h){var v=h;return v.highlighted=!1,v})}case"REMOVE_ITEM":return c.map(function(h){var v=h;return v.id===f.id&&(v.active=!1),v});case"HIGHLIGHT_ITEM":{var m=f;return c.map(function(h){var v=h;return v.id===m.id&&(v.highlighted=m.highlighted),v})}default:return c}}a.default=l},502:function(o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=!1;var u=function(l,c){switch(l===void 0&&(l=a.defaultState),c===void 0&&(c={}),c.type){case"SET_IS_LOADING":return c.isLoading;default:return l}};a.default=u},744:function(o,a,u){var l=this&&this.__spreadArray||function(m,h,v){if(v||arguments.length===2)for(var _=0,y=h.length,g;_<y;_++)(g||!(_ in h))&&(g||(g=Array.prototype.slice.call(h,0,_)),g[_]=h[_]);return m.concat(g||Array.prototype.slice.call(h))},c=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(a,"__esModule",{value:!0});var f=u(791),d=c(u(655)),p=function(){function m(){this._store=(0,f.createStore)(d.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return m.prototype.subscribe=function(h){this._store.subscribe(h)},m.prototype.dispatch=function(h){this._store.dispatch(h)},Object.defineProperty(m.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"activeItems",{get:function(){return this.items.filter(function(h){return h.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(h){return h.active&&h.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"activeChoices",{get:function(){return this.choices.filter(function(h){return h.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"selectableChoices",{get:function(){return this.choices.filter(function(h){return h.disabled!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter(function(h){return h.placeholder!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"placeholderChoice",{get:function(){return l([],this.choices,!0).reverse().find(function(h){return h.placeholder===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"activeGroups",{get:function(){var h=this,v=h.groups,_=h.choices;return v.filter(function(y){var g=y.active===!0&&y.disabled===!1,E=_.some(function(b){return b.active===!0&&b.disabled===!1});return g&&E},[])},enumerable:!1,configurable:!0}),m.prototype.isLoading=function(){return this.state.loading},m.prototype.getChoiceById=function(h){return this.activeChoices.find(function(v){return v.id===parseInt(h,10)})},m.prototype.getGroupById=function(h){return this.groups.find(function(v){return v.id===h})},m}();a.default=p},686:function(o,a){Object.defineProperty(a,"__esModule",{value:!0});var u={containerOuter:function(l,c,f,d,p,m,h){var v=l.classNames.containerOuter,_=Object.assign(document.createElement("div"),{className:v});return _.dataset.type=m,c&&(_.dir=c),d&&(_.tabIndex=0),f&&(_.setAttribute("role",p?"combobox":"listbox"),p&&_.setAttribute("aria-autocomplete","list")),_.setAttribute("aria-haspopup","true"),_.setAttribute("aria-expanded","false"),h&&_.setAttribute("aria-labelledby",h),_},containerInner:function(l){var c=l.classNames.containerInner;return Object.assign(document.createElement("div"),{className:c})},itemList:function(l,c){var f=l.classNames,d=f.list,p=f.listSingle,m=f.listItems;return Object.assign(document.createElement("div"),{className:"".concat(d," ").concat(c?p:m)})},placeholder:function(l,c){var f,d=l.allowHTML,p=l.classNames.placeholder;return Object.assign(document.createElement("div"),(f={className:p},f[d?"innerHTML":"innerText"]=c,f))},item:function(l,c,f){var d,p,m=l.allowHTML,h=l.classNames,v=h.item,_=h.button,y=h.highlightedState,g=h.itemSelectable,E=h.placeholder,b=c.id,T=c.value,A=c.label,S=c.customProperties,M=c.active,R=c.disabled,F=c.highlighted,I=c.placeholder,w=Object.assign(document.createElement("div"),(d={className:v},d[m?"innerHTML":"innerText"]=A,d));if(Object.assign(w.dataset,{item:"",id:b,value:T,customProperties:S}),M&&w.setAttribute("aria-selected","true"),R&&w.setAttribute("aria-disabled","true"),I&&w.classList.add(E),w.classList.add(F?y:g),f){R&&w.classList.remove(g),w.dataset.deletable="";var x="Remove item",C=Object.assign(document.createElement("button"),(p={type:"button",className:_},p[m?"innerHTML":"innerText"]=x,p));C.setAttribute("aria-label","".concat(x,": '").concat(T,"'")),C.dataset.button="",w.appendChild(C)}return w},choiceList:function(l,c){var f=l.classNames.list,d=Object.assign(document.createElement("div"),{className:f});return c||d.setAttribute("aria-multiselectable","true"),d.setAttribute("role","listbox"),d},choiceGroup:function(l,c){var f,d=l.allowHTML,p=l.classNames,m=p.group,h=p.groupHeading,v=p.itemDisabled,_=c.id,y=c.value,g=c.disabled,E=Object.assign(document.createElement("div"),{className:"".concat(m," ").concat(g?v:"")});return E.setAttribute("role","group"),Object.assign(E.dataset,{group:"",id:_,value:y}),g&&E.setAttribute("aria-disabled","true"),E.appendChild(Object.assign(document.createElement("div"),(f={className:h},f[d?"innerHTML":"innerText"]=y,f))),E},choice:function(l,c,f){var d,p=l.allowHTML,m=l.classNames,h=m.item,v=m.itemChoice,_=m.itemSelectable,y=m.selectedState,g=m.itemDisabled,E=m.placeholder,b=c.id,T=c.value,A=c.label,S=c.groupId,M=c.elementId,R=c.disabled,F=c.selected,I=c.placeholder,w=Object.assign(document.createElement("div"),(d={id:M},d[p?"innerHTML":"innerText"]=A,d.className="".concat(h," ").concat(v),d));return F&&w.classList.add(y),I&&w.classList.add(E),w.setAttribute("role",S&&S>0?"treeitem":"option"),Object.assign(w.dataset,{choice:"",id:b,value:T,selectText:f}),R?(w.classList.add(g),w.dataset.choiceDisabled="",w.setAttribute("aria-disabled","true")):(w.classList.add(_),w.dataset.choiceSelectable=""),w},input:function(l,c){var f=l.classNames,d=f.input,p=f.inputCloned,m=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(d," ").concat(p),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return m.setAttribute("role","textbox"),m.setAttribute("aria-autocomplete","list"),m.setAttribute("aria-label",c),m},dropdown:function(l){var c=l.classNames,f=c.list,d=c.listDropdown,p=document.createElement("div");return p.classList.add(f,d),p.setAttribute("aria-expanded","false"),p},notice:function(l,c,f){var d,p=l.allowHTML,m=l.classNames,h=m.item,v=m.itemChoice,_=m.noResults,y=m.noChoices;f===void 0&&(f="");var g=[h,v];return f==="no-choices"?g.push(y):f==="no-results"&&g.push(_),Object.assign(document.createElement("div"),(d={},d[p?"innerHTML":"innerText"]=c,d.className=g.join(" "),d))},option:function(l){var c=l.label,f=l.value,d=l.customProperties,p=l.active,m=l.disabled,h=new Option(c,f,!1,p);return d&&(h.dataset.customProperties="".concat(d)),h.disabled=!!m,h}};a.default=u},996:function(o){var a=function(M){return u(M)&&!l(M)};function u(S){return!!S&&typeof S=="object"}function l(S){var M=Object.prototype.toString.call(S);return M==="[object RegExp]"||M==="[object Date]"||d(S)}var c=typeof Symbol=="function"&&Symbol.for,f=c?Symbol.for("react.element"):60103;function d(S){return S.$$typeof===f}function p(S){return Array.isArray(S)?[]:{}}function m(S,M){return M.clone!==!1&&M.isMergeableObject(S)?T(p(S),S,M):S}function h(S,M,R){return S.concat(M).map(function(F){return m(F,R)})}function v(S,M){if(!M.customMerge)return T;var R=M.customMerge(S);return typeof R=="function"?R:T}function _(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(M){return S.propertyIsEnumerable(M)}):[]}function y(S){return Object.keys(S).concat(_(S))}function g(S,M){try{return M in S}catch{return!1}}function E(S,M){return g(S,M)&&!(Object.hasOwnProperty.call(S,M)&&Object.propertyIsEnumerable.call(S,M))}function b(S,M,R){var F={};return R.isMergeableObject(S)&&y(S).forEach(function(I){F[I]=m(S[I],R)}),y(M).forEach(function(I){E(S,I)||(g(S,I)&&R.isMergeableObject(M[I])?F[I]=v(I,R)(S[I],M[I],R):F[I]=m(M[I],R))}),F}function T(S,M,R){R=R||{},R.arrayMerge=R.arrayMerge||h,R.isMergeableObject=R.isMergeableObject||a,R.cloneUnlessOtherwiseSpecified=m;var F=Array.isArray(M),I=Array.isArray(S),w=F===I;return w?F?R.arrayMerge(S,M,R):b(S,M,R):m(M,R)}T.all=function(M,R){if(!Array.isArray(M))throw new Error("first argument should be an array");return M.reduce(function(F,I){return T(F,I,R)},{})};var A=T;o.exports=A},221:function(o,a,u){u.r(a),u.d(a,{default:function(){return Et}});function l(V){return Array.isArray?Array.isArray(V):E(V)==="[object Array]"}const c=1/0;function f(V){if(typeof V=="string")return V;let N=V+"";return N=="0"&&1/V==-c?"-0":N}function d(V){return V==null?"":f(V)}function p(V){return typeof V=="string"}function m(V){return typeof V=="number"}function h(V){return V===!0||V===!1||_(V)&&E(V)=="[object Boolean]"}function v(V){return typeof V=="object"}function _(V){return v(V)&&V!==null}function y(V){return V!=null}function g(V){return!V.trim().length}function E(V){return V==null?V===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(V)}const b="Incorrect 'index' type",T=V=>`Invalid value for key ${V}`,A=V=>`Pattern length exceeds max of ${V}.`,S=V=>`Missing ${V} property in key`,M=V=>`Property 'weight' in key '${V}' must be a positive integer`,R=Object.prototype.hasOwnProperty;class F{constructor(N){this._keys=[],this._keyMap={};let Y=0;N.forEach(U=>{let q=I(U);Y+=q.weight,this._keys.push(q),this._keyMap[q.id]=q,Y+=q.weight}),this._keys.forEach(U=>{U.weight/=Y})}get(N){return this._keyMap[N]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function I(V){let N=null,Y=null,U=null,q=1,K=null;if(p(V)||l(V))U=V,N=w(V),Y=x(V);else{if(!R.call(V,"name"))throw new Error(S("name"));const Z=V.name;if(U=Z,R.call(V,"weight")&&(q=V.weight,q<=0))throw new Error(M(Z));N=w(Z),Y=x(Z),K=V.getFn}return{path:N,id:Y,weight:q,src:U,getFn:K}}function w(V){return l(V)?V:V.split(".")}function x(V){return l(V)?V.join("."):V}function C(V,N){let Y=[],U=!1;const q=(K,Z,ne)=>{if(y(K))if(!Z[ne])Y.push(K);else{let se=Z[ne];const ae=K[se];if(!y(ae))return;if(ne===Z.length-1&&(p(ae)||m(ae)||h(ae)))Y.push(d(ae));else if(l(ae)){U=!0;for(let ce=0,ve=ae.length;ce<ve;ce+=1)q(ae[ce],Z,ne+1)}else Z.length&&q(ae,Z,ne+1)}};return q(V,p(N)?N.split("."):N,0),U?Y:Y[0]}var P={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(V,N)=>V.score===N.score?V.idx<N.idx?-1:1:V.score<N.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:C,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const z=/[^ ]+/g;function H(V=1,N=3){const Y=new Map,U=Math.pow(10,N);return{get(q){const K=q.match(z).length;if(Y.has(K))return Y.get(K);const Z=1/Math.pow(K,.5*V),ne=parseFloat(Math.round(Z*U)/U);return Y.set(K,ne),ne},clear(){Y.clear()}}}class X{constructor({getFn:N=P.getFn,fieldNormWeight:Y=P.fieldNormWeight}={}){this.norm=H(Y,3),this.getFn=N,this.isCreated=!1,this.setIndexRecords()}setSources(N=[]){this.docs=N}setIndexRecords(N=[]){this.records=N}setKeys(N=[]){this.keys=N,this._keysMap={},N.forEach((Y,U)=>{this._keysMap[Y.id]=U})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,p(this.docs[0])?this.docs.forEach((N,Y)=>{this._addString(N,Y)}):this.docs.forEach((N,Y)=>{this._addObject(N,Y)}),this.norm.clear())}add(N){const Y=this.size();p(N)?this._addString(N,Y):this._addObject(N,Y)}removeAt(N){this.records.splice(N,1);for(let Y=N,U=this.size();Y<U;Y+=1)this.records[Y].i-=1}getValueForItemAtKeyId(N,Y){return N[this._keysMap[Y]]}size(){return this.records.length}_addString(N,Y){if(!y(N)||g(N))return;let U={v:N,i:Y,n:this.norm.get(N)};this.records.push(U)}_addObject(N,Y){let U={i:Y,$:{}};this.keys.forEach((q,K)=>{let Z=q.getFn?q.getFn(N):this.getFn(N,q.path);if(y(Z)){if(l(Z)){let ne=[];const se=[{nestedArrIndex:-1,value:Z}];for(;se.length;){const{nestedArrIndex:ae,value:ce}=se.pop();if(y(ce))if(p(ce)&&!g(ce)){let ve={v:ce,i:ae,n:this.norm.get(ce)};ne.push(ve)}else l(ce)&&ce.forEach((ve,Te)=>{se.push({nestedArrIndex:Te,value:ve})})}U.$[K]=ne}else if(p(Z)&&!g(Z)){let ne={v:Z,n:this.norm.get(Z)};U.$[K]=ne}}}),this.records.push(U)}toJSON(){return{keys:this.keys,records:this.records}}}function j(V,N,{getFn:Y=P.getFn,fieldNormWeight:U=P.fieldNormWeight}={}){const q=new X({getFn:Y,fieldNormWeight:U});return q.setKeys(V.map(I)),q.setSources(N),q.create(),q}function ue(V,{getFn:N=P.getFn,fieldNormWeight:Y=P.fieldNormWeight}={}){const{keys:U,records:q}=V,K=new X({getFn:N,fieldNormWeight:Y});return K.setKeys(U),K.setIndexRecords(q),K}function G(V,{errors:N=0,currentLocation:Y=0,expectedLocation:U=0,distance:q=P.distance,ignoreLocation:K=P.ignoreLocation}={}){const Z=N/V.length;if(K)return Z;const ne=Math.abs(U-Y);return q?Z+ne/q:ne?1:Z}function J(V=[],N=P.minMatchCharLength){let Y=[],U=-1,q=-1,K=0;for(let Z=V.length;K<Z;K+=1){let ne=V[K];ne&&U===-1?U=K:!ne&&U!==-1&&(q=K-1,q-U+1>=N&&Y.push([U,q]),U=-1)}return V[K-1]&&K-U>=N&&Y.push([U,K-1]),Y}const te=32;function oe(V,N,Y,{location:U=P.location,distance:q=P.distance,threshold:K=P.threshold,findAllMatches:Z=P.findAllMatches,minMatchCharLength:ne=P.minMatchCharLength,includeMatches:se=P.includeMatches,ignoreLocation:ae=P.ignoreLocation}={}){if(N.length>te)throw new Error(A(te));const ce=N.length,ve=V.length,Te=Math.max(0,Math.min(U,ve));let Oe=K,ke=Te;const ze=ne>1||se,Ut=ze?Array(ve):[];let wt;for(;(wt=V.indexOf(N,ke))>-1;){let W=G(N,{currentLocation:wt,expectedLocation:Te,distance:q,ignoreLocation:ae});if(Oe=Math.min(W,Oe),ke=wt+ce,ze){let ee=0;for(;ee<ce;)Ut[wt+ee]=1,ee+=1}}ke=-1;let on=[],$t=1,ci=ce+ve;const le=1<<ce-1;for(let W=0;W<ce;W+=1){let ee=0,ye=ci;for(;ee<ye;)G(N,{errors:W,currentLocation:Te+ye,expectedLocation:Te,distance:q,ignoreLocation:ae})<=Oe?ee=ye:ci=ye,ye=Math.floor((ci-ee)/2+ee);ci=ye;let Qe=Math.max(1,Te-ye+1),$e=Z?ve:Math.min(Te+ye,ve)+ce,Pe=Array($e+2);Pe[$e+1]=(1<<W)-1;for(let Ce=$e;Ce>=Qe;Ce-=1){let yn=Ce-1,Ki=Y[V.charAt(yn)];if(ze&&(Ut[yn]=+!!Ki),Pe[Ce]=(Pe[Ce+1]<<1|1)&Ki,W&&(Pe[Ce]|=(on[Ce+1]|on[Ce])<<1|1|on[Ce+1]),Pe[Ce]&le&&($t=G(N,{errors:W,currentLocation:yn,expectedLocation:Te,distance:q,ignoreLocation:ae}),$t<=Oe)){if(Oe=$t,ke=yn,ke<=Te)break;Qe=Math.max(1,2*Te-ke)}}if(G(N,{errors:W+1,currentLocation:Te,expectedLocation:Te,distance:q,ignoreLocation:ae})>Oe)break;on=Pe}const B={isMatch:ke>=0,score:Math.max(.001,$t)};if(ze){const W=J(Ut,ne);W.length?se&&(B.indices=W):B.isMatch=!1}return B}function ie(V){let N={};for(let Y=0,U=V.length;Y<U;Y+=1){const q=V.charAt(Y);N[q]=(N[q]||0)|1<<U-Y-1}return N}class De{constructor(N,{location:Y=P.location,threshold:U=P.threshold,distance:q=P.distance,includeMatches:K=P.includeMatches,findAllMatches:Z=P.findAllMatches,minMatchCharLength:ne=P.minMatchCharLength,isCaseSensitive:se=P.isCaseSensitive,ignoreLocation:ae=P.ignoreLocation}={}){if(this.options={location:Y,threshold:U,distance:q,includeMatches:K,findAllMatches:Z,minMatchCharLength:ne,isCaseSensitive:se,ignoreLocation:ae},this.pattern=se?N:N.toLowerCase(),this.chunks=[],!this.pattern.length)return;const ce=(Te,Oe)=>{this.chunks.push({pattern:Te,alphabet:ie(Te),startIndex:Oe})},ve=this.pattern.length;if(ve>te){let Te=0;const Oe=ve%te,ke=ve-Oe;for(;Te<ke;)ce(this.pattern.substr(Te,te),Te),Te+=te;if(Oe){const ze=ve-te;ce(this.pattern.substr(ze),ze)}}else ce(this.pattern,0)}searchIn(N){const{isCaseSensitive:Y,includeMatches:U}=this.options;if(Y||(N=N.toLowerCase()),this.pattern===N){let ke={isMatch:!0,score:0};return U&&(ke.indices=[[0,N.length-1]]),ke}const{location:q,distance:K,threshold:Z,findAllMatches:ne,minMatchCharLength:se,ignoreLocation:ae}=this.options;let ce=[],ve=0,Te=!1;this.chunks.forEach(({pattern:ke,alphabet:ze,startIndex:Ut})=>{const{isMatch:wt,score:on,indices:$t}=oe(N,ke,ze,{location:q+Ut,distance:K,threshold:Z,findAllMatches:ne,minMatchCharLength:se,includeMatches:U,ignoreLocation:ae});wt&&(Te=!0),ve+=on,wt&&$t&&(ce=[...ce,...$t])});let Oe={isMatch:Te,score:Te?ve/this.chunks.length:1};return Te&&U&&(Oe.indices=ce),Oe}}class Fe{constructor(N){this.pattern=N}static isMultiMatch(N){return nt(N,this.multiRegex)}static isSingleMatch(N){return nt(N,this.singleRegex)}search(){}}function nt(V,N){const Y=V.match(N);return Y?Y[1]:null}class it extends Fe{constructor(N){super(N)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(N){const Y=N===this.pattern;return{isMatch:Y,score:Y?0:1,indices:[0,this.pattern.length-1]}}}class tn extends Fe{constructor(N){super(N)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(N){const U=N.indexOf(this.pattern)===-1;return{isMatch:U,score:U?0:1,indices:[0,N.length-1]}}}class ii extends Fe{constructor(N){super(N)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(N){const Y=N.startsWith(this.pattern);return{isMatch:Y,score:Y?0:1,indices:[0,this.pattern.length-1]}}}class mn extends Fe{constructor(N){super(N)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(N){const Y=!N.startsWith(this.pattern);return{isMatch:Y,score:Y?0:1,indices:[0,N.length-1]}}}class ri extends Fe{constructor(N){super(N)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(N){const Y=N.endsWith(this.pattern);return{isMatch:Y,score:Y?0:1,indices:[N.length-this.pattern.length,N.length-1]}}}class oi extends Fe{constructor(N){super(N)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(N){const Y=!N.endsWith(this.pattern);return{isMatch:Y,score:Y?0:1,indices:[0,N.length-1]}}}class ji extends Fe{constructor(N,{location:Y=P.location,threshold:U=P.threshold,distance:q=P.distance,includeMatches:K=P.includeMatches,findAllMatches:Z=P.findAllMatches,minMatchCharLength:ne=P.minMatchCharLength,isCaseSensitive:se=P.isCaseSensitive,ignoreLocation:ae=P.ignoreLocation}={}){super(N),this._bitapSearch=new De(N,{location:Y,threshold:U,distance:q,includeMatches:K,findAllMatches:Z,minMatchCharLength:ne,isCaseSensitive:se,ignoreLocation:ae})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(N){return this._bitapSearch.searchIn(N)}}class Ui extends Fe{constructor(N){super(N)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(N){let Y=0,U;const q=[],K=this.pattern.length;for(;(U=N.indexOf(this.pattern,Y))>-1;)Y=U+K,q.push([U,Y-1]);const Z=!!q.length;return{isMatch:Z,score:Z?0:1,indices:q}}}const $i=[it,Ui,ii,mn,oi,ri,tn,ji],ai=$i.length,Fn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,gn="|";function vn(V,N={}){return V.split(gn).map(Y=>{let U=Y.trim().split(Fn).filter(K=>K&&!!K.trim()),q=[];for(let K=0,Z=U.length;K<Z;K+=1){const ne=U[K];let se=!1,ae=-1;for(;!se&&++ae<ai;){const ce=$i[ae];let ve=ce.isMultiMatch(ne);ve&&(q.push(new ce(ve,N)),se=!0)}if(!se)for(ae=-1;++ae<ai;){const ce=$i[ae];let ve=ce.isSingleMatch(ne);if(ve){q.push(new ce(ve,N));break}}}return q})}const Cr=new Set([ji.type,Ui.type]);class Ir{constructor(N,{isCaseSensitive:Y=P.isCaseSensitive,includeMatches:U=P.includeMatches,minMatchCharLength:q=P.minMatchCharLength,ignoreLocation:K=P.ignoreLocation,findAllMatches:Z=P.findAllMatches,location:ne=P.location,threshold:se=P.threshold,distance:ae=P.distance}={}){this.query=null,this.options={isCaseSensitive:Y,includeMatches:U,minMatchCharLength:q,findAllMatches:Z,ignoreLocation:K,location:ne,threshold:se,distance:ae},this.pattern=Y?N:N.toLowerCase(),this.query=vn(this.pattern,this.options)}static condition(N,Y){return Y.useExtendedSearch}searchIn(N){const Y=this.query;if(!Y)return{isMatch:!1,score:1};const{includeMatches:U,isCaseSensitive:q}=this.options;N=q?N:N.toLowerCase();let K=0,Z=[],ne=0;for(let se=0,ae=Y.length;se<ae;se+=1){const ce=Y[se];Z.length=0,K=0;for(let ve=0,Te=ce.length;ve<Te;ve+=1){const Oe=ce[ve],{isMatch:ke,indices:ze,score:Ut}=Oe.search(N);if(ke){if(K+=1,ne+=Ut,U){const wt=Oe.constructor.type;Cr.has(wt)?Z=[...Z,...ze]:Z.push(ze)}}else{ne=0,K=0,Z.length=0;break}}if(K){let ve={isMatch:!0,score:ne/K};return U&&(ve.indices=Z),ve}}return{isMatch:!1,score:1}}}const si=[];function Gi(...V){si.push(...V)}function ui(V,N){for(let Y=0,U=si.length;Y<U;Y+=1){let q=si[Y];if(q.condition(V,N))return new q(V,N)}return new De(V,N)}const nn={AND:"$and",OR:"$or"},En={PATH:"$path",PATTERN:"$val"},vt=V=>!!(V[nn.AND]||V[nn.OR]),_n=V=>!!V[En.PATH],Wi=V=>!l(V)&&v(V)&&!vt(V),li=V=>({[nn.AND]:Object.keys(V).map(N=>({[N]:V[N]}))});function Mr(V,N,{auto:Y=!0}={}){const U=q=>{let K=Object.keys(q);const Z=_n(q);if(!Z&&K.length>1&&!vt(q))return U(li(q));if(Wi(q)){const se=Z?q[En.PATH]:K[0],ae=Z?q[En.PATTERN]:q[se];if(!p(ae))throw new Error(T(se));const ce={keyId:x(se),pattern:ae};return Y&&(ce.searcher=ui(ae,N)),ce}let ne={children:[],operator:K[0]};return K.forEach(se=>{const ae=q[se];l(ae)&&ae.forEach(ce=>{ne.children.push(U(ce))})}),ne};return vt(V)||(V=li(V)),U(V)}function rn(V,{ignoreFieldNorm:N=P.ignoreFieldNorm}){V.forEach(Y=>{let U=1;Y.matches.forEach(({key:q,norm:K,score:Z})=>{const ne=q?q.weight:null;U*=Math.pow(Z===0&&ne?Number.EPSILON:Z,(ne||1)*(N?1:K))}),Y.score=U})}function Go(V,N){const Y=V.matches;N.matches=[],y(Y)&&Y.forEach(U=>{if(!y(U.indices)||!U.indices.length)return;const{indices:q,value:K}=U;let Z={indices:q,value:K};U.key&&(Z.key=U.key.src),U.idx>-1&&(Z.refIndex=U.idx),N.matches.push(Z)})}function Wo(V,N){N.score=V.score}function Ue(V,N,{includeMatches:Y=P.includeMatches,includeScore:U=P.includeScore}={}){const q=[];return Y&&q.push(Go),U&&q.push(Wo),V.map(K=>{const{idx:Z}=K,ne={item:N[Z],refIndex:Z};return q.length&&q.forEach(se=>{se(K,ne)}),ne})}class Et{constructor(N,Y={},U){this.options={...P,...Y},this.options.useExtendedSearch,this._keyStore=new F(this.options.keys),this.setCollection(N,U)}setCollection(N,Y){if(this._docs=N,Y&&!(Y instanceof X))throw new Error(b);this._myIndex=Y||j(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(N){y(N)&&(this._docs.push(N),this._myIndex.add(N))}remove(N=()=>!1){const Y=[];for(let U=0,q=this._docs.length;U<q;U+=1){const K=this._docs[U];N(K,U)&&(this.removeAt(U),U-=1,q-=1,Y.push(K))}return Y}removeAt(N){this._docs.splice(N,1),this._myIndex.removeAt(N)}getIndex(){return this._myIndex}search(N,{limit:Y=-1}={}){const{includeMatches:U,includeScore:q,shouldSort:K,sortFn:Z,ignoreFieldNorm:ne}=this.options;let se=p(N)?p(this._docs[0])?this._searchStringList(N):this._searchObjectList(N):this._searchLogical(N);return rn(se,{ignoreFieldNorm:ne}),K&&se.sort(Z),m(Y)&&Y>-1&&(se=se.slice(0,Y)),Ue(se,this._docs,{includeMatches:U,includeScore:q})}_searchStringList(N){const Y=ui(N,this.options),{records:U}=this._myIndex,q=[];return U.forEach(({v:K,i:Z,n:ne})=>{if(!y(K))return;const{isMatch:se,score:ae,indices:ce}=Y.searchIn(K);se&&q.push({item:K,idx:Z,matches:[{score:ae,value:K,norm:ne,indices:ce}]})}),q}_searchLogical(N){const Y=Mr(N,this.options),U=(ne,se,ae)=>{if(!ne.children){const{keyId:ve,searcher:Te}=ne,Oe=this._findMatches({key:this._keyStore.get(ve),value:this._myIndex.getValueForItemAtKeyId(se,ve),searcher:Te});return Oe&&Oe.length?[{idx:ae,item:se,matches:Oe}]:[]}const ce=[];for(let ve=0,Te=ne.children.length;ve<Te;ve+=1){const Oe=ne.children[ve],ke=U(Oe,se,ae);if(ke.length)ce.push(...ke);else if(ne.operator===nn.AND)return[]}return ce},q=this._myIndex.records,K={},Z=[];return q.forEach(({$:ne,i:se})=>{if(y(ne)){let ae=U(Y,ne,se);ae.length&&(K[se]||(K[se]={idx:se,item:ne,matches:[]},Z.push(K[se])),ae.forEach(({matches:ce})=>{K[se].matches.push(...ce)}))}}),Z}_searchObjectList(N){const Y=ui(N,this.options),{keys:U,records:q}=this._myIndex,K=[];return q.forEach(({$:Z,i:ne})=>{if(!y(Z))return;let se=[];U.forEach((ae,ce)=>{se.push(...this._findMatches({key:ae,value:Z[ce],searcher:Y}))}),se.length&&K.push({idx:ne,item:Z,matches:se})}),K}_findMatches({key:N,value:Y,searcher:U}){if(!y(Y))return[];let q=[];if(l(Y))Y.forEach(({v:K,i:Z,n:ne})=>{if(!y(K))return;const{isMatch:se,score:ae,indices:ce}=U.searchIn(K);se&&q.push({score:ae,key:N,value:K,idx:Z,norm:ne,indices:ce})});else{const{v:K,n:Z}=Y,{isMatch:ne,score:se,indices:ae}=U.searchIn(K);ne&&q.push({score:se,key:N,value:K,norm:Z,indices:ae})}return q}}Et.version="6.6.2",Et.createIndex=j,Et.parseIndex=ue,Et.config=P,Et.parseQuery=Mr,Gi(Ir)},791:function(o,a,u){u.r(a),u.d(a,{__DO_NOT_USE__ActionTypes:function(){return y},applyMiddleware:function(){return F},bindActionCreators:function(){return M},combineReducers:function(){return A},compose:function(){return R},createStore:function(){return E},legacy_createStore:function(){return b}});function l(I){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l(I)}function c(I,w){if(l(I)!=="object"||I===null)return I;var x=I[Symbol.toPrimitive];if(x!==void 0){var C=x.call(I,w||"default");if(l(C)!=="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(I)}function f(I){var w=c(I,"string");return l(w)==="symbol"?w:String(w)}function d(I,w,x){return w=f(w),w in I?Object.defineProperty(I,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):I[w]=x,I}function p(I,w){var x=Object.keys(I);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(I);w&&(C=C.filter(function(D){return Object.getOwnPropertyDescriptor(I,D).enumerable})),x.push.apply(x,C)}return x}function m(I){for(var w=1;w<arguments.length;w++){var x=arguments[w]!=null?arguments[w]:{};w%2?p(Object(x),!0).forEach(function(C){d(I,C,x[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(x)):p(Object(x)).forEach(function(C){Object.defineProperty(I,C,Object.getOwnPropertyDescriptor(x,C))})}return I}function h(I){return"Minified Redux error #"+I+"; visit https://redux.js.org/Errors?code="+I+" for the full message or use the non-minified dev environment for full errors. "}var v=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_=function(){return Math.random().toString(36).substring(7).split("").join(".")},y={INIT:"@@redux/INIT"+_(),REPLACE:"@@redux/REPLACE"+_(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_()}};function g(I){if(typeof I!="object"||I===null)return!1;for(var w=I;Object.getPrototypeOf(w)!==null;)w=Object.getPrototypeOf(w);return Object.getPrototypeOf(I)===w}function E(I,w,x){var C;if(typeof w=="function"&&typeof x=="function"||typeof x=="function"&&typeof arguments[3]=="function")throw new Error(h(0));if(typeof w=="function"&&typeof x>"u"&&(x=w,w=void 0),typeof x<"u"){if(typeof x!="function")throw new Error(h(1));return x(E)(I,w)}if(typeof I!="function")throw new Error(h(2));var D=I,L=w,O=[],k=O,P=!1;function z(){k===O&&(k=O.slice())}function H(){if(P)throw new Error(h(3));return L}function X(J){if(typeof J!="function")throw new Error(h(4));if(P)throw new Error(h(5));var te=!0;return z(),k.push(J),function(){if(te){if(P)throw new Error(h(6));te=!1,z();var ie=k.indexOf(J);k.splice(ie,1),O=null}}}function j(J){if(!g(J))throw new Error(h(7));if(typeof J.type>"u")throw new Error(h(8));if(P)throw new Error(h(9));try{P=!0,L=D(L,J)}finally{P=!1}for(var te=O=k,oe=0;oe<te.length;oe++){var ie=te[oe];ie()}return J}function ue(J){if(typeof J!="function")throw new Error(h(10));D=J,j({type:y.REPLACE})}function G(){var J,te=X;return J={subscribe:function(ie){if(typeof ie!="object"||ie===null)throw new Error(h(11));function De(){ie.next&&ie.next(H())}De();var Fe=te(De);return{unsubscribe:Fe}}},J[v]=function(){return this},J}return j({type:y.INIT}),C={dispatch:j,subscribe:X,getState:H,replaceReducer:ue},C[v]=G,C}var b=E;function T(I){Object.keys(I).forEach(function(w){var x=I[w],C=x(void 0,{type:y.INIT});if(typeof C>"u")throw new Error(h(12));if(typeof x(void 0,{type:y.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(h(13))})}function A(I){for(var w=Object.keys(I),x={},C=0;C<w.length;C++){var D=w[C];typeof I[D]=="function"&&(x[D]=I[D])}var L=Object.keys(x),O;try{T(x)}catch(k){O=k}return function(P,z){if(P===void 0&&(P={}),O)throw O;for(var H=!1,X={},j=0;j<L.length;j++){var ue=L[j],G=x[ue],J=P[ue],te=G(J,z);if(typeof te>"u")throw z&&z.type,new Error(h(14));X[ue]=te,H=H||te!==J}return H=H||L.length!==Object.keys(P).length,H?X:P}}function S(I,w){return function(){return w(I.apply(this,arguments))}}function M(I,w){if(typeof I=="function")return S(I,w);if(typeof I!="object"||I===null)throw new Error(h(16));var x={};for(var C in I){var D=I[C];typeof D=="function"&&(x[C]=S(D,w))}return x}function R(){for(var I=arguments.length,w=new Array(I),x=0;x<I;x++)w[x]=arguments[x];return w.length===0?function(C){return C}:w.length===1?w[0]:w.reduce(function(C,D){return function(){return C(D.apply(void 0,arguments))}})}function F(){for(var I=arguments.length,w=new Array(I),x=0;x<I;x++)w[x]=arguments[x];return function(C){return function(){var D=C.apply(void 0,arguments),L=function(){throw new Error(h(15))},O={getState:D.getState,dispatch:function(){return L.apply(void 0,arguments)}},k=w.map(function(P){return P(O)});return L=R.apply(void 0,k)(D.dispatch),m(m({},D),{},{dispatch:L})}}}}},i={};function r(o){var a=i[o];if(a!==void 0)return a.exports;var u=i[o]={exports:{}};return n[o].call(u.exports,u,u.exports,r),u.exports}(function(){r.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(a,{a}),a}})(),function(){r.d=function(o,a){for(var u in a)r.o(a,u)&&!r.o(o,u)&&Object.defineProperty(o,u,{enumerable:!0,get:a[u]})}}(),function(){r.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),function(){r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var s={};return function(){var o=r(373),a=r.n(o);r(187),r(883),r(789),r(686),s.default=a()}(),s=s.default,s}()})}),Ci=(e,t=0,n=1)=>e>n?n:e<t?t:e,lt=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n,sf={grad:360/400,turn:360,rad:360/(Math.PI*2)},uf=e=>ql(wa(e)),wa=e=>(e[0]==="#"&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}),lf=(e,t="deg")=>Number(e)*(sf[t]||1),cf=e=>{const n=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return n?hf({h:lf(n[1],n[2]),s:Number(n[3]),l:Number(n[4]),a:n[5]===void 0?1:Number(n[5])/(n[6]?100:1)}):{h:0,s:0,v:0,a:1}},df=cf,hf=({h:e,s:t,l:n,a:i})=>(t*=(n<50?n:100-n)/100,{h:e,s:t>0?2*t/(n+t)*100:0,v:n+t,a:i}),ff=e=>vf(ns(e)),Gl=({h:e,s:t,v:n,a:i})=>{const r=(200-t)*n/100;return{h:lt(e),s:lt(r>0&&r<200?t*n/100/(r<=100?r:200-r)*100:0),l:lt(r/2),a:lt(i,2)}},lo=e=>{const{h:t,s:n,l:i}=Gl(e);return`hsl(${t}, ${n}%, ${i}%)`},qo=e=>{const{h:t,s:n,l:i,a:r}=Gl(e);return`hsla(${t}, ${n}%, ${i}%, ${r})`},ns=({h:e,s:t,v:n,a:i})=>{e=e/360*6,t=t/100,n=n/100;const r=Math.floor(e),s=n*(1-t),o=n*(1-(e-r)*t),a=n*(1-(1-e+r)*t),u=r%6;return{r:lt([n,o,s,s,a,n][u]*255),g:lt([a,n,n,o,s,s][u]*255),b:lt([s,s,a,n,n,o][u]*255),a:lt(i,2)}},pf=e=>{const{r:t,g:n,b:i}=ns(e);return`rgb(${t}, ${n}, ${i})`},mf=e=>{const{r:t,g:n,b:i,a:r}=ns(e);return`rgba(${t}, ${n}, ${i}, ${r})`},Wl=e=>{const n=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return n?ql({r:Number(n[1])/(n[2]?100/255:1),g:Number(n[3])/(n[4]?100/255:1),b:Number(n[5])/(n[6]?100/255:1),a:n[7]===void 0?1:Number(n[7])/(n[8]?100:1)}):{h:0,s:0,v:0,a:1}},gf=Wl,Ko=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},vf=({r:e,g:t,b:n})=>"#"+Ko(e)+Ko(t)+Ko(n),ql=({r:e,g:t,b:n,a:i})=>{const r=Math.max(e,t,n),s=r-Math.min(e,t,n),o=s?r===e?(t-n)/s:r===t?2+(n-e)/s:4+(e-t)/s:0;return{h:lt(60*(o<0?o+6:o)),s:lt(r?s/r*100:0),v:lt(r/255*100),a:i}},Kl=(e,t)=>{if(e===t)return!0;for(const n in e)if(e[n]!==t[n])return!1;return!0},is=(e,t)=>e.replace(/\s/g,"")===t.replace(/\s/g,""),Ef=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:Kl(wa(e),wa(t)),Bs={},Xl=e=>{let t=Bs[e];return t||(t=document.createElement("template"),t.innerHTML=e,Bs[e]=t),t},rs=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))},Si=!1,Da=e=>"touches"in e,_f=e=>Si&&!Da(e)?!1:(Si||(Si=Da(e)),!0),Ns=(e,t)=>{const n=Da(t)?t.touches[0]:t,i=e.el.getBoundingClientRect();rs(e.el,"move",e.getMove({x:Ci((n.pageX-(i.left+window.pageXOffset))/i.width),y:Ci((n.pageY-(i.top+window.pageYOffset))/i.height)}))},yf=(e,t)=>{const n=t.keyCode;n>40||e.xy&&n<37||n<33||(t.preventDefault(),rs(e.el,"move",e.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))},os=class{constructor(e,t,n,i){const r=Xl(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(r.content.cloneNode(!0));const s=e.querySelector(`[part=${t}]`);s.addEventListener("mousedown",this),s.addEventListener("touchstart",this),s.addEventListener("keydown",this),this.el=s,this.xy=i,this.nodes=[s.firstChild,s]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Si?"touchmove":"mousemove",this),t(Si?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!_f(e)||!Si&&e.button!=0)return;this.el.focus(),Ns(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),Ns(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":yf(this,e);break}}style(e){e.forEach((t,n)=>{for(const i in t)this.nodes[n].style.setProperty(i,t[i])})}},bf=class extends os{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:lo({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${lt(e)}`)}getMove(e,t){return{h:t?Ci(this.h+e.x*360,0,360):360*e.x}}},Af=class extends os{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:lo(e)},{"background-color":lo({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${lt(e.s)}%, Brightness ${lt(e.v)}%`)}getMove(e,t){return{s:t?Ci(this.hsva.s+e.x*100,0,100):e.x*100,v:t?Ci(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}},Tf=":host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{display:block;content:'';position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}",Sf="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",wf="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",Lr=Symbol("same"),zs=Symbol("color"),Ys=Symbol("hsva"),Xo=Symbol("change"),Jo=Symbol("update"),Vs=Symbol("parts"),co=Symbol("css"),ho=Symbol("sliders"),Oo=class extends HTMLElement{static get observedAttributes(){return["color"]}get[co](){return[Tf,Sf,wf]}get[ho](){return[Af,bf]}get color(){return this[zs]}set color(e){if(!this[Lr](e)){const t=this.colorModel.toHsva(e);this[Jo](t),this[Xo](e)}}constructor(){super();const e=Xl(`<style>${this[co].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[Vs]=this[ho].map(n=>new n(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,n){const i=this.colorModel.fromAttr(n);this[Lr](i)||(this.color=i)}handleEvent(e){const t=this[Ys],n={...t,...e.detail};this[Jo](n);let i;!Kl(n,t)&&!this[Lr](i=this.colorModel.fromHsva(n))&&this[Xo](i)}[Lr](e){return this.color&&this.colorModel.equal(e,this.color)}[Jo](e){this[Ys]=e,this[Vs].forEach(t=>t.update(e))}[Xo](e){this[zs]=e,rs(this,"color-changed",{value:e})}},Df={defaultColor:"#000",toHsva:uf,fromHsva:ff,equal:Ef,fromAttr:e=>e},xf=class extends Oo{get colorModel(){return Df}},Cf=class extends xf{};customElements.define("hex-color-picker",Cf);var If={defaultColor:"hsl(0, 0%, 0%)",toHsva:df,fromHsva:lo,equal:is,fromAttr:e=>e},Mf=class extends Oo{get colorModel(){return If}},Lf=class extends Mf{};customElements.define("hsl-string-color-picker",Lf);var Rf={defaultColor:"rgb(0, 0, 0)",toHsva:gf,fromHsva:pf,equal:is,fromAttr:e=>e},Ff=class extends Oo{get colorModel(){return Rf}},Of=class extends Ff{};customElements.define("rgb-string-color-picker",Of);var kf=class extends os{constructor(e){super(e,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(e){this.hsva=e;const t=qo({...e,a:0}),n=qo({...e,a:1}),i=e.a*100;this.style([{left:`${i}%`,color:qo(e)},{"--gradient":`linear-gradient(90deg, ${t}, ${n}`}]);const r=lt(i);this.el.setAttribute("aria-valuenow",`${r}`),this.el.setAttribute("aria-valuetext",`${r}%`)}getMove(e,t){return{a:t?Ci(this.hsva.a+e.x):e.x}}},Pf=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`,Bf=class extends Oo{get[co](){return[...super[co],Pf]}get[ho](){return[...super[ho],kf]}},Nf={defaultColor:"rgba(0, 0, 0, 1)",toHsva:Wl,fromHsva:mf,equal:is,fromAttr:e=>e},zf=class extends Bf{get colorModel(){return Nf}},Yf=class extends zf{};customElements.define("rgba-string-color-picker",Yf);var Vf=e=>{e.data("colorPickerFormComponent",({isAutofocused:t,isDisabled:n,state:i})=>({state:i,init:function(){this.state===null||this.state===""||this.setState(this.state),t&&this.togglePanelVisibility(this.$refs.input),this.$refs.input.addEventListener("change",r=>{this.setState(r.target.value)}),this.$refs.panel.addEventListener("color-changed",r=>{this.setState(r.detail.value)})},togglePanelVisibility:function(){n||this.$refs.panel.toggle(this.$refs.input)},setState:function(r){this.state=r,this.$refs.input.value=r,this.$refs.panel.color=r},isOpen:function(){return this.$refs.panel.style.display==="block"}}))},Jl=60,Zl=Jl*60,Ql=Zl*24,Hf=Ql*7,Ii=1e3,Zo=Jl*Ii,Hs=Zl*Ii,jf=Ql*Ii,Uf=Hf*Ii,as="millisecond",pi="second",mi="minute",gi="hour",An="day",Kr="week",Bt="month",ec="quarter",Tn="year",vi="date",$f="YYYY-MM-DDTHH:mm:ssZ",js="Invalid Date",Gf=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Wf=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,qf={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var n=["th","st","nd","rd"],i=t%100;return"["+t+(n[(i-20)%10]||n[i]||n[0])+"]"}},xa=function(t,n,i){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(i)+t},Kf=function(t){var n=-t.utcOffset(),i=Math.abs(n),r=Math.floor(i/60),s=i%60;return(n<=0?"+":"-")+xa(r,2,"0")+":"+xa(s,2,"0")},Xf=function e(t,n){if(t.date()<n.date())return-e(n,t);var i=(n.year()-t.year())*12+(n.month()-t.month()),r=t.clone().add(i,Bt),s=n-r<0,o=t.clone().add(i+(s?-1:1),Bt);return+(-(i+(n-r)/(s?r-o:o-r))||0)},Jf=function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},Zf=function(t){var n={M:Bt,y:Tn,w:Kr,d:An,D:vi,h:gi,m:mi,s:pi,ms:as,Q:ec};return n[t]||String(t||"").toLowerCase().replace(/s$/,"")},Qf=function(t){return t===void 0},ep={s:xa,z:Kf,m:Xf,a:Jf,p:Zf,u:Qf},ir="en",Un={};Un[ir]=qf;var ss=function(t){return t instanceof ko},fo=function e(t,n,i){var r;if(!t)return ir;if(typeof t=="string"){var s=t.toLowerCase();Un[s]&&(r=s),n&&(Un[s]=n,r=s);var o=t.split("-");if(!r&&o.length>1)return e(o[0])}else{var a=t.name;Un[a]=t,r=a}return!i&&r&&(ir=r),r||!i&&ir},Je=function(t,n){if(ss(t))return t.clone();var i=typeof n=="object"?n:{};return i.date=t,i.args=arguments,new ko(i)},tp=function(t,n){return Je(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})},Ie=ep;Ie.l=fo;Ie.i=ss;Ie.w=tp;var np=function(t){var n=t.date,i=t.utc;if(n===null)return new Date(NaN);if(Ie.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var r=n.match(Gf);if(r){var s=r[2]-1||0,o=(r[7]||"0").substring(0,3);return i?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(n)},ko=function(){function e(n){this.$L=fo(n.locale,null,!0),this.parse(n)}var t=e.prototype;return t.parse=function(i){this.$d=np(i),this.$x=i.x||{},this.init()},t.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},t.$utils=function(){return Ie},t.isValid=function(){return this.$d.toString()!==js},t.isSame=function(i,r){var s=Je(i);return this.startOf(r)<=s&&s<=this.endOf(r)},t.isAfter=function(i,r){return Je(i)<this.startOf(r)},t.isBefore=function(i,r){return this.endOf(r)<Je(i)},t.$g=function(i,r,s){return Ie.u(i)?this[r]:this.set(s,i)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(i,r){var s=this,o=Ie.u(r)?!0:r,a=Ie.p(i),u=function(_,y){var g=Ie.w(s.$u?Date.UTC(s.$y,y,_):new Date(s.$y,y,_),s);return o?g:g.endOf(An)},l=function(_,y){var g=[0,0,0,0],E=[23,59,59,999];return Ie.w(s.toDate()[_].apply(s.toDate("s"),(o?g:E).slice(y)),s)},c=this.$W,f=this.$M,d=this.$D,p="set"+(this.$u?"UTC":"");switch(a){case Tn:return o?u(1,0):u(31,11);case Bt:return o?u(1,f):u(0,f+1);case Kr:{var m=this.$locale().weekStart||0,h=(c<m?c+7:c)-m;return u(o?d-h:d+(6-h),f)}case An:case vi:return l(p+"Hours",0);case gi:return l(p+"Minutes",1);case mi:return l(p+"Seconds",2);case pi:return l(p+"Milliseconds",3);default:return this.clone()}},t.endOf=function(i){return this.startOf(i,!1)},t.$set=function(i,r){var s,o=Ie.p(i),a="set"+(this.$u?"UTC":""),u=(s={},s[An]=a+"Date",s[vi]=a+"Date",s[Bt]=a+"Month",s[Tn]=a+"FullYear",s[gi]=a+"Hours",s[mi]=a+"Minutes",s[pi]=a+"Seconds",s[as]=a+"Milliseconds",s)[o],l=o===An?this.$D+(r-this.$W):r;if(o===Bt||o===Tn){var c=this.clone().set(vi,1);c.$d[u](l),c.init(),this.$d=c.set(vi,Math.min(this.$D,c.daysInMonth())).$d}else u&&this.$d[u](l);return this.init(),this},t.set=function(i,r){return this.clone().$set(i,r)},t.get=function(i){return this[Ie.p(i)]()},t.add=function(i,r){var s=this,o;i=Number(i);var a=Ie.p(r),u=function(d){var p=Je(s);return Ie.w(p.date(p.date()+Math.round(d*i)),s)};if(a===Bt)return this.set(Bt,this.$M+i);if(a===Tn)return this.set(Tn,this.$y+i);if(a===An)return u(1);if(a===Kr)return u(7);var l=(o={},o[mi]=Zo,o[gi]=Hs,o[pi]=Ii,o)[a]||1,c=this.$d.getTime()+i*l;return Ie.w(c,this)},t.subtract=function(i,r){return this.add(i*-1,r)},t.format=function(i){var r=this,s=this.$locale();if(!this.isValid())return s.invalidDate||js;var o=i||$f,a=Ie.z(this),u=this.$H,l=this.$m,c=this.$M,f=s.weekdays,d=s.months,p=s.meridiem,m=function(g,E,b,T){return g&&(g[E]||g(r,o))||b[E].slice(0,T)},h=function(g){return Ie.s(u%12||12,g,"0")},v=p||function(y,g,E){var b=y<12?"AM":"PM";return E?b.toLowerCase():b},_={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:Ie.s(c+1,2,"0"),MMM:m(s.monthsShort,c,d,3),MMMM:m(d,c),D:this.$D,DD:Ie.s(this.$D,2,"0"),d:String(this.$W),dd:m(s.weekdaysMin,this.$W,f,2),ddd:m(s.weekdaysShort,this.$W,f,3),dddd:f[this.$W],H:String(u),HH:Ie.s(u,2,"0"),h:h(1),hh:h(2),a:v(u,l,!0),A:v(u,l,!1),m:String(l),mm:Ie.s(l,2,"0"),s:String(this.$s),ss:Ie.s(this.$s,2,"0"),SSS:Ie.s(this.$ms,3,"0"),Z:a};return o.replace(Wf,function(y,g){return g||_[y]||a.replace(":","")})},t.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},t.diff=function(i,r,s){var o,a=Ie.p(r),u=Je(i),l=(u.utcOffset()-this.utcOffset())*Zo,c=this-u,f=Ie.m(this,u);return f=(o={},o[Tn]=f/12,o[Bt]=f,o[ec]=f/3,o[Kr]=(c-l)/Uf,o[An]=(c-l)/jf,o[gi]=c/Hs,o[mi]=c/Zo,o[pi]=c/Ii,o)[a]||c,s?f:Ie.a(f)},t.daysInMonth=function(){return this.endOf(Bt).$D},t.$locale=function(){return Un[this.$L]},t.locale=function(i,r){if(!i)return this.$L;var s=this.clone(),o=fo(i,r,!0);return o&&(s.$L=o),s},t.clone=function(){return Ie.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}(),tc=ko.prototype;Je.prototype=tc;[["$ms",as],["$s",pi],["$m",mi],["$H",gi],["$W",An],["$M",Bt],["$y",Tn],["$D",vi]].forEach(function(e){tc[e[1]]=function(t){return this.$g(t,e[0],e[1])}});Je.extend=function(e,t){return e.$i||(e(t,ko,Je),e.$i=!0),Je};Je.locale=fo;Je.isDayjs=ss;Je.unix=function(e){return Je(e*1e3)};Je.en=Un[ir];Je.Ls=Un;Je.p={};var Me=Je,ip=Bi(_h()),rp=Bi(yh()),op=Bi(bh()),ap=Bi(Ah());Me.extend(ip.default);Me.extend(rp.default);Me.extend(op.default);Me.extend(ap.default);window.dayjs=Me;var sp=e=>{e.data("dateTimePickerFormComponent",({displayFormat:t,firstDayOfWeek:n,isAutofocused:i,locale:r,shouldCloseOnDateSelection:s,state:o})=>{const a=Me.tz.guess();return{daysInFocusedMonth:[],displayText:"",emptyDaysInFocusedMonth:[],focusedDate:null,focusedMonth:null,focusedYear:null,hour:null,isClearingState:!1,minute:null,second:null,state:o,dayLabels:[],months:[],init:function(){Me.locale(Us[r]??Us.en),this.focusedDate=Me().tz(a);let u=this.getSelectedDate()??Me().tz(a).hour(0).minute(0).second(0);(this.getMaxDate()!==null&&u.isAfter(this.getMaxDate())||this.getMinDate()!==null&&u.isBefore(this.getMinDate()))&&(u=null),this.hour=(u==null?void 0:u.hour())??0,this.minute=(u==null?void 0:u.minute())??0,this.second=(u==null?void 0:u.second())??0,this.setDisplayText(),this.setMonths(),this.setDayLabels(),i&&this.$nextTick(()=>this.togglePanelVisibility(this.$refs.button)),this.$watch("focusedMonth",()=>{this.focusedMonth=+this.focusedMonth,this.focusedDate.month()!==this.focusedMonth&&(this.focusedDate=this.focusedDate.month(this.focusedMonth))}),this.$watch("focusedYear",()=>{var c,f;if(((c=this.focusedYear)==null?void 0:c.length)>4&&(this.focusedYear=this.focusedYear.substring(0,4)),!this.focusedYear||((f=this.focusedYear)==null?void 0:f.length)!==4)return;let l=+this.focusedYear;Number.isInteger(l)||(l=Me().tz(a).year(),this.focusedYear=l),this.focusedDate.year()!==l&&(this.focusedDate=this.focusedDate.year(l))}),this.$watch("focusedDate",()=>{let l=this.focusedDate.month(),c=this.focusedDate.year();this.focusedMonth!==l&&(this.focusedMonth=l),this.focusedYear!==c&&(this.focusedYear=c),this.setupDaysGrid()}),this.$watch("hour",()=>{let l=+this.hour;if(Number.isInteger(l)?l>23?this.hour=0:l<0?this.hour=23:this.hour=l:this.hour=0,this.isClearingState)return;let c=this.getSelectedDate()??this.focusedDate;this.setState(c.hour(this.hour??0))}),this.$watch("minute",()=>{let l=+this.minute;if(Number.isInteger(l)?l>59?this.minute=0:l<0?this.minute=59:this.minute=l:this.minute=0,this.isClearingState)return;let c=this.getSelectedDate()??this.focusedDate;this.setState(c.minute(this.minute??0))}),this.$watch("second",()=>{let l=+this.second;if(Number.isInteger(l)?l>59?this.second=0:l<0?this.second=59:this.second=l:this.second=0,this.isClearingState)return;let c=this.getSelectedDate()??this.focusedDate;this.setState(c.second(this.second??0))}),this.$watch("state",()=>{if(this.state===void 0)return;let l=this.getSelectedDate();if(l===null){this.clearState();return}this.getMaxDate()!==null&&(l!=null&&l.isAfter(this.getMaxDate()))&&(l=null),this.getMinDate()!==null&&(l!=null&&l.isBefore(this.getMinDate()))&&(l=null);const c=(l==null?void 0:l.hour())??0;this.hour!==c&&(this.hour=c);const f=(l==null?void 0:l.minute())??0;this.minute!==f&&(this.minute=f);const d=(l==null?void 0:l.second())??0;this.second!==d&&(this.second=d),this.setDisplayText()})},clearState:function(){this.isClearingState=!0,this.setState(null),this.hour=0,this.minute=0,this.second=0,this.$nextTick(()=>this.isClearingState=!1)},dateIsDisabled:function(u){var l;return!!((l=this.$refs)!=null&&l.disabledDates&&JSON.parse(this.$refs.disabledDates.value??[]).some(c=>(c=Me(c),c.isValid()?c.isSame(u,"day"):!1))||this.getMaxDate()&&u.isAfter(this.getMaxDate(),"day")||this.getMinDate()&&u.isBefore(this.getMinDate(),"day"))},dayIsDisabled:function(u){return this.focusedDate??(this.focusedDate=Me().tz(a)),this.dateIsDisabled(this.focusedDate.date(u))},dayIsSelected:function(u){let l=this.getSelectedDate();return l===null?!1:(this.focusedDate??(this.focusedDate=Me().tz(a)),l.date()===u&&l.month()===this.focusedDate.month()&&l.year()===this.focusedDate.year())},dayIsToday:function(u){let l=Me().tz(a);return this.focusedDate??(this.focusedDate=l),l.date()===u&&l.month()===this.focusedDate.month()&&l.year()===this.focusedDate.year()},focusPreviousDay:function(){this.focusedDate??(this.focusedDate=Me().tz(a)),this.focusedDate=this.focusedDate.subtract(1,"day")},focusPreviousWeek:function(){this.focusedDate??(this.focusedDate=Me().tz(a)),this.focusedDate=this.focusedDate.subtract(1,"week")},focusNextDay:function(){this.focusedDate??(this.focusedDate=Me().tz(a)),this.focusedDate=this.focusedDate.add(1,"day")},focusNextWeek:function(){this.focusedDate??(this.focusedDate=Me().tz(a)),this.focusedDate=this.focusedDate.add(1,"week")},getDayLabels:function(){const u=Me.weekdaysShort();return n===0?u:[...u.slice(n),...u.slice(0,n)]},getMaxDate:function(){var l;let u=Me((l=this.$refs.maxDate)==null?void 0:l.value);return u.isValid()?u:null},getMinDate:function(){var l;let u=Me((l=this.$refs.minDate)==null?void 0:l.value);return u.isValid()?u:null},getSelectedDate:function(){if(this.state===void 0||this.state===null)return null;let u=Me(this.state);return u.isValid()?u:null},togglePanelVisibility:function(){this.isOpen()||(this.focusedDate=this.getSelectedDate()??this.getMinDate()??Me().tz(a),this.setupDaysGrid()),this.$refs.panel.toggle(this.$refs.button)},selectDate:function(u=null){u&&this.setFocusedDay(u),this.focusedDate??(this.focusedDate=Me().tz(a)),this.setState(this.focusedDate),s&&this.togglePanelVisibility()},setDisplayText:function(){this.displayText=this.getSelectedDate()?this.getSelectedDate().format(t):""},setMonths:function(){this.months=Me.months()},setDayLabels:function(){this.dayLabels=this.getDayLabels()},setupDaysGrid:function(){this.focusedDate??(this.focusedDate=Me().tz(a)),this.emptyDaysInFocusedMonth=Array.from({length:this.focusedDate.date(8-n).day()},(u,l)=>l+1),this.daysInFocusedMonth=Array.from({length:this.focusedDate.daysInMonth()},(u,l)=>l+1)},setFocusedDay:function(u){this.focusedDate=(this.focusedDate??Me().tz(a)).date(u)},setState:function(u){if(u===null){this.state=null,this.setDisplayText();return}this.dateIsDisabled(u)||(this.state=u.hour(this.hour??0).minute(this.minute??0).second(this.second??0).format("YYYY-MM-DD HH:mm:ss"),this.setDisplayText())},isOpen:function(){var u;return((u=this.$refs.panel)==null?void 0:u.style.display)==="block"}}})},Us={ar:Th(),bs:Sh(),ca:wh(),cs:Dh(),cy:xh(),da:Ch(),de:Ih(),en:Mh(),es:Lh(),fa:Rh(),fi:Fh(),fr:Oh(),hi:kh(),hu:Ph(),hy:Bh(),id:Nh(),it:zh(),ja:Yh(),ka:Vh(),km:Hh(),ku:jh(),ms:Uh(),my:$h(),nl:Gh(),pl:Wh(),pt_BR:qh(),pt_PT:Kh(),ro:Xh(),ru:Jh(),sv:Zh(),tr:Qh(),uk:ef(),vi:tf(),zh_CN:nf(),zh_TW:rf()},nc={};vh(nc,{FileOrigin:()=>Eo,FileStatus:()=>or,OptionTypes:()=>Ba,Status:()=>Uc,create:()=>ar,destroy:()=>Jr,find:()=>za,getOptions:()=>Ya,parse:()=>Na,registerPlugin:()=>Ht,setOptions:()=>_o,supported:()=>Pa});/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var up=e=>e instanceof HTMLElement,lp=(e,t=[],n=[])=>{const i={...e},r=[],s=[],o=()=>({...i}),a=()=>{const m=[...r];return r.length=0,m},u=()=>{const m=[...s];s.length=0,m.forEach(({type:h,data:v})=>{l(h,v)})},l=(m,h,v)=>{if(v&&!document.hidden){s.push({type:m,data:h});return}p[m]&&p[m](h),r.push({type:m,data:h})},c=(m,...h)=>d[m]?d[m](...h):null,f={getState:o,processActionQueue:a,processDispatchQueue:u,dispatch:l,query:c};let d={};t.forEach(m=>{d={...m(i),...d}});let p={};return n.forEach(m=>{p={...m(l,c,i),...p}}),f},cp=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},Ve=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},Mn=e=>{const t={};return Ve(e,n=>{cp(t,n,e[n])}),t},We=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},dp="http://www.w3.org/2000/svg",hp=["svg","path"],$s=e=>hp.includes(e),po=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const i=$s(e)?document.createElementNS(dp,e):document.createElement(e);return t&&($s(e)?We(i,"class",t):i.className=t),Ve(n,(r,s)=>{We(i,r,s)}),i},fp=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},pp=(e,t)=>(n,i)=>(typeof i<"u"?t.splice(i,0,n):t.push(n),n),mp=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),gp=(()=>typeof window<"u"&&typeof window.document<"u")(),ic=()=>gp,vp=ic()?po("svg"):{},Ep="children"in vp?e=>e.children.length:e=>e.childNodes.length,rc=(e,t,n,i)=>{const r=n[0]||e.left,s=n[1]||e.top,o=r+e.width,a=s+e.height*(i[1]||1),u={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:s,right:o,bottom:a}};return t.filter(l=>!l.isRectIgnored()).map(l=>l.rect).forEach(l=>{Gs(u.inner,{...l.inner}),Gs(u.outer,{...l.outer})}),Ws(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,Ws(u.outer),u},Gs=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},Ws=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Vn=e=>typeof e=="number",_p=(e,t,n,i=.001)=>Math.abs(e-t)<i&&Math.abs(n)<i,yp=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let i=null,r=null,s=0,o=!1;const l=Mn({interpolate:(c,f)=>{if(o)return;if(!(Vn(i)&&Vn(r))){o=!0,s=0;return}const d=-(r-i)*e;s+=d/n,r+=s,s*=t,_p(r,i,s)||f?(r=i,s=0,o=!0,l.onupdate(r),l.oncomplete(r)):l.onupdate(r)},target:{set:c=>{if(Vn(c)&&!Vn(r)&&(r=c),i===null&&(i=c,r=c),i=c,r===i||typeof i>"u"){o=!0,s=0,l.onupdate(r),l.oncomplete(r);return}o=!1},get:()=>i},resting:{get:()=>o},onupdate:c=>{},oncomplete:c=>{}});return l},bp=e=>e<.5?2*e*e:-1+(4-2*e)*e,Ap=({duration:e=500,easing:t=bp,delay:n=0}={})=>{let i=null,r,s,o=!0,a=!1,u=null;const c=Mn({interpolate:(f,d)=>{o||u===null||(i===null&&(i=f),!(f-i<n)&&(r=f-i-n,r>=e||d?(r=1,s=a?0:1,c.onupdate(s*u),c.oncomplete(s*u),o=!0):(s=r/e,c.onupdate((r>=0?t(a?1-s:s):0)*u))))},target:{get:()=>a?0:u,set:f=>{if(u===null){u=f,c.onupdate(f),c.oncomplete(f);return}f<u?(u=1,a=!0):(a=!1,u=f),o=!1,i=null}},resting:{get:()=>o},onupdate:f=>{},oncomplete:f=>{}});return c},qs={spring:yp,tween:Ap},Tp=(e,t,n)=>{const i=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,r=typeof i=="string"?i:i.type,s=typeof i=="object"?{...i}:{};return qs[r]?qs[r](s):null},us=(e,t,n,i=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(r=>{e.forEach(s=>{let o=s,a=()=>n[s],u=l=>n[s]=l;typeof s=="object"&&(o=s.key,a=s.getter||a,u=s.setter||u),!(r[o]&&!i)&&(r[o]={get:a,set:u})})})},Sp=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:i})=>{const r={...t},s=[];return Ve(e,(o,a)=>{const u=Tp(a);if(!u)return;u.onupdate=c=>{t[o]=c},u.target=r[o],us([{key:o,setter:c=>{u.target!==c&&(u.target=c)},getter:()=>t[o]}],[n,i],t,!0),s.push(u)}),{write:o=>{let a=document.hidden,u=!0;return s.forEach(l=>{l.resting||(u=!1),l.interpolate(o,a)}),u},destroy:()=>{}}},wp=e=>(t,n)=>{e.addEventListener(t,n)},Dp=e=>(t,n)=>{e.removeEventListener(t,n)},xp=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:i,viewState:r,view:s})=>{const o=[],a=wp(s.element),u=Dp(s.element);return i.on=(l,c)=>{o.push({type:l,fn:c}),a(l,c)},i.off=(l,c)=>{o.splice(o.findIndex(f=>f.type===l&&f.fn===c),1),u(l,c)},{write:()=>!0,destroy:()=>{o.forEach(l=>{u(l.type,l.fn)})}}},Cp=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{us(e,n,t)},at=e=>e!=null,Ip={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Mp=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:i,view:r})=>{const s={...t},o={};us(e,[n,i],t);const a=()=>[t.translateX||0,t.translateY||0],u=()=>[t.scaleX||0,t.scaleY||0],l=()=>r.rect?rc(r.rect,r.childViews,a(),u()):null;return n.rect={get:l},i.rect={get:l},e.forEach(c=>{t[c]=typeof s[c]>"u"?Ip[c]:s[c]}),{write:()=>{if(Lp(o,t))return Rp(r.element,t),Object.assign(o,{...t}),!0},destroy:()=>{}}},Lp=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},Rp=(e,{opacity:t,perspective:n,translateX:i,translateY:r,scaleX:s,scaleY:o,rotateX:a,rotateY:u,rotateZ:l,originX:c,originY:f,width:d,height:p})=>{let m="",h="";(at(c)||at(f))&&(h+=`transform-origin: ${c||0}px ${f||0}px;`),at(n)&&(m+=`perspective(${n}px) `),(at(i)||at(r))&&(m+=`translate3d(${i||0}px, ${r||0}px, 0) `),(at(s)||at(o))&&(m+=`scale3d(${at(s)?s:1}, ${at(o)?o:1}, 1) `),at(l)&&(m+=`rotateZ(${l}rad) `),at(a)&&(m+=`rotateX(${a}rad) `),at(u)&&(m+=`rotateY(${u}rad) `),m.length&&(h+=`transform:${m};`),at(t)&&(h+=`opacity:${t};`,t===0&&(h+="visibility:hidden;"),t<1&&(h+="pointer-events:none;")),at(p)&&(h+=`height:${p}px;`),at(d)&&(h+=`width:${d}px;`);const v=e.elementCurrentStyle||"";(h.length!==v.length||h!==v)&&(e.style.cssText=h,e.elementCurrentStyle=h)},Fp={styles:Mp,listeners:xp,animations:Sp,apis:Cp},Ks=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),qe=({tag:e="div",name:t=null,attributes:n={},read:i=()=>{},write:r=()=>{},create:s=()=>{},destroy:o=()=>{},filterFrameActionsForChild:a=(p,m)=>m,didCreateView:u=()=>{},didWriteView:l=()=>{},ignoreRect:c=!1,ignoreRectUpdate:f=!1,mixins:d=[]}={})=>(p,m={})=>{const h=po(e,`filepond--${t}`,n),v=window.getComputedStyle(h,null),_=Ks();let y=null,g=!1;const E=[],b=[],T={},A={},S=[r],M=[i],R=[o],F=()=>h,I=()=>E.concat(),w=()=>T,x=G=>(J,te)=>J(G,te),C=()=>y||(y=rc(_,E,[0,0],[1,1]),y),D=()=>v,L=()=>{y=null,E.forEach(te=>te._read()),!(f&&_.width&&_.height)&&Ks(_,h,v);const J={root:j,props:m,rect:_};M.forEach(te=>te(J))},O=(G,J,te)=>{let oe=J.length===0;return S.forEach(ie=>{ie({props:m,root:j,actions:J,timestamp:G,shouldOptimize:te})===!1&&(oe=!1)}),b.forEach(ie=>{ie.write(G)===!1&&(oe=!1)}),E.filter(ie=>!!ie.element.parentNode).forEach(ie=>{ie._write(G,a(ie,J),te)||(oe=!1)}),E.forEach((ie,De)=>{ie.element.parentNode||(j.appendChild(ie.element,De),ie._read(),ie._write(G,a(ie,J),te),oe=!1)}),g=oe,l({props:m,root:j,actions:J,timestamp:G}),oe},k=()=>{b.forEach(G=>G.destroy()),R.forEach(G=>{G({root:j,props:m})}),E.forEach(G=>G._destroy())},P={element:{get:F},style:{get:D},childViews:{get:I}},z={...P,rect:{get:C},ref:{get:w},is:G=>t===G,appendChild:fp(h),createChildView:x(p),linkView:G=>(E.push(G),G),unlinkView:G=>{E.splice(E.indexOf(G),1)},appendChildView:pp(h,E),removeChildView:mp(h,E),registerWriter:G=>S.push(G),registerReader:G=>M.push(G),registerDestroyer:G=>R.push(G),invalidateLayout:()=>h.layoutCalculated=!1,dispatch:p.dispatch,query:p.query},H={element:{get:F},childViews:{get:I},rect:{get:C},resting:{get:()=>g},isRectIgnored:()=>c,_read:L,_write:O,_destroy:k},X={...P,rect:{get:()=>_}};Object.keys(d).sort((G,J)=>G==="styles"?1:J==="styles"?-1:0).forEach(G=>{const J=Fp[G]({mixinConfig:d[G],viewProps:m,viewState:A,viewInternalAPI:z,viewExternalAPI:H,view:Mn(X)});J&&b.push(J)});const j=Mn(z);s({root:j,props:m});const ue=Ep(h);return E.forEach((G,J)=>{j.appendChild(G.element,ue+J)}),u(j),Mn(H)},Op=(e,t,n=60)=>{const i="__framePainter";if(window[i]){window[i].readers.push(e),window[i].writers.push(t);return}window[i]={readers:[e],writers:[t]};const r=window[i],s=1e3/n;let o=null,a=null,u=null,l=null;const c=()=>{document.hidden?(u=()=>window.setTimeout(()=>f(performance.now()),s),l=()=>window.clearTimeout(a)):(u=()=>window.requestAnimationFrame(f),l=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{l&&l(),c(),f(performance.now())});const f=d=>{a=u(f),o||(o=d);const p=d-o;p<=s||(o=d-p%s,r.readers.forEach(m=>m()),r.writers.forEach(m=>m(d)))};return c(),f(performance.now()),{pause:()=>{l(a)}}},ft=(e,t)=>({root:n,props:i,actions:r=[],timestamp:s,shouldOptimize:o})=>{r.filter(a=>e[a.type]).forEach(a=>e[a.type]({root:n,props:i,action:a.data,timestamp:s,shouldOptimize:o})),t&&t({root:n,props:i,actions:r,timestamp:s,shouldOptimize:o})},Xs=(e,t)=>t.parentNode.insertBefore(e,t),Js=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),Po=e=>Array.isArray(e),un=e=>e==null,kp=e=>e.trim(),Bo=e=>""+e,Pp=(e,t=",")=>un(e)?[]:Po(e)?e:Bo(e).split(t).map(kp).filter(n=>n.length),oc=e=>typeof e=="boolean",ac=e=>oc(e)?e:e==="true",ct=e=>typeof e=="string",sc=e=>Vn(e)?e:ct(e)?Bo(e).replace(/[a-z]+/gi,""):0,Xr=e=>parseInt(sc(e),10),Zs=e=>parseFloat(sc(e)),Ni=e=>Vn(e)&&isFinite(e)&&Math.floor(e)===e,Qs=(e,t=1e3)=>{if(Ni(e))return e;let n=Bo(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Xr(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Xr(n)*t):Xr(n)},Hn=e=>typeof e=="function",Bp=e=>{let t=self,n=e.split("."),i=null;for(;i=n.shift();)if(t=t[i],!t)return null;return t},eu={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Np=e=>{const t={};return t.url=ct(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},Ve(eu,n=>{t[n]=zp(n,e[n],eu[n],t.timeout,t.headers)}),t.process=e.process||ct(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},zp=(e,t,n,i,r)=>{if(t===null)return null;if(typeof t=="function")return t;const s={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:r,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(ct(t))return s.url=t,s;if(Object.assign(s,t),ct(s.headers)){const o=s.headers.split(/:(.+)/);s.headers={header:o[0],value:o[1]}}return s.withCredentials=ac(s.withCredentials),s},Yp=e=>Np(e),Vp=e=>e===null,Ze=e=>typeof e=="object"&&e!==null,Hp=e=>Ze(e)&&ct(e.url)&&Ze(e.process)&&Ze(e.revert)&&Ze(e.restore)&&Ze(e.fetch),Ca=e=>Po(e)?"array":Vp(e)?"null":Ni(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Hp(e)?"api":typeof e,jp=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Up={array:Pp,boolean:ac,int:e=>Ca(e)==="bytes"?Qs(e):Xr(e),number:Zs,float:Zs,bytes:Qs,string:e=>Hn(e)?e:Bo(e),function:e=>Bp(e),serverapi:Yp,object:e=>{try{return JSON.parse(jp(e))}catch{return null}}},$p=(e,t)=>Up[t](e),uc=(e,t,n)=>{if(e===t)return e;let i=Ca(e);if(i!==n){const r=$p(e,n);if(i=Ca(r),r===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=r}return e},Gp=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:i=>{n=uc(i,e,t)}}},Wp=e=>{const t={};return Ve(e,n=>{const i=e[n];t[n]=Gp(i[0],i[1])}),Mn(t)},qp=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Wp(e)}),No=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),Kp=(e,t)=>{const n={};return Ve(t,i=>{n[i]={get:()=>e.getState().options[i],set:r=>{e.dispatch(`SET_${No(i,"_").toUpperCase()}`,{value:r})}}}),n},Xp=e=>(t,n,i)=>{const r={};return Ve(e,s=>{const o=No(s,"_").toUpperCase();r[`SET_${o}`]=a=>{try{i.options[s]=a.value}catch{}t(`DID_SET_${o}`,{value:i.options[s]})}}),r},Jp=e=>t=>{const n={};return Ve(e,i=>{n[`GET_${No(i,"_").toUpperCase()}`]=r=>t.options[i]}),n},Lt={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},ls=()=>Math.random().toString(36).substring(2,11),cs=(e,t)=>e.splice(t,1),Zp=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},zo=()=>{const e=[],t=(i,r)=>{cs(e,e.findIndex(s=>s.event===i&&(s.cb===r||!r)))},n=(i,r,s)=>{e.filter(o=>o.event===i).map(o=>o.cb).forEach(o=>Zp(()=>o(...r),s))};return{fireSync:(i,...r)=>{n(i,r,!0)},fire:(i,...r)=>{n(i,r,!1)},on:(i,r)=>{e.push({event:i,cb:r})},onOnce:(i,r)=>{e.push({event:i,cb:(...s)=>{t(i,r),r(...s)}})},off:t}},lc=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(i=>!n.includes(i)).forEach(i=>Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i)))},Qp=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],mt=e=>{const t={};return lc(e,t,Qp),t},e0=e=>{e.forEach((t,n)=>{t.released&&cs(e,n)})},ge={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Ke={INPUT:1,LIMBO:2,LOCAL:3},cc=e=>/[^0-9]+/.exec(e),dc=()=>cc(1.1.toLocaleString())[0],t0=()=>{const e=dc(),t=1e3.toLocaleString(),n=1e3.toString();return t!==n?cc(t)[0]:e==="."?",":"."},$={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},ds=[],Nt=(e,t,n)=>new Promise((i,r)=>{const s=ds.filter(a=>a.key===e).map(a=>a.cb);if(s.length===0){i(t);return}const o=s.shift();s.reduce((a,u)=>a.then(l=>u(l,n)),o(t,n)).then(a=>i(a)).catch(a=>r(a))}),Qn=(e,t,n)=>ds.filter(i=>i.key===e).map(i=>i.cb(t,n)),n0=(e,t)=>ds.push({key:e,cb:t}),i0=e=>Object.assign(Ei,e),mo=()=>({...Ei}),r0=e=>{Ve(e,(t,n)=>{Ei[t]&&(Ei[t][0]=uc(n,Ei[t][0],Ei[t][1]))})},Ei={id:[null,$.STRING],name:["filepond",$.STRING],disabled:[!1,$.BOOLEAN],className:[null,$.STRING],required:[!1,$.BOOLEAN],captureMethod:[null,$.STRING],allowSyncAcceptAttribute:[!0,$.BOOLEAN],allowDrop:[!0,$.BOOLEAN],allowBrowse:[!0,$.BOOLEAN],allowPaste:[!0,$.BOOLEAN],allowMultiple:[!1,$.BOOLEAN],allowReplace:[!0,$.BOOLEAN],allowRevert:[!0,$.BOOLEAN],allowRemove:[!0,$.BOOLEAN],allowProcess:[!0,$.BOOLEAN],allowReorder:[!1,$.BOOLEAN],allowDirectoriesOnly:[!1,$.BOOLEAN],storeAsFile:[!1,$.BOOLEAN],forceRevert:[!1,$.BOOLEAN],maxFiles:[null,$.INT],checkValidity:[!1,$.BOOLEAN],itemInsertLocationFreedom:[!0,$.BOOLEAN],itemInsertLocation:["before",$.STRING],itemInsertInterval:[75,$.INT],dropOnPage:[!1,$.BOOLEAN],dropOnElement:[!0,$.BOOLEAN],dropValidation:[!1,$.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],$.ARRAY],instantUpload:[!0,$.BOOLEAN],maxParallelUploads:[2,$.INT],allowMinimumUploadDuration:[!0,$.BOOLEAN],chunkUploads:[!1,$.BOOLEAN],chunkForce:[!1,$.BOOLEAN],chunkSize:[5e6,$.INT],chunkRetryDelays:[[500,1e3,3e3],$.ARRAY],server:[null,$.SERVER_API],fileSizeBase:[1e3,$.INT],labelFileSizeBytes:["bytes",$.STRING],labelFileSizeKilobytes:["KB",$.STRING],labelFileSizeMegabytes:["MB",$.STRING],labelFileSizeGigabytes:["GB",$.STRING],labelDecimalSeparator:[dc(),$.STRING],labelThousandsSeparator:[t0(),$.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',$.STRING],labelInvalidField:["Field contains invalid files",$.STRING],labelFileWaitingForSize:["Waiting for size",$.STRING],labelFileSizeNotAvailable:["Size not available",$.STRING],labelFileCountSingular:["file in list",$.STRING],labelFileCountPlural:["files in list",$.STRING],labelFileLoading:["Loading",$.STRING],labelFileAdded:["Added",$.STRING],labelFileLoadError:["Error during load",$.STRING],labelFileRemoved:["Removed",$.STRING],labelFileRemoveError:["Error during remove",$.STRING],labelFileProcessing:["Uploading",$.STRING],labelFileProcessingComplete:["Upload complete",$.STRING],labelFileProcessingAborted:["Upload cancelled",$.STRING],labelFileProcessingError:["Error during upload",$.STRING],labelFileProcessingRevertError:["Error during revert",$.STRING],labelTapToCancel:["tap to cancel",$.STRING],labelTapToRetry:["tap to retry",$.STRING],labelTapToUndo:["tap to undo",$.STRING],labelButtonRemoveItem:["Remove",$.STRING],labelButtonAbortItemLoad:["Abort",$.STRING],labelButtonRetryItemLoad:["Retry",$.STRING],labelButtonAbortItemProcessing:["Cancel",$.STRING],labelButtonUndoItemProcessing:["Undo",$.STRING],labelButtonRetryItemProcessing:["Retry",$.STRING],labelButtonProcessItem:["Upload",$.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',$.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',$.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',$.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',$.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',$.STRING],oninit:[null,$.FUNCTION],onwarning:[null,$.FUNCTION],onerror:[null,$.FUNCTION],onactivatefile:[null,$.FUNCTION],oninitfile:[null,$.FUNCTION],onaddfilestart:[null,$.FUNCTION],onaddfileprogress:[null,$.FUNCTION],onaddfile:[null,$.FUNCTION],onprocessfilestart:[null,$.FUNCTION],onprocessfileprogress:[null,$.FUNCTION],onprocessfileabort:[null,$.FUNCTION],onprocessfilerevert:[null,$.FUNCTION],onprocessfile:[null,$.FUNCTION],onprocessfiles:[null,$.FUNCTION],onremovefile:[null,$.FUNCTION],onpreparefile:[null,$.FUNCTION],onupdatefiles:[null,$.FUNCTION],onreorderfiles:[null,$.FUNCTION],beforeDropFile:[null,$.FUNCTION],beforeAddFile:[null,$.FUNCTION],beforeRemoveFile:[null,$.FUNCTION],beforePrepareFile:[null,$.FUNCTION],stylePanelLayout:[null,$.STRING],stylePanelAspectRatio:[null,$.STRING],styleItemPanelAspectRatio:[null,$.STRING],styleButtonRemoveItemPosition:["left",$.STRING],styleButtonProcessItemPosition:["right",$.STRING],styleLoadIndicatorPosition:["right",$.STRING],styleProgressIndicatorPosition:["right",$.STRING],styleButtonRemoveItemAlign:[!1,$.BOOLEAN],files:[[],$.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],$.ARRAY]},jn=(e,t)=>un(t)?e[0]||null:Ni(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),hc=e=>{if(un(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Yt=e=>e.filter(t=>!t.archived),fc={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Rr=null,o0=()=>{if(Rr===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Rr=t.files.length===1}catch{Rr=!1}return Rr},a0=[ge.LOAD_ERROR,ge.PROCESSING_ERROR,ge.PROCESSING_REVERT_ERROR],s0=[ge.LOADING,ge.PROCESSING,ge.PROCESSING_QUEUED,ge.INIT],u0=[ge.PROCESSING_COMPLETE],l0=e=>a0.includes(e.status),c0=e=>s0.includes(e.status),d0=e=>u0.includes(e.status),tu=e=>Ze(e.options.server)&&(Ze(e.options.server.process)||Hn(e.options.server.process)),h0=e=>({GET_STATUS:()=>{const t=Yt(e.items),{EMPTY:n,ERROR:i,BUSY:r,IDLE:s,READY:o}=fc;return t.length===0?n:t.some(l0)?i:t.some(c0)?r:t.some(d0)?o:s},GET_ITEM:t=>jn(e.items,t),GET_ACTIVE_ITEM:t=>jn(Yt(e.items),t),GET_ACTIVE_ITEMS:()=>Yt(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=jn(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=jn(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:hc(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>Yt(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>Yt(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&o0()&&!tu(e),IS_ASYNC:()=>tu(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),f0=e=>{const t=Yt(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},pc=(e,t,n)=>Math.max(Math.min(n,e),t),p0=(e,t,n)=>e.splice(t,0,n),m0=(e,t,n)=>un(t)?null:typeof n>"u"?(e.push(t),t):(n=pc(n,0,e.length),p0(e,n,t),t),Ia=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Ar=e=>e.split("/").pop().split("?").shift(),Yo=e=>e.split(".").pop(),g0=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},Xi=(e,t="")=>(t+e).slice(-t.length),mc=(e=new Date)=>`${e.getFullYear()}-${Xi(e.getMonth()+1,"00")}-${Xi(e.getDate(),"00")}_${Xi(e.getHours(),"00")}-${Xi(e.getMinutes(),"00")}-${Xi(e.getSeconds(),"00")}`,Mi=(e,t,n=null,i=null)=>{const r=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return r.lastModifiedDate=new Date,e._relativePath&&(r._relativePath=e._relativePath),ct(t)||(t=mc()),t&&i===null&&Yo(t)?r.name=t:(i=i||g0(r.type),r.name=t+(i?"."+i:"")),r},v0=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,gc=(e,t)=>{const n=v0();if(n){const i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},E0=(e,t)=>{const n=new ArrayBuffer(e.length),i=new Uint8Array(n);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return gc(n,t)},vc=e=>(/^data:(.+);/.exec(e)||[])[1]||null,_0=e=>e.split(",")[1].replace(/\s/g,""),y0=e=>atob(_0(e)),b0=e=>{const t=vc(e),n=y0(e);return E0(n,t)},A0=(e,t,n)=>Mi(b0(e),t,null,n),T0=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},S0=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},w0=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,hs=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let i of n){const r=T0(i);if(r){t.name=r;continue}const s=S0(i);if(s){t.size=s;continue}const o=w0(i);if(o){t.source=o;continue}}return t},D0=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,i=()=>{t.request&&t.request.abort&&t.request.abort()},r=()=>{const a=t.source;o.fire("init",a),a instanceof File?o.fire("load",a):a instanceof Blob?o.fire("load",Mi(a,a.name)):Ia(a)?o.fire("load",A0(a)):s(a)},s=a=>{if(!e){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(a,u=>{t.duration=Date.now()-t.timestamp,t.complete=!0,u instanceof Blob&&(u=Mi(u,u.name||Ar(a))),o.fire("load",u instanceof Blob?u:u?u.body:null)},u=>{o.fire("error",typeof u=="string"?{type:"error",code:0,body:u}:u)},(u,l,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!u){t.progress=null;return}t.progress=l/c,o.fire("progress",t.progress)},()=>{o.fire("abort")},u=>{const l=hs(typeof u=="string"?u:u.headers);o.fire("meta",{size:t.size||l.size,filename:l.name,source:l.source})})},o={...zo(),setSource:a=>t.source=a,getProgress:n,abort:i,load:r};return o},nu=e=>/GET|HEAD/.test(e),$n=(e,t,n)=>{const i={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{r=!0,o.abort()}};let r=!1,s=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),nu(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const o=new XMLHttpRequest,a=nu(n.method)?o:o.upload;return a.onprogress=u=>{r||i.onprogress(u.lengthComputable,u.loaded,u.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||s||(s=!0,i.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?i.onload(o):i.onerror(o)},o.onerror=()=>i.onerror(o),o.onabort=()=>{r=!0,i.onabort()},o.ontimeout=()=>i.ontimeout(o),o.open(n.method,t,!0),Ni(n.timeout)&&(o.timeout=n.timeout),Object.keys(n.headers).forEach(u=>{const l=unescape(encodeURIComponent(n.headers[u]));o.setRequestHeader(u,l)}),n.responseType&&(o.responseType=n.responseType),n.withCredentials&&(o.withCredentials=!0),o.send(e),i},He=(e,t,n,i)=>({type:e,code:t,body:n,headers:i}),Gn=e=>t=>{e(He("error",0,"Timeout",t.getAllResponseHeaders()))},iu=e=>/\?/.test(e),rr=(...e)=>{let t="";return e.forEach(n=>{t+=iu(t)&&iu(n)?n.replace(/\?/,"&"):n}),t},Qo=(e="",t)=>{if(typeof t=="function")return t;if(!t||!ct(t.url))return null;const n=t.onload||(r=>r),i=t.onerror||(r=>null);return(r,s,o,a,u,l)=>{const c=$n(r,rr(e,t.url),{...t,responseType:"blob"});return c.onload=f=>{const d=f.getAllResponseHeaders(),p=hs(d).name||Ar(r);s(He("load",f.status,t.method==="HEAD"?null:Mi(n(f.response),p),d))},c.onerror=f=>{o(He("error",f.status,i(f.response)||f.statusText,f.getAllResponseHeaders()))},c.onheaders=f=>{l(He("headers",f.status,null,f.getAllResponseHeaders()))},c.ontimeout=Gn(o),c.onprogress=a,c.onabort=u,c}},Dt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},x0=(e,t,n,i,r,s,o,a,u,l,c)=>{const f=[],{chunkTransferId:d,chunkServer:p,chunkSize:m,chunkRetryDelays:h}=c,v={serverId:d,aborted:!1},_=t.ondata||(x=>x),y=t.onload||((x,C)=>C==="HEAD"?x.getResponseHeader("Upload-Offset"):x.response),g=t.onerror||(x=>null),E=x=>{const C=new FormData;Ze(r)&&C.append(n,JSON.stringify(r));const D=typeof t.headers=="function"?t.headers(i,r):{...t.headers,"Upload-Length":i.size},L={...t,headers:D},O=$n(_(C),rr(e,t.url),L);O.onload=k=>x(y(k,L.method)),O.onerror=k=>o(He("error",k.status,g(k.response)||k.statusText,k.getAllResponseHeaders())),O.ontimeout=Gn(o)},b=x=>{const C=rr(e,p.url,v.serverId),L={headers:typeof t.headers=="function"?t.headers(v.serverId):{...t.headers},method:"HEAD"},O=$n(null,C,L);O.onload=k=>x(y(k,L.method)),O.onerror=k=>o(He("error",k.status,g(k.response)||k.statusText,k.getAllResponseHeaders())),O.ontimeout=Gn(o)},T=Math.floor(i.size/m);for(let x=0;x<=T;x++){const C=x*m,D=i.slice(C,C+m,"application/offset+octet-stream");f[x]={index:x,size:D.size,offset:C,data:D,file:i,progress:0,retries:[...h],status:Dt.QUEUED,error:null,request:null,timeout:null}}const A=()=>s(v.serverId),S=x=>x.status===Dt.QUEUED||x.status===Dt.ERROR,M=x=>{if(v.aborted)return;if(x=x||f.find(S),!x){f.every(P=>P.status===Dt.COMPLETE)&&A();return}x.status=Dt.PROCESSING,x.progress=null;const C=p.ondata||(P=>P),D=p.onerror||(P=>null),L=rr(e,p.url,v.serverId),O=typeof p.headers=="function"?p.headers(x):{...p.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":x.offset,"Upload-Length":i.size,"Upload-Name":i.name},k=x.request=$n(C(x.data),L,{...p,headers:O});k.onload=()=>{x.status=Dt.COMPLETE,x.request=null,I()},k.onprogress=(P,z,H)=>{x.progress=P?z:null,F()},k.onerror=P=>{x.status=Dt.ERROR,x.request=null,x.error=D(P.response)||P.statusText,R(x)||o(He("error",P.status,D(P.response)||P.statusText,P.getAllResponseHeaders()))},k.ontimeout=P=>{x.status=Dt.ERROR,x.request=null,R(x)||Gn(o)(P)},k.onabort=()=>{x.status=Dt.QUEUED,x.request=null,u()}},R=x=>x.retries.length===0?!1:(x.status=Dt.WAITING,clearTimeout(x.timeout),x.timeout=setTimeout(()=>{M(x)},x.retries.shift()),!0),F=()=>{const x=f.reduce((D,L)=>D===null||L.progress===null?null:D+L.progress,0);if(x===null)return a(!1,0,0);const C=f.reduce((D,L)=>D+L.size,0);a(!0,x,C)},I=()=>{f.filter(C=>C.status===Dt.PROCESSING).length>=1||M()},w=()=>{f.forEach(x=>{clearTimeout(x.timeout),x.request&&x.request.abort()})};return v.serverId?b(x=>{v.aborted||(f.filter(C=>C.offset<x).forEach(C=>{C.status=Dt.COMPLETE,C.progress=C.size}),I())}):E(x=>{v.aborted||(l(x),v.serverId=x,I())}),{abort:()=>{v.aborted=!0,w()}}},C0=(e,t,n,i)=>(r,s,o,a,u,l,c)=>{if(!r)return;const f=i.chunkUploads,d=f&&r.size>i.chunkSize,p=f&&(d||i.chunkForce);if(r instanceof Blob&&p)return x0(e,t,n,r,s,o,a,u,l,c,i);const m=t.ondata||(b=>b),h=t.onload||(b=>b),v=t.onerror||(b=>null),_=typeof t.headers=="function"?t.headers(r,s)||{}:{...t.headers},y={...t,headers:_};var g=new FormData;Ze(s)&&g.append(n,JSON.stringify(s)),(r instanceof Blob?[{name:null,file:r}]:r).forEach(b=>{g.append(n,b.file,b.name===null?b.file.name:`${b.name}${b.file.name}`)});const E=$n(m(g),rr(e,t.url),y);return E.onload=b=>{o(He("load",b.status,h(b.response),b.getAllResponseHeaders()))},E.onerror=b=>{a(He("error",b.status,v(b.response)||b.statusText,b.getAllResponseHeaders()))},E.ontimeout=Gn(a),E.onprogress=u,E.onabort=l,E},I0=(e="",t,n,i)=>typeof t=="function"?(...r)=>t(n,...r,i):!t||!ct(t.url)?null:C0(e,t,n,i),Ji=(e="",t)=>{if(typeof t=="function")return t;if(!t||!ct(t.url))return(r,s)=>s();const n=t.onload||(r=>r),i=t.onerror||(r=>null);return(r,s,o)=>{const a=$n(r,e+t.url,t);return a.onload=u=>{s(He("load",u.status,n(u.response),u.getAllResponseHeaders()))},a.onerror=u=>{o(He("error",u.status,i(u.response)||u.statusText,u.getAllResponseHeaders()))},a.ontimeout=Gn(o),a}},Ec=(e=0,t=1)=>e+Math.random()*(t-e),M0=(e,t=1e3,n=0,i=25,r=250)=>{let s=null;const o=Date.now(),a=()=>{let u=Date.now()-o,l=Ec(i,r);u+l>t&&(l=u+l-t);let c=u/t;if(c>=1||document.hidden){e(1);return}e(c),s=setTimeout(a,l)};return t>0&&a(),{clear:()=>{clearTimeout(s)}}},L0=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:i}=t,r=(c,f)=>{const d=()=>{n.duration===0||n.progress===null||l.fire("progress",l.getProgress())},p=()=>{n.complete=!0,l.fire("load-perceived",n.response.body)};l.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=M0(m=>{n.perceivedProgress=m,n.perceivedDuration=Date.now()-n.timestamp,d(),n.response&&n.perceivedProgress===1&&!n.complete&&p()},i?Ec(750,1500):0),n.request=e(c,f,m=>{n.response=Ze(m)?m:{type:"load",code:200,body:`${m}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,l.fire("load",n.response.body),(!i||i&&n.perceivedProgress===1)&&p()},m=>{n.perceivedPerformanceUpdater.clear(),l.fire("error",Ze(m)?m:{type:"error",code:0,body:`${m}`})},(m,h,v)=>{n.duration=Date.now()-n.timestamp,n.progress=m?h/v:null,d()},()=>{n.perceivedPerformanceUpdater.clear(),l.fire("abort",n.response?n.response.body:null)},m=>{l.fire("transfer",m)})},s=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},o=()=>{s(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},a=i?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,u=i?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,l={...zo(),process:r,abort:s,getProgress:a,getDuration:u,reset:o};return l},_c=e=>e.substring(0,e.lastIndexOf("."))||e,R0=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||Ia(e)?t[0]=e.name||mc():Ia(e)?(t[1]=e.length,t[2]=vc(e)):ct(e)&&(t[0]=Ar(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},Li=e=>!!(e instanceof File||e instanceof Blob&&e.name),yc=e=>{if(!Ze(e))return e;const t=Po(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n];t[n]=i&&Ze(i)?yc(i):i}return t},F0=(e=null,t=null,n=null)=>{const i=ls(),r={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?ge.PROCESSING_COMPLETE:ge.INIT,activeLoader:null,activeProcessor:null};let s=null;const o={},a=S=>r.status=S,u=(S,...M)=>{r.released||r.frozen||T.fire(S,...M)},l=()=>Yo(r.file.name),c=()=>r.file.type,f=()=>r.file.size,d=()=>r.file,p=(S,M,R)=>{if(r.source=S,T.fireSync("init"),r.file){T.fireSync("load-skip");return}r.file=R0(S),M.on("init",()=>{u("load-init")}),M.on("meta",F=>{r.file.size=F.size,r.file.filename=F.filename,F.source&&(e=Ke.LIMBO,r.serverFileReference=F.source,r.status=ge.PROCESSING_COMPLETE),u("load-meta")}),M.on("progress",F=>{a(ge.LOADING),u("load-progress",F)}),M.on("error",F=>{a(ge.LOAD_ERROR),u("load-request-error",F)}),M.on("abort",()=>{a(ge.INIT),u("load-abort")}),M.on("load",F=>{r.activeLoader=null;const I=x=>{r.file=Li(x)?x:r.file,e===Ke.LIMBO&&r.serverFileReference?a(ge.PROCESSING_COMPLETE):a(ge.IDLE),u("load")},w=x=>{r.file=F,u("load-meta"),a(ge.LOAD_ERROR),u("load-file-error",x)};if(r.serverFileReference){I(F);return}R(F,I,w)}),M.setSource(S),r.activeLoader=M,M.load()},m=()=>{r.activeLoader&&r.activeLoader.load()},h=()=>{if(r.activeLoader){r.activeLoader.abort();return}a(ge.INIT),u("load-abort")},v=(S,M)=>{if(r.processingAborted){r.processingAborted=!1;return}if(a(ge.PROCESSING),s=null,!(r.file instanceof Blob)){T.on("load",()=>{v(S,M)});return}S.on("load",I=>{r.transferId=null,r.serverFileReference=I}),S.on("transfer",I=>{r.transferId=I}),S.on("load-perceived",I=>{r.activeProcessor=null,r.transferId=null,r.serverFileReference=I,a(ge.PROCESSING_COMPLETE),u("process-complete",I)}),S.on("start",()=>{u("process-start")}),S.on("error",I=>{r.activeProcessor=null,a(ge.PROCESSING_ERROR),u("process-error",I)}),S.on("abort",I=>{r.activeProcessor=null,r.serverFileReference=I,a(ge.IDLE),u("process-abort"),s&&s()}),S.on("progress",I=>{u("process-progress",I)});const R=I=>{r.archived||S.process(I,{...o})},F=console.error;M(r.file,R,F),r.activeProcessor=S},_=()=>{r.processingAborted=!1,a(ge.PROCESSING_QUEUED)},y=()=>new Promise(S=>{if(!r.activeProcessor){r.processingAborted=!0,a(ge.IDLE),u("process-abort"),S();return}s=()=>{S()},r.activeProcessor.abort()}),g=(S,M)=>new Promise((R,F)=>{const I=r.serverFileReference!==null?r.serverFileReference:r.transferId;if(I===null){R();return}S(I,()=>{r.serverFileReference=null,r.transferId=null,R()},w=>{if(!M){R();return}a(ge.PROCESSING_REVERT_ERROR),u("process-revert-error"),F(w)}),a(ge.IDLE),u("process-revert")}),E=(S,M,R)=>{const F=S.split("."),I=F[0],w=F.pop();let x=o;F.forEach(C=>x=x[C]),JSON.stringify(x[w])!==JSON.stringify(M)&&(x[w]=M,u("metadata-update",{key:I,value:o[I],silent:R}))},T={id:{get:()=>i},origin:{get:()=>e,set:S=>e=S},serverId:{get:()=>r.serverFileReference},transferId:{get:()=>r.transferId},status:{get:()=>r.status},filename:{get:()=>r.file.name},filenameWithoutExtension:{get:()=>_c(r.file.name)},fileExtension:{get:l},fileType:{get:c},fileSize:{get:f},file:{get:d},relativePath:{get:()=>r.file._relativePath},source:{get:()=>r.source},getMetadata:S=>yc(S?o[S]:o),setMetadata:(S,M,R)=>{if(Ze(S)){const F=S;return Object.keys(F).forEach(I=>{E(I,F[I],M)}),S}return E(S,M,R),M},extend:(S,M)=>A[S]=M,abortLoad:h,retryLoad:m,requestProcessing:_,abortProcessing:y,load:p,process:v,revert:g,...zo(),freeze:()=>r.frozen=!0,release:()=>r.released=!0,released:{get:()=>r.released},archive:()=>r.archived=!0,archived:{get:()=>r.archived}},A=Mn(T);return A},O0=(e,t)=>un(t)?0:ct(t)?e.findIndex(n=>n.id===t):-1,ru=(e,t)=>{const n=O0(e,t);if(!(n<0))return e[n]||null},ou=(e,t,n,i,r,s)=>{const o=$n(null,e,{method:"GET",responseType:"blob"});return o.onload=a=>{const u=a.getAllResponseHeaders(),l=hs(u).name||Ar(e);t(He("load",a.status,Mi(a.response,l),u))},o.onerror=a=>{n(He("error",a.status,a.statusText,a.getAllResponseHeaders()))},o.onheaders=a=>{s(He("headers",a.status,null,a.getAllResponseHeaders()))},o.ontimeout=Gn(n),o.onprogress=i,o.onabort=r,o},au=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),k0=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&au(location.href)!==au(e),Fr=e=>(...t)=>Hn(e)?e(...t):e,P0=e=>!Li(e.file),ea=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:Yt(t.items)})},0)},su=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const i=e(...t);if(i==null)return n(!0);if(typeof i=="boolean")return n(i);typeof i.then=="function"&&i.then(n)}),ta=(e,t)=>{e.items.sort((n,i)=>t(mt(n),mt(i)))},xt=(e,t)=>({query:n,success:i=()=>{},failure:r=()=>{},...s}={})=>{const o=jn(e.items,n);if(!o){r({error:He("error",0,"Item not found"),file:null});return}t(o,i,r,s||{})},B0=(e,t,n)=>({ABORT_ALL:()=>{Yt(n.items).forEach(i=>{i.freeze(),i.abortLoad(),i.abortProcessing()})},DID_SET_FILES:({value:i=[]})=>{const r=i.map(o=>({source:o.source?o.source:o,options:o.options}));let s=Yt(n.items);s.forEach(o=>{r.find(a=>a.source===o.source||a.source===o.file)||e("REMOVE_ITEM",{query:o,remove:!1})}),s=Yt(n.items),r.forEach((o,a)=>{s.find(u=>u.source===o.source||u.file===o.source)||e("ADD_ITEM",{...o,interactionMethod:Lt.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:i,action:r,change:s})=>{s.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const o=ru(n.items,i);if(!t("IS_ASYNC")){Nt("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t,action:r,change:s}).then(c=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(c=f(o,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:i,item:o,success:d=>{e("DID_PREPARE_OUTPUT",{id:i,file:d})}},!0)});return}o.origin===Ke.LOCAL&&e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const a=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:i})},32)},u=c=>{o.revert(Ji(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c?a:()=>{}).catch(()=>{})},l=c=>{o.abortProcessing().then(c?a:()=>{})};if(o.status===ge.PROCESSING_COMPLETE)return u(n.options.instantUpload);if(o.status===ge.PROCESSING)return l(n.options.instantUpload);n.options.instantUpload&&a()},0))},MOVE_ITEM:({query:i,index:r})=>{const s=jn(n.items,i);if(!s)return;const o=n.items.indexOf(s);r=pc(r,0,n.items.length-1),o!==r&&n.items.splice(r,0,n.items.splice(o,1)[0])},SORT:({compare:i})=>{ta(n,i),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:i,index:r,interactionMethod:s,success:o=()=>{},failure:a=()=>{}})=>{let u=r;if(r===-1||typeof r>"u"){const p=t("GET_ITEM_INSERT_LOCATION"),m=t("GET_TOTAL_ITEMS");u=p==="before"?0:m}const l=t("GET_IGNORED_FILES"),c=p=>Li(p)?!l.includes(p.name.toLowerCase()):!un(p),d=i.filter(c).map(p=>new Promise((m,h)=>{e("ADD_ITEM",{interactionMethod:s,source:p.source||p,success:m,failure:h,index:u++,options:p.options||{}})}));Promise.all(d).then(o).catch(a)},ADD_ITEM:({source:i,index:r=-1,interactionMethod:s,success:o=()=>{},failure:a=()=>{},options:u={}})=>{if(un(i)){a({error:He("error",0,"No source"),file:null});return}if(Li(i)&&n.options.ignoredFiles.includes(i.name.toLowerCase()))return;if(!f0(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const y=He("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:i,error:y}),a({error:y,file:null});return}const _=Yt(n.items)[0];if(_.status===ge.PROCESSING_COMPLETE||_.status===ge.PROCESSING_REVERT_ERROR){const y=t("GET_FORCE_REVERT");if(_.revert(Ji(n.options.server.url,n.options.server.revert),y).then(()=>{y&&e("ADD_ITEM",{source:i,index:r,interactionMethod:s,success:o,failure:a,options:u})}).catch(()=>{}),y)return}e("REMOVE_ITEM",{query:_.id})}const l=u.type==="local"?Ke.LOCAL:u.type==="limbo"?Ke.LIMBO:Ke.INPUT,c=F0(l,l===Ke.INPUT?null:i,u.file);Object.keys(u.metadata||{}).forEach(_=>{c.setMetadata(_,u.metadata[_])}),Qn("DID_CREATE_ITEM",c,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(r=f==="before"?-1:n.items.length),m0(n.items,c,r),Hn(f)&&i&&ta(n,f);const d=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:d})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:d})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:d})}),c.on("load-progress",_=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:d,progress:_})}),c.on("load-request-error",_=>{const y=Fr(n.options.labelFileLoadError)(_);if(_.code>=400&&_.code<500){e("DID_THROW_ITEM_INVALID",{id:d,error:_,status:{main:y,sub:`${_.code} (${_.body})`}}),a({error:_,file:mt(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:d,error:_,status:{main:y,sub:n.options.labelTapToRetry}})}),c.on("load-file-error",_=>{e("DID_THROW_ITEM_INVALID",{id:d,error:_.status,status:_.status}),a({error:_.status,file:mt(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:d})}),c.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:i,success:o}})}),c.on("load",()=>{const _=y=>{if(!y){e("REMOVE_ITEM",{query:d});return}c.on("metadata-update",g=>{e("DID_UPDATE_ITEM_METADATA",{id:d,change:g})}),Nt("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(g=>{const E=t("GET_BEFORE_PREPARE_FILE");E&&(g=E(c,g));const b=()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:i,success:o}}),ea(e,n)};if(g){e("REQUEST_PREPARE_OUTPUT",{query:d,item:c,success:T=>{e("DID_PREPARE_OUTPUT",{id:d,file:T}),b()}},!0);return}b()})};Nt("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{su(t("GET_BEFORE_ADD_FILE"),mt(c)).then(_)}).catch(y=>{if(!y||!y.error||!y.status)return _(!1);e("DID_THROW_ITEM_INVALID",{id:d,error:y.error,status:y.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:d})}),c.on("process-progress",_=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:d,progress:_})}),c.on("process-error",_=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:d,error:_,status:{main:Fr(n.options.labelFileProcessingError)(_),sub:n.options.labelTapToRetry}})}),c.on("process-revert-error",_=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:d,error:_,status:{main:Fr(n.options.labelFileProcessingRevertError)(_),sub:n.options.labelTapToRetry}})}),c.on("process-complete",_=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:d,error:null,serverFileReference:_}),e("DID_DEFINE_VALUE",{id:d,value:_})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:d})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:d}),e("DID_DEFINE_VALUE",{id:d,value:null})}),e("DID_ADD_ITEM",{id:d,index:r,interactionMethod:s}),ea(e,n);const{url:p,load:m,restore:h,fetch:v}=n.options.server||{};c.load(i,D0(l===Ke.INPUT?ct(i)&&k0(i)&&v?Qo(p,v):ou:l===Ke.LIMBO?Qo(p,h):Qo(p,m)),(_,y,g)=>{Nt("LOAD_FILE",_,{query:t}).then(y).catch(g)})},REQUEST_PREPARE_OUTPUT:({item:i,success:r,failure:s=()=>{}})=>{const o={error:He("error",0,"Item not found"),file:null};if(i.archived)return s(o);Nt("PREPARE_OUTPUT",i.file,{query:t,item:i}).then(a=>{Nt("COMPLETE_PREPARE_OUTPUT",a,{query:t,item:i}).then(u=>{if(i.archived)return s(o);r(u)})})},COMPLETE_LOAD_ITEM:({item:i,data:r})=>{const{success:s,source:o}=r,a=t("GET_ITEM_INSERT_LOCATION");if(Hn(a)&&o&&ta(n,a),e("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.origin===Ke.INPUT?null:o}),s(mt(i)),i.origin===Ke.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:i.id});return}if(i.origin===Ke.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:i.id,error:null,serverFileReference:o}),e("DID_DEFINE_VALUE",{id:i.id,value:i.serverId||o});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:i.id})},RETRY_ITEM_LOAD:xt(n,i=>{i.retryLoad()}),REQUEST_ITEM_PREPARE:xt(n,(i,r,s)=>{e("REQUEST_PREPARE_OUTPUT",{query:i.id,item:i,success:o=>{e("DID_PREPARE_OUTPUT",{id:i.id,file:o}),r({file:i,output:o})},failure:s},!0)}),REQUEST_ITEM_PROCESSING:xt(n,(i,r,s)=>{if(!(i.status===ge.IDLE||i.status===ge.PROCESSING_ERROR)){const a=()=>e("REQUEST_ITEM_PROCESSING",{query:i,success:r,failure:s}),u=()=>document.hidden?a():setTimeout(a,32);i.status===ge.PROCESSING_COMPLETE||i.status===ge.PROCESSING_REVERT_ERROR?i.revert(Ji(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(u).catch(()=>{}):i.status===ge.PROCESSING&&i.abortProcessing().then(u);return}i.status!==ge.PROCESSING_QUEUED&&(i.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:i.id}),e("PROCESS_ITEM",{query:i,success:r,failure:s},!0))}),PROCESS_ITEM:xt(n,(i,r,s)=>{const o=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",ge.PROCESSING).length===o){n.processingQueue.push({id:i.id,success:r,failure:s});return}if(i.status===ge.PROCESSING)return;const u=()=>{const c=n.processingQueue.shift();if(!c)return;const{id:f,success:d,failure:p}=c,m=jn(n.items,f);if(!m||m.archived){u();return}e("PROCESS_ITEM",{query:f,success:d,failure:p},!0)};i.onOnce("process-complete",()=>{r(mt(i)),u();const c=n.options.server;if(n.options.instantUpload&&i.origin===Ke.LOCAL&&Hn(c.remove)){const p=()=>{};i.origin=Ke.LIMBO,n.options.server.remove(i.source,p,p)}t("GET_ITEMS_BY_STATUS",ge.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),i.onOnce("process-error",c=>{s({error:c,file:mt(i)}),u()});const l=n.options;i.process(L0(I0(l.server.url,l.server.process,l.name,{chunkTransferId:i.transferId,chunkServer:l.server.patch,chunkUploads:l.chunkUploads,chunkForce:l.chunkForce,chunkSize:l.chunkSize,chunkRetryDelays:l.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,f,d)=>{Nt("PREPARE_OUTPUT",c,{query:t,item:i}).then(p=>{e("DID_PREPARE_OUTPUT",{id:i.id,file:p}),f(p)}).catch(d)})}),RETRY_ITEM_PROCESSING:xt(n,i=>{e("REQUEST_ITEM_PROCESSING",{query:i})}),REQUEST_REMOVE_ITEM:xt(n,i=>{su(t("GET_BEFORE_REMOVE_FILE"),mt(i)).then(r=>{r&&e("REMOVE_ITEM",{query:i})})}),RELEASE_ITEM:xt(n,i=>{i.release()}),REMOVE_ITEM:xt(n,(i,r,s,o)=>{const a=()=>{const l=i.id;ru(n.items,l).archive(),e("DID_REMOVE_ITEM",{error:null,id:l,item:i}),ea(e,n),r(mt(i))},u=n.options.server;i.origin===Ke.LOCAL&&u&&Hn(u.remove)&&o.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:i.id}),u.remove(i.source,()=>a(),l=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:i.id,error:He("error",0,l,null),status:{main:Fr(n.options.labelFileRemoveError)(l),sub:n.options.labelTapToRetry}})})):((o.revert&&i.origin!==Ke.LOCAL&&i.serverId!==null||n.options.chunkUploads&&i.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&i.revert(Ji(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:xt(n,i=>{i.abortLoad()}),ABORT_ITEM_PROCESSING:xt(n,i=>{if(i.serverId){e("REVERT_ITEM_PROCESSING",{id:i.id});return}i.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:i.id})})}),REQUEST_REVERT_ITEM_PROCESSING:xt(n,i=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:i});return}const r=a=>{a&&e("REVERT_ITEM_PROCESSING",{query:i})},s=t("GET_BEFORE_REMOVE_FILE");if(!s)return r(!0);const o=s(mt(i));if(o==null)return r(!0);if(typeof o=="boolean")return r(o);typeof o.then=="function"&&o.then(r)}),REVERT_ITEM_PROCESSING:xt(n,i=>{i.revert(Ji(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||P0(i))&&e("REMOVE_ITEM",{query:i.id})}).catch(()=>{})}),SET_OPTIONS:({options:i})=>{const r=Object.keys(i),s=N0.filter(a=>r.includes(a));[...s,...Object.keys(i).filter(a=>!s.includes(a))].forEach(a=>{e(`SET_${No(a,"_").toUpperCase()}`,{value:i[a]})})}}),N0=["server"],fs=e=>e,ln=e=>document.createElement(e),je=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},uu=(e,t,n,i)=>{const r=(i%360-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},z0=(e,t,n,i,r,s)=>{const o=uu(e,t,n,r),a=uu(e,t,n,i);return["M",o.x,o.y,"A",n,n,0,s,0,a.x,a.y].join(" ")},Y0=(e,t,n,i,r)=>{let s=1;return r>i&&r-i<=.5&&(s=0),i>r&&i-r>=.5&&(s=0),z0(e,t,n,Math.min(.9999,i)*360,Math.min(.9999,r)*360,s)},V0=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=po("svg");e.ref.path=po("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},H0=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(We(e.ref.path,"stroke-width"),10),i=e.rect.element.width*.5;let r=0,s=0;t.spin?(r=0,s=.5):(r=0,s=t.progress);const o=Y0(i,i,i-n,r,s);We(e.ref.path,"d",o),We(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},lu=qe({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:V0,write:H0,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),j0=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},U0=({root:e,props:t})=>{const{isDisabled:n}=t,i=e.query("GET_DISABLED")||t.opacity===0;i&&!n?(t.isDisabled=!0,We(e.element,"disabled","disabled")):!i&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},bc=qe({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:j0,write:U0}),Ac=(e,t=".",n=1e3,i={})=>{const{labelBytes:r="bytes",labelKilobytes:s="KB",labelMegabytes:o="MB",labelGigabytes:a="GB"}=i;e=Math.round(Math.abs(e));const u=n,l=n*n,c=n*n*n;return e<u?`${e} ${r}`:e<l?`${Math.floor(e/u)} ${s}`:e<c?`${cu(e/l,1,t)} ${o}`:`${cu(e/c,2,t)} ${a}`},cu=(e,t,n)=>e.toFixed(t).split(".").filter(i=>i!=="0").join(n),$0=({root:e,props:t})=>{const n=ln("span");n.className="filepond--file-info-main",We(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const i=ln("span");i.className="filepond--file-info-sub",e.appendChild(i),e.ref.fileSize=i,je(i,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),je(n,fs(e.query("GET_ITEM_NAME",t.id)))},Ma=({root:e,props:t})=>{je(e.ref.fileSize,Ac(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),je(e.ref.fileName,fs(e.query("GET_ITEM_NAME",t.id)))},du=({root:e,props:t})=>{if(Ni(e.query("GET_ITEM_SIZE",t.id))){Ma({root:e,props:t});return}je(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},G0=qe({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:ft({DID_LOAD_ITEM:Ma,DID_UPDATE_ITEM_META:Ma,DID_THROW_ITEM_LOAD_ERROR:du,DID_THROW_ITEM_INVALID:du}),didCreateView:e=>{Qn("CREATE_VIEW",{...e,view:e})},create:$0,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Tc=e=>Math.round(e*100),W0=({root:e})=>{const t=ln("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=ln("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,Sc({root:e,action:{progress:null}})},Sc=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${Tc(t.progress)}%`;je(e.ref.main,n),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},q0=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${Tc(t.progress)}%`;je(e.ref.main,n),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},K0=({root:e})=>{je(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},X0=({root:e})=>{je(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},J0=({root:e})=>{je(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},hu=({root:e})=>{je(e.ref.main,""),je(e.ref.sub,"")},Zi=({root:e,action:t})=>{je(e.ref.main,t.status.main),je(e.ref.sub,t.status.sub)},Z0=qe({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:ft({DID_LOAD_ITEM:hu,DID_REVERT_ITEM_PROCESSING:hu,DID_REQUEST_ITEM_PROCESSING:K0,DID_ABORT_ITEM_PROCESSING:X0,DID_COMPLETE_ITEM_PROCESSING:J0,DID_UPDATE_ITEM_PROCESS_PROGRESS:q0,DID_UPDATE_ITEM_LOAD_PROGRESS:Sc,DID_THROW_ITEM_LOAD_ERROR:Zi,DID_THROW_ITEM_INVALID:Zi,DID_THROW_ITEM_PROCESSING_ERROR:Zi,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Zi,DID_THROW_ITEM_REMOVE_ERROR:Zi}),didCreateView:e=>{Qn("CREATE_VIEW",{...e,view:e})},create:W0,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),La={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Ra=[];Ve(La,e=>{Ra.push(e)});var bt=e=>{if(Fa(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},Q0=e=>e.ref.buttonAbortItemLoad.rect.element.width,Or=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),em=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),tm=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),nm=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),Fa=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),im={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:tm},processProgressIndicator:{opacity:0,align:nm},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},fu={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:bt},status:{translateX:bt}},na={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},_i={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:bt},status:{translateX:bt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:bt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Fa},info:{translateX:bt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Fa},buttonRemoveItem:{opacity:1},info:{translateX:bt},status:{opacity:1,translateX:bt}},DID_LOAD_ITEM:fu,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:bt},status:{translateX:bt}},DID_START_ITEM_PROCESSING:na,DID_REQUEST_ITEM_PROCESSING:na,DID_UPDATE_ITEM_PROCESS_PROGRESS:na,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:bt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:bt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:fu},rm=qe({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),om=({root:e,props:t})=>{const n=Object.keys(La).reduce((m,h)=>(m[h]={...La[h]},m),{}),{id:i}=t,r=e.query("GET_ALLOW_REVERT"),s=e.query("GET_ALLOW_REMOVE"),o=e.query("GET_ALLOW_PROCESS"),a=e.query("GET_INSTANT_UPLOAD"),u=e.query("IS_ASYNC"),l=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;u?o&&!r?c=m=>!/RevertItemProcessing/.test(m):!o&&r?c=m=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(m):!o&&!r&&(c=m=>!/Process/.test(m)):c=m=>!/Process/.test(m);const f=c?Ra.filter(c):Ra.concat();if(a&&r&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),u&&!r){const m=_i.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=em,m.info.translateY=Or,m.status.translateY=Or,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(u&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(m=>{_i[m].status.translateY=Or}),_i.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Q0),l&&r){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const m=_i.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=bt,m.status.translateY=Or,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(n.RemoveItem.disabled=!0),Ve(n,(m,h)=>{const v=e.createChildView(bc,{label:e.query(h.label),icon:e.query(h.icon),opacity:0});f.includes(m)&&e.appendChildView(v),h.disabled&&(v.element.setAttribute("disabled","disabled"),v.element.setAttribute("hidden","hidden")),v.element.dataset.align=e.query(`GET_STYLE_${h.align}`),v.element.classList.add(h.className),v.on("click",_=>{_.stopPropagation(),!h.disabled&&e.dispatch(h.action,{query:i})}),e.ref[`button${m}`]=v}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(rm)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(G0,{id:i})),e.ref.status=e.appendChildView(e.createChildView(Z0,{id:i}));const d=e.appendChildView(e.createChildView(lu,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=d;const p=e.appendChildView(e.createChildView(lu,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));p.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=p,e.ref.activeStyles=[]},am=({root:e,actions:t,props:n})=>{sm({root:e,actions:t,props:n});let i=t.concat().filter(r=>/^DID_/.test(r.type)).reverse().find(r=>_i[r.type]);if(i){e.ref.activeStyles=[];const r=_i[i.type];Ve(im,(s,o)=>{const a=e.ref[s];Ve(o,(u,l)=>{const c=r[s]&&typeof r[s][u]<"u"?r[s][u]:l;e.ref.activeStyles.push({control:a,key:u,value:c})})})}e.ref.activeStyles.forEach(({control:r,key:s,value:o})=>{r[s]=typeof o=="function"?o(e):o})},sm=ft({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),um=qe({create:om,write:am,didCreateView:e=>{Qn("CREATE_VIEW",{...e,view:e})},name:"file"}),lm=({root:e,props:t})=>{e.ref.fileName=ln("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(um,{id:t.id})),e.ref.data=!1},cm=({root:e,props:t})=>{je(e.ref.fileName,fs(e.query("GET_ITEM_NAME",t.id)))},dm=qe({create:lm,ignoreRect:!0,write:ft({DID_LOAD_ITEM:cm}),didCreateView:e=>{Qn("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),pu={type:"spring",damping:.6,mass:7},hm=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:pu},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:pu},styles:["translateY"]}}].forEach(n=>{fm(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},fm=(e,t,n)=>{const i=qe({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),r=e.createChildView(i,t.props);e.ref[t.name]=e.appendChildView(r)},pm=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=oc(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,i=e.ref.bottom.rect.element,r=Math.max(n.height+i.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(r-n.height-i.height)/100,e.ref.bottom.translateY=r-i.height},wc=qe({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:pm,create:hm,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),mm=e=>{const t=e.map(i=>i.id);let n;return{setIndex:i=>{n=i},getIndex:()=>n,getItemIndex:i=>t.indexOf(i.id)}},mu={type:"spring",stiffness:.75,damping:.45,mass:10},gu="spring",vu={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},gm=({root:e,props:t})=>{if(e.ref.handleClick=i=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(dm,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(wc,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=i=>{if(!i.isPrimary)return;let r=!1;const s={x:i.pageX,y:i.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:i.offsetX,y:i.offsetY};const o=mm(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:o});const a=l=>{if(!l.isPrimary)return;l.stopPropagation(),l.preventDefault(),t.dragOffset={x:l.pageX-s.x,y:l.pageY-s.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!r&&(r=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:o})},u=l=>{l.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",u),t.dragOffset={x:l.pageX-s.x,y:l.pageY-s.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:o}),r&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",u)};e.element.addEventListener("pointerdown",n)},vm=ft({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),Em=ft({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:i})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let r=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>vu[o.type]);r&&r.type!==n.currentState&&(n.currentState=r.type,e.element.dataset.filepondItemState=vu[n.currentState]||"");const s=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");s?i||(e.height=e.rect.element.width*s):(vm({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),i&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),_m=qe({create:gm,write:Em,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:gu,scaleY:gu,translateX:mu,translateY:mu,opacity:{type:"tween",duration:150}}}}),ps=(e,t)=>Math.max(1,Math.floor((e+1)/t)),ms=(e,t,n)=>{if(!n)return;const i=e.rect.element.width,r=t.length;let s=null;if(r===0||n.top<t[0].rect.element.top)return-1;const a=t[0].rect.element,u=a.marginLeft+a.marginRight,l=a.width+u,c=ps(i,l);if(c===1){for(let p=0;p<r;p++){const m=t[p],h=m.rect.outer.top+m.rect.element.height*.5;if(n.top<h)return p}return r}const f=a.marginTop+a.marginBottom,d=a.height+f;for(let p=0;p<r;p++){const m=p%c,h=Math.floor(p/c),v=m*l,_=h*d,y=_-a.marginTop,g=v+l,E=_+d+a.marginBottom;if(n.top<E&&n.top>y){if(n.left<g)return p;p!==r-1?s=p:s=null}}return s!==null?s:r},kr={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},ym=({root:e})=>{We(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},bm=({root:e,action:t})=>{const{id:n,index:i,interactionMethod:r}=t;e.ref.addIndex=i;const s=Date.now();let o=s,a=1;if(r!==Lt.NONE){a=0;const u=e.query("GET_ITEM_INSERT_INTERVAL"),l=s-e.ref.lastItemSpanwDate;o=l<u?s+(u-l):s}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(_m,{spawnDate:o,id:n,opacity:a,interactionMethod:r}),i)},Eu=(e,t,n,i=0,r=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&Am(e,t,n,i,r),e.scaleX=1,e.scaleY=1,e.opacity=1))},Am=(e,t,n,i,r)=>{e.interactionMethod===Lt.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===Lt.DROP?(e.translateX=null,e.translateX=t-i*20,e.translateY=null,e.translateY=n-r*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Lt.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===Lt.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Tm=({root:e,action:t})=>{const{id:n}=t,i=e.childViews.find(r=>r.id===n);i&&(i.scaleX=.9,i.scaleY=.9,i.opacity=0,i.markedForRemoval=!0)},ia=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,Sm=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,wm=({root:e,action:t})=>{const{id:n,dragState:i}=t,r=e.query("GET_ITEM",{id:n}),s=e.childViews.find(v=>v.id===n),o=e.childViews.length,a=i.getItemIndex(r);if(!s)return;const u={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y},l=ia(s),c=Sm(s);let f=Math.floor(e.rect.outer.width/c);f>o&&(f=o);const d=Math.floor(o/f+1);kr.setHeight=l*d,kr.setWidth=c*f;var p={y:Math.floor(u.y/l),x:Math.floor(u.x/c),getGridIndex:function(){return u.y>kr.getHeight||u.y<0||u.x>kr.getWidth||u.x<0?a:this.y*f+this.x},getColIndex:function(){const _=e.query("GET_ACTIVE_ITEMS"),y=e.childViews.filter(F=>F.rect.element.height),g=_.map(F=>y.find(I=>I.id===F.id)),E=g.findIndex(F=>F===s),b=ia(s),T=g.length;let A=T,S=0,M=0,R=0;for(let F=0;F<T;F++)if(S=ia(g[F]),R=M,M=R+S,u.y<M){if(E>F){if(u.y<R+b){A=F;break}continue}A=F;break}return A}};const m=f>1?p.getGridIndex():p.getColIndex();e.dispatch("MOVE_ITEM",{query:s,index:m});const h=i.getIndex();if(h===void 0||h!==m){if(i.setIndex(m),h===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:a,target:m})}},Dm=ft({DID_ADD_ITEM:bm,DID_REMOVE_ITEM:Tm,DID_DRAG_ITEM:wm}),xm=({root:e,props:t,actions:n,shouldOptimize:i})=>{Dm({root:e,props:t,actions:n});const{dragCoordinates:r}=t,s=e.rect.element.width,o=e.childViews.filter(g=>g.rect.element.height),a=e.query("GET_ACTIVE_ITEMS").map(g=>o.find(E=>E.id===g.id)).filter(g=>g),u=r?ms(e,a,r):null,l=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,f=0,d=0;if(a.length===0)return;const p=a[0].rect.element,m=p.marginTop+p.marginBottom,h=p.marginLeft+p.marginRight,v=p.width+h,_=p.height+m,y=ps(s,v);if(y===1){let g=0,E=0;a.forEach((b,T)=>{if(u){let M=T-u;M===-2?E=-m*.25:M===-1?E=-m*.75:M===0?E=m*.75:M===1?E=m*.25:E=0}i&&(b.translateX=null,b.translateY=null),b.markedForRemoval||Eu(b,0,g+E);let S=(b.rect.element.height+m)*(b.markedForRemoval?b.opacity:1);g+=S})}else{let g=0,E=0;a.forEach((b,T)=>{T===u&&(c=1),T===l&&(d+=1),b.markedForRemoval&&b.opacity<.5&&(f-=1);const A=T+d+c+f,S=A%y,M=Math.floor(A/y),R=S*v,F=M*_,I=Math.sign(R-g),w=Math.sign(F-E);g=R,E=F,!b.markedForRemoval&&(i&&(b.translateX=null,b.translateY=null),Eu(b,R,F,I,w))})}},Cm=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),Im=qe({create:ym,write:xm,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Cm,mixins:{apis:["dragCoordinates"]}}),Mm=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Im)),t.dragCoordinates=null,t.overflowing=!1},Lm=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Rm=({props:e})=>{e.dragCoordinates=null},Fm=ft({DID_DRAG:Lm,DID_END_DRAG:Rm}),Om=({root:e,props:t,actions:n})=>{if(Fm({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const i=Math.round(t.overflow);i!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=i)}},km=qe({create:Mm,write:Om,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Vt=(e,t,n,i="")=>{n?We(e,t,i):e.removeAttribute(t)},Pm=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=ln("form"),n=e.parentNode,i=e.nextSibling;t.appendChild(e),t.reset(),i?n.insertBefore(e,i):n.appendChild(e)}}},Bm=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,We(e.element,"name",e.query("GET_NAME")),We(e.element,"aria-controls",`filepond--assistant-${t.id}`),We(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Dc({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),xc({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Cc({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Oa({root:e}),Ic({root:e,action:{value:e.query("GET_REQUIRED")}}),Mc({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const i=Array.from(e.element.files).map(r=>(r._relativePath=r.webkitRelativePath,r));setTimeout(()=>{t.onload(i),Pm(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Dc=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Vt(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},xc=({root:e,action:t})=>{Vt(e.element,"multiple",t.value)},Cc=({root:e,action:t})=>{Vt(e.element,"webkitdirectory",t.value)},Oa=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),i=t||!n;Vt(e.element,"disabled",i)},Ic=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&Vt(e.element,"required",!0):Vt(e.element,"required",!1)},Mc=({root:e,action:t})=>{Vt(e.element,"capture",!!t.value,t.value===!0?"":t.value)},_u=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(Vt(t,"required",!1),Vt(t,"name",!1)):(Vt(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&Vt(t,"required",!0))},Nm=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},zm=qe({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Bm,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:ft({DID_LOAD_ITEM:_u,DID_REMOVE_ITEM:_u,DID_THROW_ITEM_INVALID:Nm,DID_SET_DISABLED:Oa,DID_SET_ALLOW_BROWSE:Oa,DID_SET_ALLOW_DIRECTORIES_ONLY:Cc,DID_SET_ALLOW_MULTIPLE:xc,DID_SET_ACCEPTED_FILE_TYPES:Dc,DID_SET_CAPTURE_METHOD:Mc,DID_SET_REQUIRED:Ic})}),yu={ENTER:13,SPACE:32},Ym=({root:e,props:t})=>{const n=ln("label");We(n,"for",`filepond--browser-${t.id}`),We(n,"id",`filepond--drop-label-${t.id}`),We(n,"aria-hidden","true"),e.ref.handleKeyDown=i=>{(i.keyCode===yu.ENTER||i.keyCode===yu.SPACE)&&(i.preventDefault(),e.ref.label.click())},e.ref.handleClick=i=>{i.target===n||n.contains(i.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Lc(n,t.caption),e.appendChild(n),e.ref.label=n},Lc=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&We(n,"tabindex","0"),t},Vm=qe({name:"drop-label",ignoreRect:!0,create:Ym,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:ft({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Lc(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Hm=qe({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),jm=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Hm,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},Um=({root:e,action:t})=>{if(!e.ref.blob){jm({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},$m=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},Gm=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},Wm=({root:e,props:t,actions:n})=>{qm({root:e,props:t,actions:n});const{blob:i}=e.ref;n.length===0&&i&&i.opacity===0&&(e.removeChildView(i),e.ref.blob=null)},qm=ft({DID_DRAG:Um,DID_DROP:Gm,DID_END_DRAG:$m}),Km=qe({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Wm}),Rc=(e,t)=>{try{const n=new DataTransfer;t.forEach(i=>{i instanceof File?n.items.add(i):n.items.add(new File([i],i.name,{type:i.type}))}),e.files=n.files}catch{return!1}return!0},Xm=({root:e})=>e.ref.fields={},Vo=(e,t)=>e.ref.fields[t],gs=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},bu=({root:e})=>gs(e),Jm=({root:e,action:t})=>{const r=!(e.query("GET_ITEM",t.id).origin===Ke.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),s=ln("input");s.type=r?"file":"hidden",s.name=e.query("GET_NAME"),s.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=s,gs(e)},Zm=({root:e,action:t})=>{const n=Vo(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const i=e.query("GET_ITEM",t.id);Rc(n,[i.file])},Qm=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=Vo(e,t.id);n&&Rc(n,[t.file])},0)},eg=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},tg=({root:e,action:t})=>{const n=Vo(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},ng=({root:e,action:t})=>{const n=Vo(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.value=t.value,gs(e))},ig=ft({DID_SET_DISABLED:eg,DID_ADD_ITEM:Jm,DID_LOAD_ITEM:Zm,DID_REMOVE_ITEM:tg,DID_DEFINE_VALUE:ng,DID_PREPARE_OUTPUT:Qm,DID_REORDER_ITEMS:bu,DID_SORT_ITEMS:bu}),rg=qe({tag:"fieldset",name:"data",create:Xm,write:ig,ignoreRect:!0}),og=e=>"getRootNode"in e?e.getRootNode():document,ag=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],sg=["css","csv","html","txt"],ug={zip:"zip|compressed",epub:"application/epub+zip"},Fc=(e="")=>(e=e.toLowerCase(),ag.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):sg.includes(e)?"text/"+e:ug[e]||""),vs=e=>new Promise((t,n)=>{const i=gg(e);if(i.length&&!lg(e))return t(i);cg(e).then(t)}),lg=e=>e.files?e.files.length>0:!1,cg=e=>new Promise((t,n)=>{const i=(e.items?Array.from(e.items):[]).filter(r=>dg(r)).map(r=>hg(r));if(!i.length){t(e.files?Array.from(e.files):[]);return}Promise.all(i).then(r=>{const s=[];r.forEach(o=>{s.push.apply(s,o)}),t(s.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),dg=e=>{if(Oc(e)){const t=Es(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},hg=e=>new Promise((t,n)=>{if(mg(e)){fg(Es(e)).then(t).catch(n);return}t([e.getAsFile()])}),fg=e=>new Promise((t,n)=>{const i=[];let r=0,s=0;const o=()=>{s===0&&r===0&&t(i)},a=u=>{r++;const l=u.createReader(),c=()=>{l.readEntries(f=>{if(f.length===0){r--,o();return}f.forEach(d=>{d.isDirectory?a(d):(s++,d.file(p=>{const m=pg(p);d.fullPath&&(m._relativePath=d.fullPath),i.push(m),s--,o()}))}),c()},n)};c()};a(e)}),pg=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,i=Fc(Yo(e.name));return i.length&&(e=e.slice(0,e.size,i),e.name=n,e.lastModifiedDate=t),e},mg=e=>Oc(e)&&(Es(e)||{}).isDirectory,Oc=e=>"webkitGetAsEntry"in e,Es=e=>e.webkitGetAsEntry(),gg=e=>{let t=[];try{if(t=Eg(e),t.length)return t;t=vg(e)}catch{}return t},vg=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},Eg=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},go=[],Wn=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),_g=(e,t,n)=>{const i=yg(t),r={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return r.destroy=i.addListener(r),r},yg=e=>{const t=go.find(i=>i.element===e);if(t)return t;const n=bg(e);return go.push(n),n},bg=e=>{const t=[],n={dragenter:Tg,dragover:Sg,dragleave:Dg,drop:wg},i={};Ve(n,(s,o)=>{i[s]=o(e,t),e.addEventListener(s,i[s],!1)});const r={element:e,addListener:s=>(t.push(s),()=>{t.splice(t.indexOf(s),1),t.length===0&&(go.splice(go.indexOf(r),1),Ve(n,o=>{e.removeEventListener(o,i[o],!1)}))})};return r},Ag=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),_s=(e,t)=>{const n=og(t),i=Ag(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return i===t||t.contains(i)},kc=null,Pr=(e,t)=>{try{e.dropEffect=t}catch{}},Tg=(e,t)=>n=>{n.preventDefault(),kc=n.target,t.forEach(i=>{const{element:r,onenter:s}=i;_s(n,r)&&(i.state="enter",s(Wn(n)))})},Sg=(e,t)=>n=>{n.preventDefault();const i=n.dataTransfer;vs(i).then(r=>{let s=!1;t.some(o=>{const{filterElement:a,element:u,onenter:l,onexit:c,ondrag:f,allowdrop:d}=o;Pr(i,"copy");const p=d(r);if(!p){Pr(i,"none");return}if(_s(n,u)){if(s=!0,o.state===null){o.state="enter",l(Wn(n));return}if(o.state="over",a&&!p){Pr(i,"none");return}f(Wn(n))}else a&&!s&&Pr(i,"none"),o.state&&(o.state=null,c(Wn(n)))})})},wg=(e,t)=>n=>{n.preventDefault();const i=n.dataTransfer;vs(i).then(r=>{t.forEach(s=>{const{filterElement:o,element:a,ondrop:u,onexit:l,allowdrop:c}=s;if(s.state=null,!(o&&!_s(n,a))){if(!c(r))return l(Wn(n));u(Wn(n),r)}})})},Dg=(e,t)=>n=>{kc===n.target&&t.forEach(i=>{const{onexit:r}=i;i.state=null,r(Wn(n))})},xg=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:i,requiresDropOnElement:r,filterItems:s=c=>c}=n,o=_g(e,i?document.documentElement:e,r);let a="",u="";o.allowdrop=c=>t(s(c)),o.ondrop=(c,f)=>{const d=s(f);if(!t(d)){l.ondragend(c);return}u="drag-drop",l.onload(d,c)},o.ondrag=c=>{l.ondrag(c)},o.onenter=c=>{u="drag-over",l.ondragstart(c)},o.onexit=c=>{u="drag-exit",l.ondragend(c)};const l={updateHopperState:()=>{a!==u&&(e.dataset.hopperState=u,a=u)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return l},ka=!1,wi=[],Pc=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,i=t;for(;i!==document.body;){if(i.classList.contains("filepond--root")){n=!0;break}i=i.parentNode}if(!n)return}vs(e.clipboardData).then(n=>{n.length&&wi.forEach(i=>i(n))})},Cg=e=>{wi.includes(e)||(wi.push(e),!ka&&(ka=!0,document.addEventListener("paste",Pc)))},Ig=e=>{cs(wi,wi.indexOf(e)),wi.length===0&&(document.removeEventListener("paste",Pc),ka=!1)},Mg=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{Ig(e)},onload:()=>{}};return Cg(e),t},Lg=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,We(e.element,"role","status"),We(e.element,"aria-live","polite"),We(e.element,"aria-relevant","additions")},Au=null,Tu=null,ra=[],Ho=(e,t)=>{e.element.textContent=t},Rg=e=>{e.element.textContent=""},Bc=(e,t,n)=>{const i=e.query("GET_TOTAL_ITEMS");Ho(e,`${n} ${t}, ${i} ${i===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Tu),Tu=setTimeout(()=>{Rg(e)},1500)},Nc=e=>e.element.parentNode.contains(document.activeElement),Fg=({root:e,action:t})=>{if(!Nc(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);ra.push(n.filename),clearTimeout(Au),Au=setTimeout(()=>{Bc(e,ra.join(", "),e.query("GET_LABEL_FILE_ADDED")),ra.length=0},750)},Og=({root:e,action:t})=>{if(!Nc(e))return;const n=t.item;Bc(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},kg=({root:e,action:t})=>{const i=e.query("GET_ITEM",t.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Ho(e,`${i} ${r}`)},Su=({root:e,action:t})=>{const i=e.query("GET_ITEM",t.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Ho(e,`${i} ${r}`)},Br=({root:e,action:t})=>{const i=e.query("GET_ITEM",t.id).filename;Ho(e,`${t.status.main} ${i} ${t.status.sub}`)},Pg=qe({create:Lg,ignoreRect:!0,ignoreRectUpdate:!0,write:ft({DID_LOAD_ITEM:Fg,DID_REMOVE_ITEM:Og,DID_COMPLETE_ITEM_PROCESSING:kg,DID_ABORT_ITEM_PROCESSING:Su,DID_REVERT_ITEM_PROCESSING:Su,DID_THROW_ITEM_REMOVE_ERROR:Br,DID_THROW_ITEM_LOAD_ERROR:Br,DID_THROW_ITEM_INVALID:Br,DID_THROW_ITEM_PROCESSING_ERROR:Br}),tag:"span",name:"assistant"}),zc=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),Yc=(e,t=16,n=!0)=>{let i=Date.now(),r=null;return(...s)=>{clearTimeout(r);const o=Date.now()-i,a=()=>{i=Date.now(),e(...s)};o<t?n||(r=setTimeout(a,t-o)):a()}},Bg=1e6,vo=e=>e.preventDefault(),Ng=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const i=e.query("GET_CLASS_NAME");i&&i.split(" ").filter(u=>u.length).forEach(u=>{e.element.classList.add(u)}),e.ref.label=e.appendChildView(e.createChildView(Vm,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(km,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(wc,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Pg,{...t})),e.ref.data=e.appendChildView(e.createChildView(rg,{...t})),e.ref.measure=ln("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(u=>!un(u.value)).map(({name:u,value:l})=>{e.element.dataset[u]=l}),e.ref.widthPrevious=null,e.ref.widthUpdated=Yc(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const r=window.matchMedia("(pointer: fine) and (hover: hover)").matches,s="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&s&&!r&&(e.element.addEventListener("touchmove",vo,{passive:!1}),e.element.addEventListener("gesturestart",vo));const o=e.query("GET_CREDITS");if(o.length===2){const u=document.createElement("a");u.className="filepond--credits",u.setAttribute("aria-hidden","true"),u.href=o[0],u.tabindex=-1,u.target="_blank",u.rel="noopener noreferrer",u.textContent=o[1],e.element.appendChild(u),e.ref.credits=u}},zg=({root:e,props:t,actions:n})=>{if(Ug({root:e,props:t,actions:n}),n.filter(T=>/^DID_SET_STYLE_/.test(T.type)).filter(T=>!un(T.data.value)).map(({type:T,data:A})=>{const S=zc(T.substring(8).toLowerCase(),"_");e.element.dataset[S]=A.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let i=e.ref.bounds;i||(i=e.ref.bounds=Hg(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:r,label:s,list:o,panel:a}=e.ref;r&&r.updateHopperState();const u=e.query("GET_PANEL_ASPECT_RATIO"),l=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),f=l?e.query("GET_MAX_FILES")||Bg:1,d=c===f,p=n.find(T=>T.type==="DID_ADD_ITEM");if(d&&p){const T=p.data.interactionMethod;s.opacity=0,l?s.translateY=-40:T===Lt.API?s.translateX=40:T===Lt.BROWSE?s.translateY=40:s.translateY=30}else d||(s.opacity=1,s.translateX=0,s.translateY=0);const m=Yg(e),h=Vg(e),v=s.rect.element.height,_=!l||d?0:v,y=d?o.rect.element.marginTop:0,g=c===0?0:o.rect.element.marginBottom,E=_+y+h.visual+g,b=_+y+h.bounds+g;if(o.translateY=Math.max(0,_-o.rect.element.marginTop)-m.top,u){const T=e.rect.element.width,A=T*u;u!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=u,e.ref.updateHistory=[]);const S=e.ref.updateHistory;S.push(T);const M=2;if(S.length>M*2){const F=S.length,I=F-10;let w=0;for(let x=F;x>=I;x--)if(S[x]===S[x-2]&&w++,w>=M)return}a.scalable=!1,a.height=A;const R=A-_-(g-m.bottom)-(d?y:0);h.visual>R?o.overflow=R:o.overflow=null,e.height=A}else if(i.fixedHeight){a.scalable=!1;const T=i.fixedHeight-_-(g-m.bottom)-(d?y:0);h.visual>T?o.overflow=T:o.overflow=null}else if(i.cappedHeight){const T=E>=i.cappedHeight,A=Math.min(i.cappedHeight,E);a.scalable=!0,a.height=T?A:A-m.top-m.bottom;const S=A-_-(g-m.bottom)-(d?y:0);E>i.cappedHeight&&h.visual>S?o.overflow=S:o.overflow=null,e.height=Math.min(i.cappedHeight,b-m.top-m.bottom)}else{const T=c>0?m.top+m.bottom:0;a.scalable=!0,a.height=Math.max(v,E-T),e.height=Math.max(v,b-T)}e.ref.credits&&a.heightCurrent&&(e.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},Yg=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Vg=e=>{let t=0,n=0;const i=e.ref.list,r=i.childViews[0],s=r.childViews.filter(y=>y.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(y=>s.find(g=>g.id===y.id)).filter(y=>y);if(o.length===0)return{visual:t,bounds:n};const a=r.rect.element.width,u=ms(r,o,i.dragCoordinates),l=o[0].rect.element,c=l.marginTop+l.marginBottom,f=l.marginLeft+l.marginRight,d=l.width+f,p=l.height+c,m=typeof u<"u"&&u>=0?1:0,h=o.find(y=>y.markedForRemoval&&y.opacity<.45)?-1:0,v=o.length+m+h,_=ps(a,d);return _===1?o.forEach(y=>{const g=y.rect.element.height+c;n+=g,t+=g*y.opacity}):(n=Math.ceil(v/_)*p,t=n),{visual:t,bounds:n}},Hg=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},ys=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),i=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS");let s=e.query("GET_MAX_FILES");const o=t.length;return!i&&o>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:He("warning",0,"Max files")}),!0):(s=i?s:1,!i&&n?!1:Ni(s)&&r+o>s?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:He("warning",0,"Max files")}),!0):!1)},jg=(e,t,n)=>{const i=e.childViews[0];return ms(i,t,{left:n.scopeLeft-i.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},wu=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),i=t&&!n;if(i&&!e.ref.hopper){const r=xg(e.element,s=>{const o=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?s.every(u=>Qn("ALLOW_HOPPER_ITEM",u,{query:e.query}).every(l=>l===!0)&&o(u)):!0},{filterItems:s=>{const o=e.query("GET_IGNORED_FILES");return s.filter(a=>Li(a)?!o.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=(s,o)=>{const u=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),l=e.query("GET_ACTIVE_ITEMS").map(c=>u.find(f=>f.id===c.id)).filter(c=>c);Nt("ADD_ITEMS",s,{dispatch:e.dispatch}).then(c=>{if(ys(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:jg(e.ref.list,l,o),interactionMethod:Lt.DROP})}),e.dispatch("DID_DROP",{position:o}),e.dispatch("DID_END_DRAG",{position:o})},r.ondragstart=s=>{e.dispatch("DID_START_DRAG",{position:s})},r.ondrag=Yc(s=>{e.dispatch("DID_DRAG",{position:s})}),r.ondragend=s=>{e.dispatch("DID_END_DRAG",{position:s})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(Km))}else!i&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Du=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),i=e.query("GET_DISABLED"),r=n&&!i;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(zm,{...t,onload:s=>{Nt("ADD_ITEMS",s,{dispatch:e.dispatch}).then(o=>{if(ys(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Lt.BROWSE})})}}),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},xu=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),i=t&&!n;i&&!e.ref.paster?(e.ref.paster=Mg(),e.ref.paster.onload=r=>{Nt("ADD_ITEMS",r,{dispatch:e.dispatch}).then(s=>{if(ys(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:Lt.PASTE})})}):!i&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},Ug=ft({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Du(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{wu(e)},DID_SET_ALLOW_PASTE:({root:e})=>{xu(e)},DID_SET_DISABLED:({root:e,props:t})=>{wu(e),xu(e),Du(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),$g=qe({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Ng,write:zg,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",vo),e.element.removeEventListener("gesturestart",vo)},mixins:{styles:["height"]}}),Gg=(e={})=>{let t=null;const n=mo(),i=lp(qp(n),[h0,Jp(n)],[B0,Xp(n)]);i.dispatch("SET_OPTIONS",{options:e});const r=()=>{document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",r);let s=null,o=!1,a=!1,u=null,l=null;const c=()=>{o||(o=!0),clearTimeout(s),s=setTimeout(()=>{o=!1,u=null,l=null,a&&(a=!1,i.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const f=$g(i,{id:ls()});let d=!1,p=!1;const m={_read:()=>{o&&(l=window.innerWidth,u||(u=l),!a&&l!==u&&(i.dispatch("DID_START_RESIZE"),a=!0)),p&&d&&(d=f.element.offsetParent===null),!d&&(f._read(),p=f.rect.element.hidden)},_write:D=>{const L=i.processActionQueue().filter(O=>!/^SET_/.test(O.type));d&&!L.length||(y(L),d=f._write(D,L,a),e0(i.query("GET_ITEMS")),d&&i.processDispatchQueue())}},h=D=>L=>{const O={type:D};if(!L)return O;if(L.hasOwnProperty("error")&&(O.error=L.error?{...L.error}:null),L.status&&(O.status={...L.status}),L.file&&(O.output=L.file),L.source)O.file=L.source;else if(L.item||L.id){const k=L.item?L.item:i.query("GET_ITEM",L.id);O.file=k?mt(k):null}return L.items&&(O.items=L.items.map(mt)),/progress/.test(D)&&(O.progress=L.progress),L.hasOwnProperty("origin")&&L.hasOwnProperty("target")&&(O.origin=L.origin,O.target=L.target),O},v={DID_DESTROY:h("destroy"),DID_INIT:h("init"),DID_THROW_MAX_FILES:h("warning"),DID_INIT_ITEM:h("initfile"),DID_START_ITEM_LOAD:h("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:h("addfileprogress"),DID_LOAD_ITEM:h("addfile"),DID_THROW_ITEM_INVALID:[h("error"),h("addfile")],DID_THROW_ITEM_LOAD_ERROR:[h("error"),h("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[h("error"),h("removefile")],DID_PREPARE_OUTPUT:h("preparefile"),DID_START_ITEM_PROCESSING:h("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:h("processfileprogress"),DID_ABORT_ITEM_PROCESSING:h("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:h("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:h("processfiles"),DID_REVERT_ITEM_PROCESSING:h("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[h("error"),h("processfile")],DID_REMOVE_ITEM:h("removefile"),DID_UPDATE_ITEMS:h("updatefiles"),DID_ACTIVATE_ITEM:h("activatefile"),DID_REORDER_ITEMS:h("reorderfiles")},_=D=>{const L={pond:C,...D};delete L.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${D.type}`,{detail:L,bubbles:!0,cancelable:!0,composed:!0}));const O=[];D.hasOwnProperty("error")&&O.push(D.error),D.hasOwnProperty("file")&&O.push(D.file);const k=["type","error","file"];Object.keys(D).filter(z=>!k.includes(z)).forEach(z=>O.push(D[z])),C.fire(D.type,...O);const P=i.query(`GET_ON${D.type.toUpperCase()}`);P&&P(...O)},y=D=>{D.length&&D.filter(L=>v[L.type]).forEach(L=>{const O=v[L.type];(Array.isArray(O)?O:[O]).forEach(k=>{L.type==="DID_INIT_ITEM"?_(k(L.data)):setTimeout(()=>{_(k(L.data))},0)})})},g=D=>i.dispatch("SET_OPTIONS",{options:D}),E=D=>i.query("GET_ACTIVE_ITEM",D),b=D=>new Promise((L,O)=>{i.dispatch("REQUEST_ITEM_PREPARE",{query:D,success:k=>{L(k)},failure:k=>{O(k)}})}),T=(D,L={})=>new Promise((O,k)=>{M([{source:D,options:L}],{index:L.index}).then(P=>O(P&&P[0])).catch(k)}),A=D=>D.file&&D.id,S=(D,L)=>(typeof D=="object"&&!A(D)&&!L&&(L=D,D=void 0),i.dispatch("REMOVE_ITEM",{...L,query:D}),i.query("GET_ACTIVE_ITEM",D)===null),M=(...D)=>new Promise((L,O)=>{const k=[],P={};if(Po(D[0]))k.push.apply(k,D[0]),Object.assign(P,D[1]||{});else{const z=D[D.length-1];typeof z=="object"&&!(z instanceof Blob)&&Object.assign(P,D.pop()),k.push(...D)}i.dispatch("ADD_ITEMS",{items:k,index:P.index,interactionMethod:Lt.API,success:L,failure:O})}),R=()=>i.query("GET_ACTIVE_ITEMS"),F=D=>new Promise((L,O)=>{i.dispatch("REQUEST_ITEM_PROCESSING",{query:D,success:k=>{L(k)},failure:k=>{O(k)}})}),I=(...D)=>{const L=Array.isArray(D[0])?D[0]:D,O=L.length?L:R();return Promise.all(O.map(b))},w=(...D)=>{const L=Array.isArray(D[0])?D[0]:D;if(!L.length){const O=R().filter(k=>!(k.status===ge.IDLE&&k.origin===Ke.LOCAL)&&k.status!==ge.PROCESSING&&k.status!==ge.PROCESSING_COMPLETE&&k.status!==ge.PROCESSING_REVERT_ERROR);return Promise.all(O.map(F))}return Promise.all(L.map(F))},x=(...D)=>{const L=Array.isArray(D[0])?D[0]:D;let O;typeof L[L.length-1]=="object"?O=L.pop():Array.isArray(D[0])&&(O=D[1]);const k=R();return L.length?L.map(z=>Vn(z)?k[z]?k[z].id:null:z).filter(z=>z).map(z=>S(z,O)):Promise.all(k.map(z=>S(z,O)))},C={...zo(),...m,...Kp(i,n),setOptions:g,addFile:T,addFiles:M,getFile:E,processFile:F,prepareFile:b,removeFile:S,moveFile:(D,L)=>i.dispatch("MOVE_ITEM",{query:D,index:L}),getFiles:R,processFiles:w,removeFiles:x,prepareFiles:I,sort:D=>i.dispatch("SORT",{compare:D}),browse:()=>{var D=f.element.querySelector("input[type=file]");D&&D.click()},destroy:()=>{C.fire("destroy",f.element),i.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",r),i.dispatch("DID_DESTROY")},insertBefore:D=>Xs(f.element,D),insertAfter:D=>Js(f.element,D),appendTo:D=>D.appendChild(f.element),replaceElement:D=>{Xs(f.element,D),D.parentNode.removeChild(D),t=D},restoreElement:()=>{t&&(Js(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:D=>f.element===D||t===D,element:{get:()=>f.element},status:{get:()=>i.query("GET_STATUS")}};return i.dispatch("DID_INIT"),Mn(C)},Vc=(e={})=>{const t={};return Ve(mo(),(i,r)=>{t[i]=r[0]}),Gg({...t,...e})},Wg=e=>e.charAt(0).toLowerCase()+e.slice(1),qg=e=>zc(e.replace(/^data-/,"")),Hc=(e,t)=>{Ve(t,(n,i)=>{Ve(e,(r,s)=>{const o=new RegExp(n);if(!o.test(r)||(delete e[r],i===!1))return;if(ct(i)){e[i]=s;return}const u=i.group;Ze(i)&&!e[u]&&(e[u]={}),e[u][Wg(r.replace(o,""))]=s}),i.mapping&&Hc(e[i.group],i.mapping)})},Kg=(e,t={})=>{const n=[];Ve(e.attributes,r=>{n.push(e.attributes[r])});const i=n.filter(r=>r.name).reduce((r,s)=>{const o=We(e,s.name);return r[qg(s.name)]=o===s.name?!0:o,r},{});return Hc(i,t),i},Xg=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Qn("SET_ATTRIBUTE_TO_OPTION_MAP",n);const i={...t},r=Kg(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(r).forEach(o=>{Ze(r[o])?(Ze(i[o])||(i[o]={}),Object.assign(i[o],r[o])):i[o]=r[o]}),i.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const s=Vc(i);return e.files&&Array.from(e.files).forEach(o=>{s.addFile(o)}),s.replaceElement(e),s},Jg=(...e)=>up(e[0])?Xg(...e):Vc(...e),Zg=["fire","_read","_write"],Cu=e=>{const t={};return lc(e,t,Zg),t},Qg=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,i)=>t[i]),ev=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n);return{transfer:(r,s)=>{},post:(r,s,o)=>{const a=ls();i.onmessage=u=>{u.data.id===a&&s(u.data.message)},i.postMessage({id:a,message:r},o)},terminate:()=>{i.terminate(),URL.revokeObjectURL(n)}}},tv=e=>new Promise((t,n)=>{const i=new Image;i.onload=()=>{t(i)},i.onerror=r=>{n(r)},i.src=e}),jc=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},nv=e=>jc(e,e.name),Iu=[],iv=e=>{if(Iu.includes(e))return;Iu.push(e);const t=e({addFilter:n0,utils:{Type:$,forin:Ve,isString:ct,isFile:Li,toNaturalFileSize:Ac,replaceInString:Qg,getExtensionFromFilename:Yo,getFilenameWithoutExtension:_c,guesstimateMimeType:Fc,getFileFromBlob:Mi,getFilenameFromURL:Ar,createRoute:ft,createWorker:ev,createView:qe,createItemAPI:mt,loadImage:tv,copyFile:nv,renameFile:jc,createBlob:gc,applyFilterChain:Nt,text:je,getNumericAspectRatioFromString:hc},views:{fileActionButton:bc}});i0(t.options)},rv=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",ov=()=>"Promise"in window,av=()=>"slice"in Blob.prototype,sv=()=>"URL"in window&&"createObjectURL"in window.URL,uv=()=>"visibilityState"in document,lv=()=>"performance"in window,cv=()=>"supports"in(window.CSS||{}),dv=()=>/MSIE|Trident/.test(window.navigator.userAgent),Pa=(()=>{const e=ic()&&!rv()&&uv()&&ov()&&av()&&sv()&&lv()&&(cv()||dv());return()=>e})(),bn={apps:[]},hv="filepond",ei=()=>{},Uc={},or={},Eo={},Ba={},ar=ei,Jr=ei,Na=ei,za=ei,Ht=ei,Ya=ei,_o=ei;if(Pa()){Op(()=>{bn.apps.forEach(n=>n._read())},n=>{bn.apps.forEach(i=>i._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Pa,create:ar,destroy:Jr,parse:Na,find:za,registerPlugin:Ht,setOptions:_o}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>Ve(mo(),(n,i)=>{Ba[n]=i[1]});Uc={...fc},Eo={...Ke},or={...ge},Ba={},t(),ar=(...n)=>{const i=Jg(...n);return i.on("destroy",Jr),bn.apps.push(i),Cu(i)},Jr=n=>{const i=bn.apps.findIndex(r=>r.isAttachedTo(n));return i>=0?(bn.apps.splice(i,1)[0].restoreElement(),!0):!1},Na=n=>Array.from(n.querySelectorAll(`.${hv}`)).filter(s=>!bn.apps.find(o=>o.isAttachedTo(s))).map(s=>ar(s)),za=n=>{const i=bn.apps.find(r=>r.isAttachedTo(n));return i?Cu(i):null},Ht=(...n)=>{n.forEach(iv),t()},Ya=()=>{const n={};return Ve(mo(),(i,r)=>{n[i]=r[0]}),n},_o=n=>(Ze(n)&&(bn.apps.forEach(i=>{i.setOptions(n)}),r0(n)),Ya())}/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var $c=({addFilter:e,utils:t})=>{const{Type:n,replaceInString:i,toNaturalFileSize:r}=t;return e("ALLOW_HOPPER_ITEM",(s,{query:o})=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const a=o("GET_MAX_FILE_SIZE");if(a!==null&&s.size>a)return!1;const u=o("GET_MIN_FILE_SIZE");return!(u!==null&&s.size<u)}),e("LOAD_FILE",(s,{query:o})=>new Promise((a,u)=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return a(s);const l=o("GET_FILE_VALIDATE_SIZE_FILTER");if(l&&!l(s))return a(s);const c=o("GET_MAX_FILE_SIZE");if(c!==null&&s.size>c){u({status:{main:o("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:i(o("GET_LABEL_MAX_FILE_SIZE"),{filesize:r(c,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const f=o("GET_MIN_FILE_SIZE");if(f!==null&&s.size<f){u({status:{main:o("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:i(o("GET_LABEL_MIN_FILE_SIZE"),{filesize:r(f,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const d=o("GET_MAX_TOTAL_FILE_SIZE");if(d!==null&&o("GET_ACTIVE_ITEMS").reduce((m,h)=>m+h.fileSize,0)>d){u({status:{main:o("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:i(o("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:r(d,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}a(s)})),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],minFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],fileValidateSizeFilter:[null,n.FUNCTION],labelMinFileSizeExceeded:["File is too small",n.STRING],labelMinFileSize:["Minimum file size is {filesize}",n.STRING],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}},fv=typeof window<"u"&&typeof window.document<"u";fv&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:$c}));var pv=$c;/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var Gc=({addFilter:e,utils:t})=>{const{Type:n,isString:i,replaceInString:r,guesstimateMimeType:s,getExtensionFromFilename:o,getFilenameFromURL:a}=t,u=(p,m)=>{const h=(/^[^/]+/.exec(p)||[]).pop(),v=m.slice(0,-2);return h===v},l=(p,m)=>p.some(h=>/\*$/.test(h)?u(m,h):h===m),c=p=>{let m="";if(i(p)){const h=a(p),v=o(h);v&&(m=s(v))}else m=p.type;return m},f=(p,m,h)=>{if(m.length===0)return!0;const v=c(p);return h?new Promise((_,y)=>{h(p,v).then(g=>{l(m,g)?_():y()}).catch(y)}):l(m,v)},d=p=>m=>p[m]===null?!1:p[m]||m;return e("SET_ATTRIBUTE_TO_OPTION_MAP",p=>Object.assign(p,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(p,{query:m})=>m("GET_ALLOW_FILE_TYPE_VALIDATION")?f(p,m("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(p,{query:m})=>new Promise((h,v)=>{if(!m("GET_ALLOW_FILE_TYPE_VALIDATION")){h(p);return}const _=m("GET_ACCEPTED_FILE_TYPES"),y=m("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),g=f(p,_,y),E=()=>{const b=_.map(d(m("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(A=>A!==!1),T=b.filter(function(A,S){return b.indexOf(A)===S});v({status:{main:m("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:r(m("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:T.join(", "),allButLastType:T.slice(0,-1).join(", "),lastType:T[b.length-1]})}})};if(typeof g=="boolean")return g?h(p):E();g.then(()=>{h(p)}).catch(E)})),{options:{allowFileTypeValidation:[!0,n.BOOLEAN],acceptedFileTypes:[[],n.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",n.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",n.STRING],fileValidateTypeLabelExpectedTypesMap:[{},n.OBJECT],fileValidateTypeDetectType:[null,n.FUNCTION]}}},mv=typeof window<"u"&&typeof window.document<"u";mv&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Gc}));var gv=Gc;/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var Mu=e=>/^image/.test(e.type),Wc=({addFilter:e,utils:t})=>{const{Type:n,isFile:i,getNumericAspectRatioFromString:r}=t,s=(l,c)=>!(!Mu(l.file)||!c("GET_ALLOW_IMAGE_CROP")),o=l=>typeof l=="object",a=l=>typeof l=="number",u=(l,c)=>l.setMetadata("crop",Object.assign({},l.getMetadata("crop"),c));return e("DID_CREATE_ITEM",(l,{query:c})=>{l.extend("setImageCrop",f=>{if(!(!s(l,c)||!o(center)))return l.setMetadata("crop",f),f}),l.extend("setImageCropCenter",f=>{if(!(!s(l,c)||!o(f)))return u(l,{center:f})}),l.extend("setImageCropZoom",f=>{if(!(!s(l,c)||!a(f)))return u(l,{zoom:Math.max(1,f)})}),l.extend("setImageCropRotation",f=>{if(!(!s(l,c)||!a(f)))return u(l,{rotation:f})}),l.extend("setImageCropFlip",f=>{if(!(!s(l,c)||!o(f)))return u(l,{flip:f})}),l.extend("setImageCropAspectRatio",f=>{if(!s(l,c)||typeof f>"u")return;const d=l.getMetadata("crop"),p=r(f),m={center:{x:.5,y:.5},flip:d?Object.assign({},d.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:p};return l.setMetadata("crop",m),m})}),e("DID_LOAD_ITEM",(l,{query:c})=>new Promise((f,d)=>{const p=l.file;if(!i(p)||!Mu(p)||!c("GET_ALLOW_IMAGE_CROP")||l.getMetadata("crop"))return f(l);const h=c("GET_IMAGE_CROP_ASPECT_RATIO");l.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:h?r(h):null}),f(l)})),{options:{allowImageCrop:[!0,n.BOOLEAN],imageCropAspectRatio:[null,n.STRING]}}},vv=typeof window<"u"&&typeof window.document<"u";vv&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Wc}));var Ev=Wc;/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var _v=e=>/^image\/jpeg/.test(e.type),On={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},kn=(e,t,n=!1)=>e.getUint16(t,n),Lu=(e,t,n=!1)=>e.getUint32(t,n),yv=e=>new Promise((t,n)=>{const i=new FileReader;i.onload=function(r){const s=new DataView(r.target.result);if(kn(s,0)!==On.JPEG){t(-1);return}const o=s.byteLength;let a=2;for(;a<o;){const u=kn(s,a);if(a+=2,u===On.APP1){if(Lu(s,a+=2)!==On.EXIF)break;const l=kn(s,a+=6)===On.TIFF;a+=Lu(s,a+4,l);const c=kn(s,a,l);a+=2;for(let f=0;f<c;f++)if(kn(s,a+f*12,l)===On.Orientation){t(kn(s,a+f*12+8,l));return}}else{if((u&On.Unknown)!==On.Unknown)break;a+=kn(s,a)}}t(-1)},i.readAsArrayBuffer(e.slice(0,64*1024))}),bv=(()=>typeof window<"u"&&typeof window.document<"u")(),Av=()=>bv,Tv="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=",qc=void 0,Zr=Av()?new Image:{};Zr.onload=()=>qc=Zr.naturalWidth>Zr.naturalHeight;Zr.src=Tv;var Sv=()=>qc,Kc=({addFilter:e,utils:t})=>{const{Type:n,isFile:i}=t;return e("DID_LOAD_ITEM",(r,{query:s})=>new Promise((o,a)=>{const u=r.file;if(!i(u)||!_v(u)||!s("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!Sv())return o(r);yv(u).then(l=>{r.setMetadata("exif",{orientation:l}),o(r)})})),{options:{allowImageExifOrientation:[!0,n.BOOLEAN]}}},wv=typeof window<"u"&&typeof window.document<"u";wv&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Kc}));var Dv=Kc;/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var xv=e=>/^image/.test(e.type),Ru=(e,t)=>gr(e.x*t,e.y*t),Fu=(e,t)=>gr(e.x+t.x,e.y+t.y),Cv=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:gr(e.x/t,e.y/t)},Nr=(e,t,n)=>{const i=Math.cos(t),r=Math.sin(t),s=gr(e.x-n.x,e.y-n.y);return gr(n.x+i*s.x-r*s.y,n.y+r*s.x+i*s.y)},gr=(e=0,t=0)=>({x:e,y:t}),gt=(e,t,n=1,i)=>{if(typeof e=="string")return parseFloat(e)*n;if(typeof e=="number")return e*(i?t[i]:Math.min(t.width,t.height))},Iv=(e,t,n)=>{const i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",s=e.borderColor||e.lineColor||"transparent",o=gt(e.borderWidth||e.lineWidth,t,n),a=e.lineCap||"round",u=e.lineJoin||"round",l=typeof i=="string"?"":i.map(f=>gt(f,t,n)).join(","),c=e.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":u,"stroke-width":o||0,"stroke-dasharray":l,stroke:s,fill:r,opacity:c}},Ct=e=>e!=null,Mv=(e,t,n=1)=>{let i=gt(e.x,t,n,"width")||gt(e.left,t,n,"width"),r=gt(e.y,t,n,"height")||gt(e.top,t,n,"height"),s=gt(e.width,t,n,"width"),o=gt(e.height,t,n,"height"),a=gt(e.right,t,n,"width"),u=gt(e.bottom,t,n,"height");return Ct(r)||(Ct(o)&&Ct(u)?r=t.height-o-u:r=u),Ct(i)||(Ct(s)&&Ct(a)?i=t.width-s-a:i=a),Ct(s)||(Ct(i)&&Ct(a)?s=t.width-i-a:s=0),Ct(o)||(Ct(r)&&Ct(u)?o=t.height-r-u:o=0),{x:i||0,y:r||0,width:s||0,height:o||0}},Lv=e=>e.map((t,n)=>`${n===0?"M":"L"} ${t.x} ${t.y}`).join(" "),Kt=(e,t)=>Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),Rv="http://www.w3.org/2000/svg",yi=(e,t)=>{const n=document.createElementNS(Rv,e);return t&&Kt(n,t),n},Fv=e=>Kt(e,{...e.rect,...e.styles}),Ov=e=>{const t=e.rect.x+e.rect.width*.5,n=e.rect.y+e.rect.height*.5,i=e.rect.width*.5,r=e.rect.height*.5;return Kt(e,{cx:t,cy:n,rx:i,ry:r,...e.styles})},kv={contain:"xMidYMid meet",cover:"xMidYMid slice"},Pv=(e,t)=>{Kt(e,{...e.rect,...e.styles,preserveAspectRatio:kv[t.fit]||"none"})},Bv={left:"start",center:"middle",right:"end"},Nv=(e,t,n,i)=>{const r=gt(t.fontSize,n,i),s=t.fontFamily||"sans-serif",o=t.fontWeight||"normal",a=Bv[t.textAlign]||"start";Kt(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":o,"font-size":r,"font-family":s,"text-anchor":a}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},zv=(e,t,n,i)=>{Kt(e,{...e.rect,...e.styles,fill:"none"});const r=e.childNodes[0],s=e.childNodes[1],o=e.childNodes[2],a=e.rect,u={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(Kt(r,{x1:a.x,y1:a.y,x2:u.x,y2:u.y}),!t.lineDecoration)return;s.style.display="none",o.style.display="none";const l=Cv({x:u.x-a.x,y:u.y-a.y}),c=gt(.05,n,i);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const f=Ru(l,c),d=Fu(a,f),p=Nr(a,2,d),m=Nr(a,-2,d);Kt(s,{style:"display:block;",d:`M${p.x},${p.y} L${a.x},${a.y} L${m.x},${m.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const f=Ru(l,-c),d=Fu(u,f),p=Nr(u,2,d),m=Nr(u,-2,d);Kt(o,{style:"display:block;",d:`M${p.x},${p.y} L${u.x},${u.y} L${m.x},${m.y}`})}},Yv=(e,t,n,i)=>{Kt(e,{...e.styles,fill:"none",d:Lv(t.points.map(r=>({x:gt(r.x,n,i,"width"),y:gt(r.y,n,i,"height")})))})},zr=e=>t=>yi(e,{id:t.id}),Vv=e=>{const t=yi("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},Hv=e=>{const t=yi("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=yi("line");t.appendChild(n);const i=yi("path");t.appendChild(i);const r=yi("path");return t.appendChild(r),t},jv={image:Vv,rect:zr("rect"),ellipse:zr("ellipse"),text:zr("text"),path:zr("path"),line:Hv},Uv={rect:Fv,ellipse:Ov,image:Pv,text:Nv,path:Yv,line:zv},$v=(e,t)=>jv[e](t),Gv=(e,t,n,i,r)=>{t!=="path"&&(e.rect=Mv(n,i,r)),e.styles=Iv(n,i,r),Uv[t](e,n,i,r)},Wv=["x","y","left","top","right","bottom","width","height"],qv=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,Kv=e=>{const[t,n]=e,i=n.points?{}:Wv.reduce((r,s)=>(r[s]=qv(n[s]),r),{});return[t,{zIndex:0,...n,...i}]},Xv=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,Jv=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:t,props:n})=>{if(!n.dirty)return;const{crop:i,resize:r,markup:s}=n,o=n.width,a=n.height;let u=i.width,l=i.height;if(r){const{size:p}=r;let m=p&&p.width,h=p&&p.height;const v=r.mode,_=r.upscale;m&&!h&&(h=m),h&&!m&&(m=h);const y=u<m&&l<h;if(!y||y&&_){let g=m/u,E=h/l;if(v==="force")u=m,l=h;else{let b;v==="cover"?b=Math.max(g,E):v==="contain"&&(b=Math.min(g,E)),u=u*b,l=l*b}}}const c={width:o,height:a};t.element.setAttribute("width",c.width),t.element.setAttribute("height",c.height);const f=Math.min(o/u,a/l);t.element.innerHTML="";const d=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");s.filter(d).map(Kv).sort(Xv).forEach(p=>{const[m,h]=p,v=$v(m,h);Gv(v,m,h,c,f),t.element.appendChild(v)})}}),sr=(e,t)=>({x:e,y:t}),Zv=(e,t)=>e.x*t.x+e.y*t.y,Ou=(e,t)=>sr(e.x-t.x,e.y-t.y),Qv=(e,t)=>Zv(Ou(e,t),Ou(e,t)),ku=(e,t)=>Math.sqrt(Qv(e,t)),Pu=(e,t)=>{const n=e,i=1.5707963267948966,r=t,s=1.5707963267948966-t,o=Math.sin(i),a=Math.sin(r),u=Math.sin(s),l=Math.cos(s),c=n/o,f=c*a,d=c*u;return sr(l*f,l*d)},eE=(e,t)=>{const n=e.width,i=e.height,r=Pu(n,t),s=Pu(i,t),o=sr(e.x+Math.abs(r.x),e.y-Math.abs(r.y)),a=sr(e.x+e.width+Math.abs(s.y),e.y+Math.abs(s.x)),u=sr(e.x-Math.abs(s.y),e.y+e.height-Math.abs(s.x));return{width:ku(o,a),height:ku(o,u)}},tE=(e,t,n=1)=>{const i=e.height/e.width;let r=1,s=t,o=1,a=i;a>s&&(a=s,o=a/i);const u=Math.max(r/o,s/a),l=e.width/(n*u*o),c=l*t;return{width:l,height:c}},Xc=(e,t,n,i)=>{const r=i.x>.5?1-i.x:i.x,s=i.y>.5?1-i.y:i.y,o=r*2*e.width,a=s*2*e.height,u=eE(t,n);return Math.max(u.width/o,u.height/a)},Jc=(e,t)=>{let n=e.width,i=n*t;i>e.height&&(i=e.height,n=i/t);const r=(e.width-n)*.5,s=(e.height-i)*.5;return{x:r,y:s,width:n,height:i}},nE=(e,t={})=>{let{zoom:n,rotation:i,center:r,aspectRatio:s}=t;s||(s=e.height/e.width);const o=tE(e,s,n),a={x:o.width*.5,y:o.height*.5},u={x:0,y:0,width:o.width,height:o.height,center:a},l=typeof t.scaleToFit>"u"||t.scaleToFit,c=Xc(e,Jc(u,s),i,l?r:{x:.5,y:.5}),f=n*c;return{widthFloat:o.width/f,heightFloat:o.height/f,width:Math.round(o.width/f),height:Math.round(o.height/f)}},Wt={type:"spring",stiffness:.5,damping:.45,mass:10},iE=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:t,props:n})=>{t.appendChild(n.image)}}),rE=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Wt,originY:Wt,scaleX:Wt,scaleY:Wt,translateX:Wt,translateY:Wt,rotateZ:Wt}},create:({root:t,props:n})=>{n.width=n.image.width,n.height=n.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(iE(e),{image:n.image}))},write:({root:t,props:n})=>{const{flip:i}=n.crop,{bitmap:r}=t.ref;r.scaleX=i.horizontal?-1:1,r.scaleY=i.vertical?-1:1}}),oE=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:t,props:n}){n.background&&(t.element.style.backgroundColor=n.background)},create:({root:t,props:n})=>{t.ref.image=t.appendChildView(t.createChildView(rE(e),Object.assign({},n))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(Jv(e),Object.assign({},n))))},t.ref.destroyMarkup=()=>{t.ref.markup&&(t.removeChildView(t.ref.markup),t.ref.markup=null)};const i=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");i!==null&&(i==="grid"?t.element.dataset.transparencyIndicator=i:t.element.dataset.transparencyIndicator="color")},write:({root:t,props:n,shouldOptimize:i})=>{const{crop:r,markup:s,resize:o,dirty:a,width:u,height:l}=n;t.ref.image.crop=r;const c={x:0,y:0,width:u,height:l,center:{x:u*.5,y:l*.5}},f={width:t.ref.image.width,height:t.ref.image.height},d={x:r.center.x*f.width,y:r.center.y*f.height},p={x:c.center.x-f.width*r.center.x,y:c.center.y-f.height*r.center.y},m=Math.PI*2+r.rotation%(Math.PI*2),h=r.aspectRatio||f.height/f.width,v=typeof r.scaleToFit>"u"||r.scaleToFit,_=Xc(f,Jc(c,h),m,v?r.center:{x:.5,y:.5}),y=r.zoom*_;s&&s.length?(t.ref.createMarkup(),t.ref.markup.width=u,t.ref.markup.height=l,t.ref.markup.resize=o,t.ref.markup.dirty=a,t.ref.markup.markup=s,t.ref.markup.crop=nE(f,r)):t.ref.markup&&t.ref.destroyMarkup();const g=t.ref.image;if(i){g.originX=null,g.originY=null,g.translateX=null,g.translateY=null,g.rotateZ=null,g.scaleX=null,g.scaleY=null;return}g.originX=d.x,g.originY=d.y,g.translateX=p.x,g.translateY=p.y,g.rotateZ=m,g.scaleX=y,g.scaleY=y}}),aE=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Wt,scaleY:Wt,translateY:Wt,opacity:{type:"tween",duration:400}}},create:({root:t,props:n})=>{t.ref.clip=t.appendChildView(t.createChildView(oE(e),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:({root:t,props:n,shouldOptimize:i})=>{const{clip:r}=t.ref,{image:s,crop:o,markup:a,resize:u,dirty:l}=n;if(r.crop=o,r.markup=a,r.resize=u,r.dirty=l,r.opacity=i?0:1,i||t.rect.element.hidden)return;const c=s.height/s.width;let f=o.aspectRatio||c;const d=t.rect.inner.width,p=t.rect.inner.height;let m=t.query("GET_IMAGE_PREVIEW_HEIGHT");const h=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),v=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),_=t.query("GET_PANEL_ASPECT_RATIO"),y=t.query("GET_ALLOW_MULTIPLE");_&&!y&&(m=d*_,f=_);let g=m!==null?m:Math.max(h,Math.min(d*f,v)),E=g/f;E>d&&(E=d,g=E*f),g>p&&(g=p,E=p/f),r.width=E,r.height=g}}),sE=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,Bu=0,uE=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:t,props:n})=>{let i=sE;if(document.querySelector("base")){const r=new URL(window.location.href.replace(window.location.hash,"")).href;i=i.replace(/url\(\#/g,"url("+r+"#")}Bu++,t.element.classList.add(`filepond--image-preview-overlay-${n.status}`),t.element.innerHTML=i.replace(/__UID__/g,Bu)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),lE=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(t=>{self.postMessage({id:e.data.id,message:t},[t])})}},cE=function(){self.onmessage=e=>{const t=e.data.message.imageData,n=e.data.message.colorMatrix,i=t.data,r=i.length,s=n[0],o=n[1],a=n[2],u=n[3],l=n[4],c=n[5],f=n[6],d=n[7],p=n[8],m=n[9],h=n[10],v=n[11],_=n[12],y=n[13],g=n[14],E=n[15],b=n[16],T=n[17],A=n[18],S=n[19];let M=0,R=0,F=0,I=0,w=0;for(;M<r;M+=4)R=i[M]/255,F=i[M+1]/255,I=i[M+2]/255,w=i[M+3]/255,i[M]=Math.max(0,Math.min((R*s+F*o+I*a+w*u+l)*255,255)),i[M+1]=Math.max(0,Math.min((R*c+F*f+I*d+w*p+m)*255,255)),i[M+2]=Math.max(0,Math.min((R*h+F*v+I*_+w*y+g)*255,255)),i[M+3]=Math.max(0,Math.min((R*E+F*b+I*T+w*A+S)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},dE=(e,t)=>{let n=new Image;n.onload=()=>{const i=n.naturalWidth,r=n.naturalHeight;n=null,t(i,r)},n.src=e},hE={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},fE=(e,t,n,i)=>{i!==-1&&e.transform.apply(e,hE[i](t,n))},pE=(e,t,n,i)=>{t=Math.round(t),n=Math.round(n);const r=document.createElement("canvas");r.width=t,r.height=n;const s=r.getContext("2d");return i>=5&&i<=8&&([t,n]=[n,t]),fE(s,t,n,i),s.drawImage(e,0,0,t,n),r},Zc=e=>/^image/.test(e.type)&&!/svg/.test(e.type),mE=10,gE=10,vE=e=>{const t=Math.min(mE/e.width,gE/e.height),n=document.createElement("canvas"),i=n.getContext("2d"),r=n.width=Math.ceil(e.width*t),s=n.height=Math.ceil(e.height*t);i.drawImage(e,0,0,r,s);let o=null;try{o=i.getImageData(0,0,r,s).data}catch{return null}const a=o.length;let u=0,l=0,c=0,f=0;for(;f<a;f+=4)u+=o[f]*o[f],l+=o[f+1]*o[f+1],c+=o[f+2]*o[f+2];return u=oa(u,a),l=oa(l,a),c=oa(c,a),{r:u,g:l,b:c}},oa=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),EE=(e,t)=>(t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t),_E=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},yE=e=>new Promise((t,n)=>{const i=new Image;i.crossOrigin="Anonymous",i.onload=()=>{t(i)},i.onerror=r=>{n(r)},i.src=e}),bE=e=>{const t=uE(e),n=aE(e),{createWorker:i}=e.utils,r=(y,g,E)=>new Promise(b=>{y.ref.imageData||(y.ref.imageData=E.getContext("2d").getImageData(0,0,E.width,E.height));const T=_E(y.ref.imageData);if(!g||g.length!==20)return E.getContext("2d").putImageData(T,0,0),b();const A=i(cE);A.post({imageData:T,colorMatrix:g},S=>{E.getContext("2d").putImageData(S,0,0),A.terminate(),b()},[T.data.buffer])}),s=(y,g)=>{y.removeChildView(g),g.image.width=1,g.image.height=1,g._destroy()},o=({root:y})=>{const g=y.ref.images.shift();return g.opacity=0,g.translateY=-15,y.ref.imageViewBin.push(g),g},a=({root:y,props:g,image:E})=>{const b=g.id,T=y.query("GET_ITEM",{id:b});if(!T)return;const A=T.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},S=y.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let M,R,F=!1;y.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(M=T.getMetadata("markup")||[],R=T.getMetadata("resize"),F=!0);const I=y.appendChildView(y.createChildView(n,{id:b,image:E,crop:A,resize:R,markup:M,dirty:F,background:S,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),y.childViews.length);y.ref.images.push(I),I.opacity=1,I.scaleX=1,I.scaleY=1,I.translateY=0,setTimeout(()=>{y.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:b})},250)},u=({root:y,props:g})=>{const E=y.query("GET_ITEM",{id:g.id});if(!E)return;const b=y.ref.images[y.ref.images.length-1];b.crop=E.getMetadata("crop"),b.background=y.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),y.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(b.dirty=!0,b.resize=E.getMetadata("resize"),b.markup=E.getMetadata("markup"))},l=({root:y,props:g,action:E})=>{if(!/crop|filter|markup|resize/.test(E.change.key)||!y.ref.images.length)return;const b=y.query("GET_ITEM",{id:g.id});if(b){if(/filter/.test(E.change.key)){const T=y.ref.images[y.ref.images.length-1];r(y,E.change.value,T.image);return}if(/crop|markup|resize/.test(E.change.key)){const T=b.getMetadata("crop"),A=y.ref.images[y.ref.images.length-1];if(T&&T.aspectRatio&&A.crop&&A.crop.aspectRatio&&Math.abs(T.aspectRatio-A.crop.aspectRatio)>1e-5){const S=o({root:y});a({root:y,props:g,image:EE(S.image)})}else u({root:y,props:g})}}},c=y=>{const E=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(E?parseInt(E[1]):null)<=58?!1:"createImageBitmap"in window&&Zc(y)},f=({root:y,props:g})=>{const{id:E}=g,b=y.query("GET_ITEM",E);if(!b)return;const T=URL.createObjectURL(b.file);dE(T,(A,S)=>{y.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:E,width:A,height:S})})},d=({root:y,props:g})=>{const{id:E}=g,b=y.query("GET_ITEM",E);if(!b)return;const T=URL.createObjectURL(b.file),A=()=>{yE(T).then(S)},S=M=>{URL.revokeObjectURL(T);const F=(b.getMetadata("exif")||{}).orientation||-1;let{width:I,height:w}=M;if(!I||!w)return;F>=5&&F<=8&&([I,w]=[w,I]);const x=Math.max(1,window.devicePixelRatio*.75),D=y.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*x,L=w/I,O=y.rect.element.width,k=y.rect.element.height;let P=O,z=P*L;L>1?(P=Math.min(I,O*D),z=P*L):(z=Math.min(w,k*D),P=z/L);const H=pE(M,P,z,F),X=()=>{const ue=y.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?vE(data):null;b.setMetadata("color",ue,!0),"close"in M&&M.close(),y.ref.overlayShadow.opacity=1,a({root:y,props:g,image:H})},j=b.getMetadata("filter");j?r(y,j,H).then(X):X()};if(c(b.file)){const M=i(lE);M.post({file:b.file},R=>{if(M.terminate(),!R){A();return}S(R)})}else A()},p=({root:y})=>{const g=y.ref.images[y.ref.images.length-1];g.translateY=0,g.scaleX=1,g.scaleY=1,g.opacity=1},m=({root:y})=>{y.ref.overlayShadow.opacity=1,y.ref.overlayError.opacity=0,y.ref.overlaySuccess.opacity=0},h=({root:y})=>{y.ref.overlayShadow.opacity=.25,y.ref.overlayError.opacity=1},v=({root:y})=>{y.ref.overlayShadow.opacity=.25,y.ref.overlaySuccess.opacity=1},_=({root:y})=>{y.ref.images=[],y.ref.imageData=null,y.ref.imageViewBin=[],y.ref.overlayShadow=y.appendChildView(y.createChildView(t,{opacity:0,status:"idle"})),y.ref.overlaySuccess=y.appendChildView(y.createChildView(t,{opacity:0,status:"success"})),y.ref.overlayError=y.appendChildView(y.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:_,styles:["height"],apis:["height"],destroy:({root:y})=>{y.ref.images.forEach(g=>{g.image.width=1,g.image.height=1})},didWriteView:({root:y})=>{y.ref.images.forEach(g=>{g.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:p,DID_IMAGE_PREVIEW_CONTAINER_CREATE:f,DID_FINISH_CALCULATE_PREVIEWSIZE:d,DID_UPDATE_ITEM_METADATA:l,DID_THROW_ITEM_LOAD_ERROR:h,DID_THROW_ITEM_PROCESSING_ERROR:h,DID_THROW_ITEM_INVALID:h,DID_COMPLETE_ITEM_PROCESSING:v,DID_START_ITEM_PROCESSING:m,DID_REVERT_ITEM_PROCESSING:m},({root:y})=>{const g=y.ref.imageViewBin.filter(E=>E.opacity===0);y.ref.imageViewBin=y.ref.imageViewBin.filter(E=>E.opacity>0),g.forEach(E=>s(y,E)),g.length=0})})},Qc=e=>{const{addFilter:t,utils:n}=e,{Type:i,createRoute:r,isFile:s}=n,o=bE(e);return t("CREATE_VIEW",a=>{const{is:u,view:l,query:c}=a;if(!u("file")||!c("GET_ALLOW_IMAGE_PREVIEW"))return;const f=({root:v,props:_})=>{const{id:y}=_,g=c("GET_ITEM",y);if(!g||!s(g.file)||g.archived)return;const E=g.file;if(!xv(E)||!c("GET_IMAGE_PREVIEW_FILTER_ITEM")(g))return;const b="createImageBitmap"in(window||{}),T=c("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!b&&T&&E.size>T)return;v.ref.imagePreview=l.appendChildView(l.createChildView(o,{id:y}));const A=v.query("GET_IMAGE_PREVIEW_HEIGHT");A&&v.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:g.id,height:A});const S=!b&&E.size>c("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");v.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:y},S)},d=(v,_)=>{if(!v.ref.imagePreview)return;let{id:y}=_;const g=v.query("GET_ITEM",{id:y});if(!g)return;const E=v.query("GET_PANEL_ASPECT_RATIO"),b=v.query("GET_ITEM_PANEL_ASPECT_RATIO"),T=v.query("GET_IMAGE_PREVIEW_HEIGHT");if(E||b||T)return;let{imageWidth:A,imageHeight:S}=v.ref;if(!A||!S)return;const M=v.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),R=v.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),I=(g.getMetadata("exif")||{}).orientation||-1;if(I>=5&&I<=8&&([A,S]=[S,A]),!Zc(g.file)||v.query("GET_IMAGE_PREVIEW_UPSCALE")){const O=2048/A;A*=O,S*=O}const w=S/A,x=(g.getMetadata("crop")||{}).aspectRatio||w;let C=Math.max(M,Math.min(S,R));const D=v.rect.element.width,L=Math.min(D*x,C);v.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:g.id,height:L})},p=({root:v})=>{v.ref.shouldRescale=!0},m=({root:v,action:_})=>{_.change.key==="crop"&&(v.ref.shouldRescale=!0)},h=({root:v,action:_})=>{v.ref.imageWidth=_.width,v.ref.imageHeight=_.height,v.ref.shouldRescale=!0,v.ref.shouldDrawPreview=!0,v.dispatch("KICK")};l.registerWriter(r({DID_RESIZE_ROOT:p,DID_STOP_RESIZE:p,DID_LOAD_ITEM:f,DID_IMAGE_PREVIEW_CALCULATE_SIZE:h,DID_UPDATE_ITEM_METADATA:m},({root:v,props:_})=>{v.ref.imagePreview&&(v.rect.element.hidden||(v.ref.shouldRescale&&(d(v,_),v.ref.shouldRescale=!1),v.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{v.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:_.id})})}),v.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,i.BOOLEAN],imagePreviewFilterItem:[()=>!0,i.FUNCTION],imagePreviewHeight:[null,i.INT],imagePreviewMinHeight:[44,i.INT],imagePreviewMaxHeight:[256,i.INT],imagePreviewMaxFileSize:[null,i.INT],imagePreviewZoomFactor:[2,i.INT],imagePreviewUpscale:[!1,i.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,i.INT],imagePreviewTransparencyIndicator:[null,i.STRING],imagePreviewCalculateAverageImageColor:[!1,i.BOOLEAN],imagePreviewMarkupShow:[!0,i.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,i.FUNCTION]}}},AE=typeof window<"u"&&typeof window.document<"u";AE&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Qc}));var TE=Qc;/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var SE=e=>/^image/.test(e.type),wE=(e,t)=>{let n=new Image;n.onload=()=>{const i=n.naturalWidth,r=n.naturalHeight;n=null,t({width:i,height:r})},n.onerror=()=>t(null),n.src=e},ed=({addFilter:e,utils:t})=>{const{Type:n}=t;return e("DID_LOAD_ITEM",(i,{query:r})=>new Promise((s,o)=>{const a=i.file;if(!SE(a)||!r("GET_ALLOW_IMAGE_RESIZE"))return s(i);const u=r("GET_IMAGE_RESIZE_MODE"),l=r("GET_IMAGE_RESIZE_TARGET_WIDTH"),c=r("GET_IMAGE_RESIZE_TARGET_HEIGHT"),f=r("GET_IMAGE_RESIZE_UPSCALE");if(l===null&&c===null)return s(i);const d=l===null?c:l,p=c===null?d:c,m=URL.createObjectURL(a);wE(m,h=>{if(URL.revokeObjectURL(m),!h)return s(i);let{width:v,height:_}=h;const y=(i.getMetadata("exif")||{}).orientation||-1;if(y>=5&&y<=8&&([v,_]=[_,v]),v===d&&_===p)return s(i);if(!f){if(u==="cover"){if(v<=d||_<=p)return s(i)}else if(v<=d&&_<=d)return s(i)}i.setMetadata("resize",{mode:u,upscale:f,size:{width:d,height:p}}),s(i)})})),{options:{allowImageResize:[!0,n.BOOLEAN],imageResizeMode:["cover",n.STRING],imageResizeUpscale:[!0,n.BOOLEAN],imageResizeTargetWidth:[null,n.INT],imageResizeTargetHeight:[null,n.INT]}}},DE=typeof window<"u"&&typeof window.document<"u";DE&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ed}));var xE=ed;/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var CE=e=>/^image/.test(e.type),IE=e=>e.substr(0,e.lastIndexOf("."))||e,ME={jpeg:"jpg","svg+xml":"svg"},LE=(e,t)=>{const n=IE(e),i=t.split("/")[1],r=ME[i]||i;return`${n}.${r}`},RE=e=>/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg",FE=e=>/^image/.test(e.type),OE={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},kE=(e,t,n)=>(n===-1&&(n=1),OE[n](e,t)),ur=(e,t)=>({x:e,y:t}),PE=(e,t)=>e.x*t.x+e.y*t.y,Nu=(e,t)=>ur(e.x-t.x,e.y-t.y),BE=(e,t)=>PE(Nu(e,t),Nu(e,t)),zu=(e,t)=>Math.sqrt(BE(e,t)),Yu=(e,t)=>{const n=e,i=1.5707963267948966,r=t,s=1.5707963267948966-t,o=Math.sin(i),a=Math.sin(r),u=Math.sin(s),l=Math.cos(s),c=n/o,f=c*a,d=c*u;return ur(l*f,l*d)},NE=(e,t)=>{const n=e.width,i=e.height,r=Yu(n,t),s=Yu(i,t),o=ur(e.x+Math.abs(r.x),e.y-Math.abs(r.y)),a=ur(e.x+e.width+Math.abs(s.y),e.y+Math.abs(s.x)),u=ur(e.x-Math.abs(s.y),e.y+e.height-Math.abs(s.x));return{width:zu(o,a),height:zu(o,u)}},td=(e,t,n=0,i={x:.5,y:.5})=>{const r=i.x>.5?1-i.x:i.x,s=i.y>.5?1-i.y:i.y,o=r*2*e.width,a=s*2*e.height,u=NE(t,n);return Math.max(u.width/o,u.height/a)},nd=(e,t)=>{let n=e.width,i=n*t;i>e.height&&(i=e.height,n=i/t);const r=(e.width-n)*.5,s=(e.height-i)*.5;return{x:r,y:s,width:n,height:i}},Vu=(e,t,n=1)=>{const i=e.height/e.width;let r=1,s=t,o=1,a=i;a>s&&(a=s,o=a/i);const u=Math.max(r/o,s/a),l=e.width/(n*u*o),c=l*t;return{width:l,height:c}},id=e=>{e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},Hu=e=>e&&(e.horizontal||e.vertical),zE=(e,t,n)=>{if(t<=1&&!Hu(n))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;const i=document.createElement("canvas"),r=e.naturalWidth,s=e.naturalHeight,o=t>=5&&t<=8;o?(i.width=s,i.height=r):(i.width=r,i.height=s);const a=i.getContext("2d");if(t&&a.transform.apply(a,kE(r,s,t)),Hu(n)){const u=[1,0,0,1,0,0];(!o&&n.horizontal||o&n.vertical)&&(u[0]=-1,u[4]=r),(!o&&n.vertical||o&&n.horizontal)&&(u[3]=-1,u[5]=s),a.transform(...u)}return a.drawImage(e,0,0,r,s),i},YE=(e,t,n={},i={})=>{const{canvasMemoryLimit:r,background:s=null}=i,o=n.zoom||1,a=zE(e,t,n.flip),u={width:a.width,height:a.height},l=n.aspectRatio||u.height/u.width;let c=Vu(u,l,o);if(r){const g=c.width*c.height;if(g>r){const E=Math.sqrt(r)/Math.sqrt(g);u.width=Math.floor(u.width*E),u.height=Math.floor(u.height*E),c=Vu(u,l,o)}}const f=document.createElement("canvas"),d={x:c.width*.5,y:c.height*.5},p={x:0,y:0,width:c.width,height:c.height,center:d},m=typeof n.scaleToFit>"u"||n.scaleToFit,h=o*td(u,nd(p,l),n.rotation,m?n.center:{x:.5,y:.5});f.width=Math.round(c.width/h),f.height=Math.round(c.height/h),d.x/=h,d.y/=h;const v={x:d.x-u.width*(n.center?n.center.x:.5),y:d.y-u.height*(n.center?n.center.y:.5)},_=f.getContext("2d");s&&(_.fillStyle=s,_.fillRect(0,0,f.width,f.height)),_.translate(d.x,d.y),_.rotate(n.rotation||0),_.drawImage(a,v.x-d.x,v.y-d.y,u.width,u.height);const y=_.getImageData(0,0,f.width,f.height);return id(f),y},VE=(()=>typeof window<"u"&&typeof window.document<"u")();VE&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this.toDataURL(t,n).split(",")[1];setTimeout(function(){for(var r=atob(i),s=r.length,o=new Uint8Array(s),a=0;a<s;a++)o[a]=r.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))})}}));var HE=(e,t,n=null)=>new Promise(i=>{const r=n?n(e):e;Promise.resolve(r).then(s=>{s.toBlob(i,t.type,t.quality)})}),yo=(e,t)=>vr(e.x*t,e.y*t),bo=(e,t)=>vr(e.x+t.x,e.y+t.y),rd=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:vr(e.x/t,e.y/t)},Cn=(e,t,n)=>{const i=Math.cos(t),r=Math.sin(t),s=vr(e.x-n.x,e.y-n.y);return vr(n.x+i*s.x-r*s.y,n.y+r*s.x+i*s.y)},vr=(e=0,t=0)=>({x:e,y:t}),tt=(e,t,n=1,i)=>{if(typeof e=="string")return parseFloat(e)*n;if(typeof e=="number")return e*(i?t[i]:Math.min(t.width,t.height))},ti=(e,t,n)=>{const i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",s=e.borderColor||e.lineColor||"transparent",o=tt(e.borderWidth||e.lineWidth,t,n),a=e.lineCap||"round",u=e.lineJoin||"round",l=typeof i=="string"?"":i.map(f=>tt(f,t,n)).join(","),c=e.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":u,"stroke-width":o||0,"stroke-dasharray":l,stroke:s,fill:r,opacity:c}},It=e=>e!=null,zi=(e,t,n=1)=>{let i=tt(e.x,t,n,"width")||tt(e.left,t,n,"width"),r=tt(e.y,t,n,"height")||tt(e.top,t,n,"height"),s=tt(e.width,t,n,"width"),o=tt(e.height,t,n,"height"),a=tt(e.right,t,n,"width"),u=tt(e.bottom,t,n,"height");return It(r)||(It(o)&&It(u)?r=t.height-o-u:r=u),It(i)||(It(s)&&It(a)?i=t.width-s-a:i=a),It(s)||(It(i)&&It(a)?s=t.width-i-a:s=0),It(o)||(It(r)&&It(u)?o=t.height-r-u:o=0),{x:i||0,y:r||0,width:s||0,height:o||0}},jE=e=>e.map((t,n)=>`${n===0?"M":"L"} ${t.x} ${t.y}`).join(" "),Xt=(e,t)=>Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),UE="http://www.w3.org/2000/svg",bi=(e,t)=>{const n=document.createElementNS(UE,e);return t&&Xt(n,t),n},$E=e=>Xt(e,{...e.rect,...e.styles}),GE=e=>{const t=e.rect.x+e.rect.width*.5,n=e.rect.y+e.rect.height*.5,i=e.rect.width*.5,r=e.rect.height*.5;return Xt(e,{cx:t,cy:n,rx:i,ry:r,...e.styles})},WE={contain:"xMidYMid meet",cover:"xMidYMid slice"},qE=(e,t)=>{Xt(e,{...e.rect,...e.styles,preserveAspectRatio:WE[t.fit]||"none"})},KE={left:"start",center:"middle",right:"end"},XE=(e,t,n,i)=>{const r=tt(t.fontSize,n,i),s=t.fontFamily||"sans-serif",o=t.fontWeight||"normal",a=KE[t.textAlign]||"start";Xt(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":o,"font-size":r,"font-family":s,"text-anchor":a}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},JE=(e,t,n,i)=>{Xt(e,{...e.rect,...e.styles,fill:"none"});const r=e.childNodes[0],s=e.childNodes[1],o=e.childNodes[2],a=e.rect,u={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(Xt(r,{x1:a.x,y1:a.y,x2:u.x,y2:u.y}),!t.lineDecoration)return;s.style.display="none",o.style.display="none";const l=rd({x:u.x-a.x,y:u.y-a.y}),c=tt(.05,n,i);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const f=yo(l,c),d=bo(a,f),p=Cn(a,2,d),m=Cn(a,-2,d);Xt(s,{style:"display:block;",d:`M${p.x},${p.y} L${a.x},${a.y} L${m.x},${m.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const f=yo(l,-c),d=bo(u,f),p=Cn(u,2,d),m=Cn(u,-2,d);Xt(o,{style:"display:block;",d:`M${p.x},${p.y} L${u.x},${u.y} L${m.x},${m.y}`})}},ZE=(e,t,n,i)=>{Xt(e,{...e.styles,fill:"none",d:jE(t.points.map(r=>({x:tt(r.x,n,i,"width"),y:tt(r.y,n,i,"height")})))})},Yr=e=>t=>bi(e,{id:t.id}),QE=e=>{const t=bi("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},e_=e=>{const t=bi("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=bi("line");t.appendChild(n);const i=bi("path");t.appendChild(i);const r=bi("path");return t.appendChild(r),t},t_={image:QE,rect:Yr("rect"),ellipse:Yr("ellipse"),text:Yr("text"),path:Yr("path"),line:e_},n_={rect:$E,ellipse:GE,image:qE,text:XE,path:ZE,line:JE},i_=(e,t)=>t_[e](t),r_=(e,t,n,i,r)=>{t!=="path"&&(e.rect=zi(n,i,r)),e.styles=ti(n,i,r),n_[t](e,n,i,r)},od=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,o_=(e,t={},n,i)=>new Promise(r=>{const{background:s=null}=i,o=new FileReader;o.onloadend=()=>{const a=o.result,u=document.createElement("div");u.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",u.innerHTML=a;const l=u.querySelector("svg");document.body.appendChild(u);const c=l.getBBox();u.parentNode.removeChild(u);const f=u.querySelector("title"),d=l.getAttribute("viewBox")||"",p=l.getAttribute("width")||"",m=l.getAttribute("height")||"";let h=parseFloat(p)||null,v=parseFloat(m)||null;const _=(p.match(/[a-z]+/)||[])[0]||"",y=(m.match(/[a-z]+/)||[])[0]||"",g=d.split(" ").map(parseFloat),E=g.length?{x:g[0],y:g[1],width:g[2],height:g[3]}:c;let b=h??E.width,T=v??E.height;l.style.overflow="visible",l.setAttribute("width",b),l.setAttribute("height",T);let A="";if(n&&n.length){const j={width:b,height:T};A=n.sort(od).reduce((ue,G)=>{const J=i_(G[0],G[1]);return r_(J,G[0],G[1],j),J.removeAttribute("id"),J.getAttribute("opacity")===1&&J.removeAttribute("opacity"),ue+`
`+J.outerHTML+`
`},""),A=`

<g>${A.replace(/&nbsp;/g," ")}</g>

`}const S=t.aspectRatio||T/b,M=b,R=M*S,F=typeof t.scaleToFit>"u"||t.scaleToFit,I=t.center?t.center.x:.5,w=t.center?t.center.y:.5,x=td({width:b,height:T},nd({width:M,height:R},S),t.rotation,F?{x:I,y:w}:{x:.5,y:.5}),C=t.zoom*x,D=t.rotation*(180/Math.PI),L={x:M*.5,y:R*.5},O={x:L.x-b*I,y:L.y-T*w},k=[`rotate(${D} ${L.x} ${L.y})`,`translate(${L.x} ${L.y})`,`scale(${C})`,`translate(${-L.x} ${-L.y})`,`translate(${O.x} ${O.y})`],P=t.flip&&t.flip.horizontal,z=t.flip&&t.flip.vertical,H=[`scale(${P?-1:1} ${z?-1:1})`,`translate(${P?-b:0} ${z?-T:0})`],X=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${M}${_}" height="${R}${y}" 
viewBox="0 0 ${M} ${R}" ${s?'style="background:'+s+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${f?f.textContent:""}</title>
<g transform="${k.join(" ")}">
<g transform="${H.join(" ")}">
${l.outerHTML}${A}
</g>
</g>
</svg>`;r(X)},o.readAsText(e)}),a_=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t},s_=()=>{const e={resize:c,filter:l},t=(f,d)=>(f.forEach(p=>{d=e[p.type](d,p.data)}),d),n=(f,d)=>{let p=f.transforms,m=null;if(p.forEach(h=>{h.type==="filter"&&(m=h)}),m){let h=null;p.forEach(v=>{v.type==="resize"&&(h=v)}),h&&(h.data.matrix=m.data,p=p.filter(v=>v.type!=="filter"))}d(t(p,f.imageData))};self.onmessage=f=>{n(f.data.message,d=>{self.postMessage({id:f.data.id,message:d},[d.data.buffer])})};const i=1,r=1,s=1;function o(f,d,p){const m=d[f]/255,h=d[f+1]/255,v=d[f+2]/255,_=d[f+3]/255,y=m*p[0]+h*p[1]+v*p[2]+_*p[3]+p[4],g=m*p[5]+h*p[6]+v*p[7]+_*p[8]+p[9],E=m*p[10]+h*p[11]+v*p[12]+_*p[13]+p[14],b=m*p[15]+h*p[16]+v*p[17]+_*p[18]+p[19],T=Math.max(0,y*b)+i*(1-b),A=Math.max(0,g*b)+r*(1-b),S=Math.max(0,E*b)+s*(1-b);d[f]=Math.max(0,Math.min(1,T))*255,d[f+1]=Math.max(0,Math.min(1,A))*255,d[f+2]=Math.max(0,Math.min(1,S))*255}const a=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function u(f){return self.JSON.stringify(f||[])===a}function l(f,d){if(!d||u(d))return f;const p=f.data,m=p.length,h=d[0],v=d[1],_=d[2],y=d[3],g=d[4],E=d[5],b=d[6],T=d[7],A=d[8],S=d[9],M=d[10],R=d[11],F=d[12],I=d[13],w=d[14],x=d[15],C=d[16],D=d[17],L=d[18],O=d[19];let k=0,P=0,z=0,H=0,X=0,j=0,ue=0,G=0,J=0,te=0,oe=0,ie=0;for(;k<m;k+=4)P=p[k]/255,z=p[k+1]/255,H=p[k+2]/255,X=p[k+3]/255,j=P*h+z*v+H*_+X*y+g,ue=P*E+z*b+H*T+X*A+S,G=P*M+z*R+H*F+X*I+w,J=P*x+z*C+H*D+X*L+O,te=Math.max(0,j*J)+i*(1-J),oe=Math.max(0,ue*J)+r*(1-J),ie=Math.max(0,G*J)+s*(1-J),p[k]=Math.max(0,Math.min(1,te))*255,p[k+1]=Math.max(0,Math.min(1,oe))*255,p[k+2]=Math.max(0,Math.min(1,ie))*255;return f}function c(f,d){let{mode:p="contain",upscale:m=!1,width:h,height:v,matrix:_}=d;if(_=!_||u(_)?null:_,!h&&!v)return l(f,_);if(h===null?h=v:v===null&&(v=h),p!=="force"){let I=h/f.width,w=v/f.height,x=1;if(p==="cover"?x=Math.max(I,w):p==="contain"&&(x=Math.min(I,w)),x>1&&m===!1)return l(f,_);h=f.width*x,v=f.height*x}const y=f.width,g=f.height,E=Math.round(h),b=Math.round(v),T=f.data,A=new Uint8ClampedArray(E*b*4),S=y/E,M=g/b,R=Math.ceil(S*.5),F=Math.ceil(M*.5);for(let I=0;I<b;I++)for(let w=0;w<E;w++){let x=(w+I*E)*4,C=0,D=0,L=0,O=0,k=0,P=0,z=0,H=(I+.5)*M;for(let X=Math.floor(I*M);X<(I+1)*M;X++){let j=Math.abs(H-(X+.5))/F,ue=(w+.5)*S,G=j*j;for(let J=Math.floor(w*S);J<(w+1)*S;J++){let te=Math.abs(ue-(J+.5))/R,oe=Math.sqrt(G+te*te);if(oe>=-1&&oe<=1&&(C=2*oe*oe*oe-3*oe*oe+1,C>0)){te=4*(J+X*y);let ie=T[te+3];z+=C*ie,L+=C,ie<255&&(C=C*ie/250),O+=C*T[te],k+=C*T[te+1],P+=C*T[te+2],D+=C}}}A[x]=O/D,A[x+1]=k/D,A[x+2]=P/D,A[x+3]=z/L,_&&o(x,A,_)}return{data:A,width:E,height:b}}},u_=(e,t)=>{if(e.getUint32(t+4,!1)!==1165519206)return;t+=4;const n=e.getUint16(t+=6,!1)===18761;t+=e.getUint32(t+4,n);const i=e.getUint16(t,n);t+=2;for(let r=0;r<i;r++)if(e.getUint16(t+r*12,n)===274)return e.setUint16(t+r*12+8,1,n),!0;return!1},l_=e=>{const t=new DataView(e);if(t.getUint16(0)!==65496)return null;let n=2,i,r,s=!1;for(;n<t.byteLength&&(i=t.getUint16(n,!1),r=t.getUint16(n+2,!1)+2,!(!(i>=65504&&i<=65519||i===65534)||(s||(s=u_(t,n)),n+r>t.byteLength)));)n+=r;return e.slice(0,n)},c_=e=>new Promise(t=>{const n=new FileReader;n.onload=()=>t(l_(n.result)||null),n.readAsArrayBuffer(e.slice(0,256*1024))}),d_=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,h_=(e,t)=>{const n=d_();if(n){const i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},f_=()=>Math.random().toString(36).substr(2,9),p_=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n),r=[];return{transfer:()=>{},post:(s,o,a)=>{const u=f_();r[u]=o,i.onmessage=l=>{const c=r[l.data.id];c&&(c(l.data.message),delete r[l.data.id])},i.postMessage({id:u,message:s},a)},terminate:()=>{i.terminate(),URL.revokeObjectURL(n)}}},m_=e=>new Promise((t,n)=>{const i=new Image;i.onload=()=>{t(i)},i.onerror=r=>{n(r)},i.src=e}),g_=e=>e.reduce((t,n)=>t.then(i=>n().then(Array.prototype.concat.bind(i))),Promise.resolve([])),v_=(e,t)=>new Promise(n=>{const i={width:e.width,height:e.height},r=e.getContext("2d"),s=t.sort(od).map(o=>()=>new Promise(a=>{S_[o[0]](r,i,o[1],a)&&a()}));g_(s).then(()=>n(e))}),Yi=(e,t)=>{e.beginPath(),e.lineCap=t["stroke-linecap"],e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],t["stroke-dasharray"].length&&e.setLineDash(t["stroke-dasharray"].split(",")),e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.globalAlpha=t.opacity||1},Vi=e=>{e.fill(),e.stroke(),e.globalAlpha=1},E_=(e,t,n)=>{const i=zi(n,t),r=ti(n,t);return Yi(e,r),e.rect(i.x,i.y,i.width,i.height),Vi(e),!0},__=(e,t,n)=>{const i=zi(n,t),r=ti(n,t);Yi(e,r);const s=i.x,o=i.y,a=i.width,u=i.height,l=.5522848,c=a/2*l,f=u/2*l,d=s+a,p=o+u,m=s+a/2,h=o+u/2;return e.moveTo(s,h),e.bezierCurveTo(s,h-f,m-c,o,m,o),e.bezierCurveTo(m+c,o,d,h-f,d,h),e.bezierCurveTo(d,h+f,m+c,p,m,p),e.bezierCurveTo(m-c,p,s,h+f,s,h),Vi(e),!0},y_=(e,t,n,i)=>{const r=zi(n,t),s=ti(n,t);Yi(e,s);const o=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(o.crossOrigin=""),o.onload=()=>{if(n.fit==="cover"){const u=r.width/r.height,l=u>1?o.width:o.height*u,c=u>1?o.width/u:o.height,f=o.width*.5-l*.5,d=o.height*.5-c*.5;e.drawImage(o,f,d,l,c,r.x,r.y,r.width,r.height)}else if(n.fit==="contain"){const u=Math.min(r.width/o.width,r.height/o.height),l=u*o.width,c=u*o.height,f=r.x+r.width*.5-l*.5,d=r.y+r.height*.5-c*.5;e.drawImage(o,0,0,o.width,o.height,f,d,l,c)}else e.drawImage(o,0,0,o.width,o.height,r.x,r.y,r.width,r.height);Vi(e),i()},o.src=n.src},b_=(e,t,n)=>{const i=zi(n,t),r=ti(n,t);Yi(e,r);const s=tt(n.fontSize,t),o=n.fontFamily||"sans-serif",a=n.fontWeight||"normal",u=n.textAlign||"left";return e.font=`${a} ${s}px ${o}`,e.textAlign=u,e.fillText(n.text,i.x,i.y),Vi(e),!0},A_=(e,t,n)=>{const i=ti(n,t);Yi(e,i),e.beginPath();const r=n.points.map(o=>({x:tt(o.x,t,1,"width"),y:tt(o.y,t,1,"height")}));e.moveTo(r[0].x,r[0].y);const s=r.length;for(let o=1;o<s;o++)e.lineTo(r[o].x,r[o].y);return Vi(e),!0},T_=(e,t,n)=>{const i=zi(n,t),r=ti(n,t);Yi(e,r),e.beginPath();const s={x:i.x,y:i.y},o={x:i.x+i.width,y:i.y+i.height};e.moveTo(s.x,s.y),e.lineTo(o.x,o.y);const a=rd({x:o.x-s.x,y:o.y-s.y}),u=.04*Math.min(t.width,t.height);if(n.lineDecoration.indexOf("arrow-begin")!==-1){const l=yo(a,u),c=bo(s,l),f=Cn(s,2,c),d=Cn(s,-2,c);e.moveTo(f.x,f.y),e.lineTo(s.x,s.y),e.lineTo(d.x,d.y)}if(n.lineDecoration.indexOf("arrow-end")!==-1){const l=yo(a,-u),c=bo(o,l),f=Cn(o,2,c),d=Cn(o,-2,c);e.moveTo(f.x,f.y),e.lineTo(o.x,o.y),e.lineTo(d.x,d.y)}return Vi(e),!0},S_={rect:E_,ellipse:__,image:y_,text:b_,line:T_,path:A_},w_=e=>{const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t},D_=(e,t,n={})=>new Promise((i,r)=>{if(!e||!FE(e))return r({status:"not an image file",file:e});const{stripImageHead:s,beforeCreateBlob:o,afterCreateBlob:a,canvasMemoryLimit:u}=n,{crop:l,size:c,filter:f,markup:d,output:p}=t,m=t.image&&t.image.orientation?Math.max(1,Math.min(8,t.image.orientation)):null,h=p&&p.quality,v=h===null?null:h/100,_=p&&p.type||null,y=p&&p.background||null,g=[];c&&(typeof c.width=="number"||typeof c.height=="number")&&g.push({type:"resize",data:c}),f&&f.length===20&&g.push({type:"filter",data:f});const E=A=>{const S=a?a(A):A;Promise.resolve(S).then(i)},b=(A,S)=>{const M=w_(A),R=d.length?v_(M,d):M;Promise.resolve(R).then(F=>{HE(F,S,o).then(I=>{if(id(F),s)return E(I);c_(e).then(w=>{w!==null&&(I=new Blob([w,I.slice(20)],{type:I.type})),E(I)})}).catch(r)})};if(/svg/.test(e.type)&&_===null)return o_(e,l,d,{background:y}).then(A=>{i(h_(A,"image/svg+xml"))});const T=URL.createObjectURL(e);m_(T).then(A=>{URL.revokeObjectURL(T);const S=YE(A,m,l,{canvasMemoryLimit:u,background:y}),M={quality:v,type:_||e.type};if(!g.length)return b(S,M);const R=p_(s_);R.post({transforms:g,imageData:S},F=>{b(a_(F),M),R.terminate()},[S.data.buffer])}).catch(r)}),x_=["x","y","left","top","right","bottom","width","height"],C_=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,I_=e=>{const[t,n]=e,i=n.points?{}:x_.reduce((r,s)=>(r[s]=C_(n[s]),r),{});return[t,{zIndex:0,...n,...i}]},M_=e=>new Promise((t,n)=>{const i=new Image;i.src=URL.createObjectURL(e);const r=()=>{const o=i.naturalWidth,a=i.naturalHeight;o&&a&&(URL.revokeObjectURL(i.src),clearInterval(s),t({width:o,height:a}))};i.onerror=o=>{URL.revokeObjectURL(i.src),clearInterval(s),n(o)};const s=setInterval(r,1);r()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){const i=this;setTimeout(()=>{const r=i.toDataURL(t,n).split(",")[1],s=atob(r);let o=s.length;const a=new Uint8Array(o);for(;o--;)a[o]=s.charCodeAt(o);e(new Blob([a],{type:t||"image/png"}))})}}));var bs=typeof window<"u"&&typeof window.document<"u",L_=bs&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ad=({addFilter:e,utils:t})=>{const{Type:n,forin:i,getFileFromBlob:r,isFile:s}=t,o=["crop","resize","filter","markup","output"],a=c=>(f,d,p)=>f(d,c?c(p):p),u=c=>c.aspectRatio===null&&c.rotation===0&&c.zoom===1&&c.center&&c.center.x===.5&&c.center.y===.5&&c.flip&&c.flip.horizontal===!1&&c.flip.vertical===!1;e("SHOULD_PREPARE_OUTPUT",(c,{query:f})=>new Promise(d=>{d(!f("IS_ASYNC"))}));const l=(c,f,d)=>new Promise(p=>{if(!c("GET_ALLOW_IMAGE_TRANSFORM")||d.archived||!s(f)||!CE(f))return p(!1);M_(f).then(()=>{const m=c("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(m){const h=m(f);if(h==null)return handleRevert(!0);if(typeof h=="boolean")return p(h);if(typeof h.then=="function")return h.then(p)}p(!0)}).catch(m=>{p(!1)})});return e("DID_CREATE_ITEM",(c,{query:f,dispatch:d})=>{f("GET_ALLOW_IMAGE_TRANSFORM")&&c.extend("requestPrepare",()=>new Promise((p,m)=>{d("REQUEST_PREPARE_OUTPUT",{query:c.id,item:c,success:p,failure:m},!0)}))}),e("PREPARE_OUTPUT",(c,{query:f,item:d})=>new Promise(p=>{l(f,c,d).then(m=>{if(!m)return p(c);const h=[];f("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&h.push(()=>new Promise(S=>{S({name:f("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:c})})),f("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&h.push((S,M,R)=>new Promise(F=>{S(M,R).then(I=>F({name:f("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:I}))}));const v=f("GET_IMAGE_TRANSFORM_VARIANTS")||{};i(v,(S,M)=>{const R=a(M);h.push((F,I,w)=>new Promise(x=>{R(F,I,w).then(C=>x({name:S,file:C}))}))});const _=f("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),y=f("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),g=_===null?null:_/100,E=f("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),b=f("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||o;d.setMetadata("output",{type:E,quality:g,client:b},!0);const T=(S,M)=>new Promise((R,F)=>{const I={...M};Object.keys(I).filter(z=>z!=="exif").forEach(z=>{b.indexOf(z)===-1&&delete I[z]});const{resize:w,exif:x,output:C,crop:D,filter:L,markup:O}=I,k={image:{orientation:x?x.orientation:null},output:C&&(C.type||typeof C.quality=="number"||C.background)?{type:C.type,quality:typeof C.quality=="number"?C.quality*100:null,background:C.background||f("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:w&&(w.size.width||w.size.height)?{mode:w.mode,upscale:w.upscale,...w.size}:void 0,crop:D&&!u(D)?{...D}:void 0,markup:O&&O.length?O.map(I_):[],filter:L};if(k.output){const z=C.type?C.type!==S.type:!1,H=/\/jpe?g$/.test(S.type),X=C.quality!==null?H&&y==="always":!1;if(!!!(k.size||k.crop||k.filter||z||X))return R(S)}const P={beforeCreateBlob:f("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:f("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:f("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:f("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};D_(S,k,P).then(z=>{const H=r(z,LE(S.name,RE(z.type)));R(H)}).catch(F)}),A=h.map(S=>S(T,c,d.getMetadata()));Promise.all(A).then(S=>{p(S.length===1&&S[0].name===null?S[0].file:S)})})})),{options:{allowImageTransform:[!0,n.BOOLEAN],imageTransformImageFilter:[null,n.FUNCTION],imageTransformOutputMimeType:[null,n.STRING],imageTransformOutputQuality:[null,n.INT],imageTransformOutputStripImageHead:[!0,n.BOOLEAN],imageTransformClientTransforms:[null,n.ARRAY],imageTransformOutputQualityMode:["always",n.STRING],imageTransformVariants:[null,n.OBJECT],imageTransformVariantsIncludeDefault:[!0,n.BOOLEAN],imageTransformVariantsDefaultName:[null,n.STRING],imageTransformVariantsIncludeOriginal:[!1,n.BOOLEAN],imageTransformVariantsOriginalName:["original_",n.STRING],imageTransformBeforeCreateBlob:[null,n.FUNCTION],imageTransformAfterCreateBlob:[null,n.FUNCTION],imageTransformCanvasMemoryLimit:[bs&&L_?4096*4096:null,n.INT],imageTransformCanvasBackgroundColor:[null,n.STRING]}}};bs&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ad}));var R_=ad;/*!
 * FilePondPluginMediaPreview 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */var Va=e=>/^video/.test(e.type),lr=e=>/^audio/.test(e.type),F_=class{constructor(e,t){this.mediaEl=e,this.audioElems=t,this.onplayhead=!1,this.duration=0,this.timelineWidth=this.audioElems.timeline.offsetWidth-this.audioElems.playhead.offsetWidth,this.moveplayheadFn=this.moveplayhead.bind(this),this.registerListeners()}registerListeners(){this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1),this.mediaEl.addEventListener("canplaythrough",()=>this.duration=this.mediaEl.duration,!1),this.audioElems.timeline.addEventListener("click",this.timelineClicked.bind(this),!1),this.audioElems.button.addEventListener("click",this.play.bind(this)),this.audioElems.playhead.addEventListener("mousedown",this.mouseDown.bind(this),!1),window.addEventListener("mouseup",this.mouseUp.bind(this),!1)}play(){this.mediaEl.paused?this.mediaEl.play():this.mediaEl.pause(),this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause")}timeUpdate(){let e=this.mediaEl.currentTime/this.duration*100;this.audioElems.playhead.style.marginLeft=e+"%",this.mediaEl.currentTime===this.duration&&(this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause"))}moveplayhead(e){let t=e.clientX-this.getPosition(this.audioElems.timeline);t>=0&&t<=this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=t+"px"),t<0&&(this.audioElems.playhead.style.marginLeft="0px"),t>this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=this.timelineWidth-4+"px")}timelineClicked(e){this.moveplayhead(e),this.mediaEl.currentTime=this.duration*this.clickPercent(e)}mouseDown(){this.onplayhead=!0,window.addEventListener("mousemove",this.moveplayheadFn,!0),this.mediaEl.removeEventListener("timeupdate",this.timeUpdate.bind(this),!1)}mouseUp(e){window.removeEventListener("mousemove",this.moveplayheadFn,!0),this.onplayhead==!0&&(this.moveplayhead(e),this.mediaEl.currentTime=this.duration*this.clickPercent(e),this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1)),this.onplayhead=!1}clickPercent(e){return(e.clientX-this.getPosition(this.audioElems.timeline))/this.timelineWidth}getPosition(e){return e.getBoundingClientRect().left}},O_=e=>e.utils.createView({name:"media-preview",tag:"div",ignoreRect:!0,create:({root:t,props:n})=>{const i=t.query("GET_ITEM",{id:n.id});let r=lr(i.file)?"audio":"video";if(t.ref.media=document.createElement(r),t.ref.media.setAttribute("controls",!0),t.element.appendChild(t.ref.media),lr(i.file)){let s=document.createDocumentFragment();t.ref.audio=[],t.ref.audio.container=document.createElement("div"),t.ref.audio.button=document.createElement("span"),t.ref.audio.timeline=document.createElement("div"),t.ref.audio.playhead=document.createElement("div"),t.ref.audio.container.className="audioplayer",t.ref.audio.button.className="playpausebtn play",t.ref.audio.timeline.className="timeline",t.ref.audio.playhead.className="playhead",t.ref.audio.timeline.appendChild(t.ref.audio.playhead),t.ref.audio.container.appendChild(t.ref.audio.button),t.ref.audio.container.appendChild(t.ref.audio.timeline),s.appendChild(t.ref.audio.container),t.element.appendChild(s)}},write:e.utils.createRoute({DID_MEDIA_PREVIEW_LOAD:({root:t,props:n})=>{const i=t.query("GET_ITEM",{id:n.id});if(!i)return;let r=window.URL||window.webkitURL,s=new Blob([i.file],{type:i.file.type});t.ref.media.type=i.file.type,t.ref.media.src=i.file.mock&&i.file.url||r.createObjectURL(s),lr(i.file)&&new F_(t.ref.media,t.ref.audio),t.ref.media.addEventListener("loadeddata",()=>{let o=75;if(Va(i.file)){let a=t.ref.media.offsetWidth,u=t.ref.media.videoWidth/a;o=t.ref.media.videoHeight/u}t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:o})},!1)}})}),k_=e=>{const t=({root:i,props:r})=>{const{id:s}=r;i.query("GET_ITEM",s)&&i.dispatch("DID_MEDIA_PREVIEW_LOAD",{id:s})},n=({root:i,props:r})=>{const s=O_(e);i.ref.media=i.appendChildView(i.createChildView(s,{id:r.id}))};return e.utils.createView({name:"media-preview-wrapper",create:n,write:e.utils.createRoute({DID_MEDIA_PREVIEW_CONTAINER_CREATE:t})})},sd=e=>{const{addFilter:t,utils:n}=e,{Type:i,createRoute:r}=n,s=k_(e);return t("CREATE_VIEW",o=>{const{is:a,view:u,query:l}=o;if(!a("file"))return;const c=({root:f,props:d})=>{const{id:p}=d,m=l("GET_ITEM",p),h=l("GET_ALLOW_VIDEO_PREVIEW"),v=l("GET_ALLOW_AUDIO_PREVIEW");!m||m.archived||(!Va(m.file)||!h)&&(!lr(m.file)||!v)||(f.ref.mediaPreview=u.appendChildView(u.createChildView(s,{id:p})),f.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE",{id:p}))};u.registerWriter(r({DID_LOAD_ITEM:c},({root:f,props:d})=>{const{id:p}=d,m=l("GET_ITEM",p),h=f.query("GET_ALLOW_VIDEO_PREVIEW"),v=f.query("GET_ALLOW_AUDIO_PREVIEW");!m||(!Va(m.file)||!h)&&(!lr(m.file)||!v)||f.rect.element.hidden}))}),{options:{allowVideoPreview:[!0,i.BOOLEAN],allowAudioPreview:[!0,i.BOOLEAN]}}},P_=typeof window<"u"&&typeof window.document<"u";P_&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:sd}));var B_={labelIdle:'اسحب و ادرج ملفاتك أو <span class="filepond--label-action"> تصفح </span>',labelInvalidField:"الحقل يحتوي على ملفات غير صالحة",labelFileWaitingForSize:"بانتظار الحجم",labelFileSizeNotAvailable:"الحجم غير متاح",labelFileLoading:"بالإنتظار",labelFileLoadError:"حدث خطأ أثناء التحميل",labelFileProcessing:"يتم الرفع",labelFileProcessingComplete:"تم الرفع",labelFileProcessingAborted:"تم إلغاء الرفع",labelFileProcessingError:"حدث خطأ أثناء الرفع",labelFileProcessingRevertError:"حدث خطأ أثناء التراجع",labelFileRemoveError:"حدث خطأ أثناء الحذف",labelTapToCancel:"انقر للإلغاء",labelTapToRetry:"انقر لإعادة المحاولة",labelTapToUndo:"انقر للتراجع",labelButtonRemoveItem:"مسح",labelButtonAbortItemLoad:"إلغاء",labelButtonRetryItemLoad:"إعادة",labelButtonAbortItemProcessing:"إلغاء",labelButtonUndoItemProcessing:"تراجع",labelButtonRetryItemProcessing:"إعادة",labelButtonProcessItem:"رفع",labelMaxFileSizeExceeded:"الملف كبير جدا",labelMaxFileSize:"حجم الملف الأقصى: {filesize}",labelMaxTotalFileSizeExceeded:"تم تجاوز الحد الأقصى للحجم الإجمالي",labelMaxTotalFileSize:"الحد الأقصى لحجم الملف: {filesize}",labelFileTypeNotAllowed:"ملف من نوع غير صالح",fileValidateTypeLabelExpectedTypes:"تتوقع {allButLastType} من {lastType}",imageValidateSizeLabelFormatError:"نوع الصورة غير مدعوم",imageValidateSizeLabelImageSizeTooSmall:"الصورة صغير جدا",imageValidateSizeLabelImageSizeTooBig:"الصورة كبيرة جدا",imageValidateSizeLabelExpectedMinSize:"الحد الأدنى للأبعاد هو: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"الحد الأقصى للأبعاد هو: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"الدقة ضعيفة جدا",imageValidateSizeLabelImageResolutionTooHigh:"الدقة مرتفعة جدا",imageValidateSizeLabelExpectedMinResolution:"أقل دقة: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"أقصى دقة: {maxResolution}"},N_={labelIdle:'Přetáhněte soubor sem (drag&drop) nebo <span class="filepond--label-action"> Vyhledat </span>',labelInvalidField:"Pole obsahuje chybné soubory",labelFileWaitingForSize:"Zjišťuje se velikost",labelFileSizeNotAvailable:"Velikost není známá",labelFileLoading:"Přenáší se",labelFileLoadError:"Chyba při přenosu",labelFileProcessing:"Probíhá upload",labelFileProcessingComplete:"Upload dokončen",labelFileProcessingAborted:"Upload stornován",labelFileProcessingError:"Chyba při uploadu",labelFileProcessingRevertError:"Chyba při obnově",labelFileRemoveError:"Chyba při odstranění",labelTapToCancel:"klepněte pro storno",labelTapToRetry:"klepněte pro opakování",labelTapToUndo:"klepněte pro vrácení",labelButtonRemoveItem:"Odstranit",labelButtonAbortItemLoad:"Storno",labelButtonRetryItemLoad:"Opakovat",labelButtonAbortItemProcessing:"Zpět",labelButtonUndoItemProcessing:"Vrátit",labelButtonRetryItemProcessing:"Opakovat",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Soubor je příliš velký",labelMaxFileSize:"Největší velikost souboru je {filesize}",labelMaxTotalFileSizeExceeded:"Překročena maximální celková velikost souboru",labelMaxTotalFileSize:"Maximální celková velikost souboru je {filesize}",labelFileTypeNotAllowed:"Soubor je nesprávného typu",fileValidateTypeLabelExpectedTypes:"Očekává se {allButLastType} nebo {lastType}",imageValidateSizeLabelFormatError:"Obrázek tohoto typu není podporován",imageValidateSizeLabelImageSizeTooSmall:"Obrázek je příliš malý",imageValidateSizeLabelImageSizeTooBig:"Obrázek je příliš velký",imageValidateSizeLabelExpectedMinSize:"Minimální rozměr je {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximální rozměr je {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rozlišení je příliš malé",imageValidateSizeLabelImageResolutionTooHigh:"Rozlišení je příliš velké",imageValidateSizeLabelExpectedMinResolution:"Minimální rozlišení je {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximální rozlišení je {maxResolution}"},z_={labelIdle:'Træk & slip filer eller <span class = "filepond - label-action"> Gennemse </span>',labelInvalidField:"Felt indeholder ugyldige filer",labelFileWaitingForSize:"Venter på størrelse",labelFileSizeNotAvailable:"Størrelse ikke tilgængelig",labelFileLoading:"Loader",labelFileLoadError:"Load fejlede",labelFileProcessing:"Uploader",labelFileProcessingComplete:"Upload færdig",labelFileProcessingAborted:"Upload annulleret",labelFileProcessingError:"Upload fejlede",labelFileProcessingRevertError:"Fortryd fejlede",labelFileRemoveError:"Fjern fejlede",labelTapToCancel:"tryk for at annullere",labelTapToRetry:"tryk for at prøve igen",labelTapToUndo:"tryk for at fortryde",labelButtonRemoveItem:"Fjern",labelButtonAbortItemLoad:"Annuller",labelButtonRetryItemLoad:"Forsøg igen",labelButtonAbortItemProcessing:"Annuller",labelButtonUndoItemProcessing:"Fortryd",labelButtonRetryItemProcessing:"Prøv igen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Filen er for stor",labelMaxFileSize:"Maksimal filstørrelse er {filesize}",labelMaxTotalFileSizeExceeded:"Maksimal totalstørrelse overskredet",labelMaxTotalFileSize:"Maksimal total filstørrelse er {filesize}",labelFileTypeNotAllowed:"Ugyldig filtype",fileValidateTypeLabelExpectedTypes:"Forventer {allButLastType} eller {lastType}",imageValidateSizeLabelFormatError:"Ugyldigt format",imageValidateSizeLabelImageSizeTooSmall:"Billedet er for lille",imageValidateSizeLabelImageSizeTooBig:"Billedet er for stort",imageValidateSizeLabelExpectedMinSize:"Minimum størrelse er {minBredde} × {minHøjde}",imageValidateSizeLabelExpectedMaxSize:"Maksimal størrelse er {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"For lav opløsning",imageValidateSizeLabelImageResolutionTooHigh:"For høj opløsning",imageValidateSizeLabelExpectedMinResolution:"Minimum opløsning er {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimal opløsning er {maxResolution}"},Y_={labelIdle:'Dateien ablegen oder <span class="filepond--label-action"> auswählen </span>',labelInvalidField:"Feld beinhaltet ungültige Dateien",labelFileWaitingForSize:"Dateigröße berechnen",labelFileSizeNotAvailable:"Dateigröße nicht verfügbar",labelFileLoading:"Laden",labelFileLoadError:"Fehler beim Laden",labelFileProcessing:"Upload läuft",labelFileProcessingComplete:"Upload abgeschlossen",labelFileProcessingAborted:"Upload abgebrochen",labelFileProcessingError:"Fehler beim Upload",labelFileProcessingRevertError:"Fehler beim Wiederherstellen",labelFileRemoveError:"Fehler beim Löschen",labelTapToCancel:"abbrechen",labelTapToRetry:"erneut versuchen",labelTapToUndo:"rückgängig",labelButtonRemoveItem:"Entfernen",labelButtonAbortItemLoad:"Verwerfen",labelButtonRetryItemLoad:"Erneut versuchen",labelButtonAbortItemProcessing:"Abbrechen",labelButtonUndoItemProcessing:"Rückgängig",labelButtonRetryItemProcessing:"Erneut versuchen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Datei ist zu groß",labelMaxFileSize:"Maximale Dateigröße: {filesize}",labelMaxTotalFileSizeExceeded:"Maximale gesamte Dateigröße überschritten",labelMaxTotalFileSize:"Maximale gesamte Dateigröße: {filesize}",labelFileTypeNotAllowed:"Dateityp ungültig",fileValidateTypeLabelExpectedTypes:"Erwartet {allButLastType} oder {lastType}",imageValidateSizeLabelFormatError:"Bildtyp nicht unterstützt",imageValidateSizeLabelImageSizeTooSmall:"Bild ist zu klein",imageValidateSizeLabelImageSizeTooBig:"Bild ist zu groß",imageValidateSizeLabelExpectedMinSize:"Mindestgröße: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximale Größe: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Auflösung ist zu niedrig",imageValidateSizeLabelImageResolutionTooHigh:"Auflösung ist zu hoch",imageValidateSizeLabelExpectedMinResolution:"Mindestauflösung: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximale Auflösung: {maxResolution}"},V_={labelIdle:'Drag & Drop your files or <span class="filepond--label-action"> Browse </span>',labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Waiting for size",labelFileSizeNotAvailable:"Size not available",labelFileLoading:"Loading",labelFileLoadError:"Error during load",labelFileProcessing:"Uploading",labelFileProcessingComplete:"Upload complete",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelFileRemoveError:"Error during remove",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Remove",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Cancel",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is {filesize}",labelMaxTotalFileSizeExceeded:"Maximum total size exceeded",labelMaxTotalFileSize:"Maximum total file size is {filesize}",labelFileTypeNotAllowed:"File of invalid type",fileValidateTypeLabelExpectedTypes:"Expects {allButLastType} or {lastType}",imageValidateSizeLabelFormatError:"Image type not supported",imageValidateSizeLabelImageSizeTooSmall:"Image is too small",imageValidateSizeLabelImageSizeTooBig:"Image is too big",imageValidateSizeLabelExpectedMinSize:"Minimum size is {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum size is {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolution is too low",imageValidateSizeLabelImageResolutionTooHigh:"Resolution is too high",imageValidateSizeLabelExpectedMinResolution:"Minimum resolution is {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum resolution is {maxResolution}"},H_={labelIdle:'Arrastra y suelta tus archivos o <span class = "filepond--label-action"> Examinar <span>',labelInvalidField:"El campo contiene archivos inválidos",labelFileWaitingForSize:"Esperando tamaño",labelFileSizeNotAvailable:"Tamaño no disponible",labelFileLoading:"Cargando",labelFileLoadError:"Error durante la carga",labelFileProcessing:"Cargando",labelFileProcessingComplete:"Carga completa",labelFileProcessingAborted:"Carga cancelada",labelFileProcessingError:"Error durante la carga",labelFileProcessingRevertError:"Error durante la reversión",labelFileRemoveError:"Error durante la eliminación",labelTapToCancel:"toca para cancelar",labelTapToRetry:"tocar para volver a intentar",labelTapToUndo:"tocar para deshacer",labelButtonRemoveItem:"Eliminar",labelButtonAbortItemLoad:"Abortar",labelButtonRetryItemLoad:"Reintentar",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Deshacer",labelButtonRetryItemProcessing:"Reintentar",labelButtonProcessItem:"Cargar",labelMaxFileSizeExceeded:"El archivo es demasiado grande",labelMaxFileSize:"El tamaño máximo del archivo es {filesize}",labelMaxTotalFileSizeExceeded:"Tamaño total máximo excedido",labelMaxTotalFileSize:"El tamaño total máximo del archivo es {filesize}",labelFileTypeNotAllowed:"Archivo de tipo no válido",fileValidateTypeLabelExpectedTypes:"Espera {allButLastType} o {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagen no compatible",imageValidateSizeLabelImageSizeTooSmall:"La imagen es demasiado pequeña",imageValidateSizeLabelImageSizeTooBig:"La imagen es demasiado grande",imageValidateSizeLabelExpectedMinSize:"El tamaño mínimo es {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"El tamaño máximo es {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La resolución es demasiado baja",imageValidateSizeLabelImageResolutionTooHigh:"La resolución es demasiado alta",imageValidateSizeLabelExpectedMinResolution:"La resolución mínima es {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La resolución máxima es {maxResolution}"},j_={labelIdle:'فایل را اینجا بکشید و رها کنید، یا <span class="filepond--label-action"> جستجو کنید </span>',labelInvalidField:"فیلد دارای فایل های نامعتبر است",labelFileWaitingForSize:"Waiting for size",labelFileSizeNotAvailable:"حجم فایل مجاز نیست",labelFileLoading:"درحال بارگذاری",labelFileLoadError:"خطا در زمان اجرا",labelFileProcessing:"درحال بارگذاری",labelFileProcessingComplete:"بارگذاری کامل شد",labelFileProcessingAborted:"بارگذاری لغو شد",labelFileProcessingError:"خطا در زمان بارگذاری",labelFileProcessingRevertError:"خطا در زمان حذف",labelFileRemoveError:"خطا در زمان حذف",labelTapToCancel:"برای لغو ضربه بزنید",labelTapToRetry:"برای تکرار کلیک کنید",labelTapToUndo:"برای برگشت کلیک کنید",labelButtonRemoveItem:"حذف",labelButtonAbortItemLoad:"لغو",labelButtonRetryItemLoad:"تکرار",labelButtonAbortItemProcessing:"لغو",labelButtonUndoItemProcessing:"برگشت",labelButtonRetryItemProcessing:"تکرار",labelButtonProcessItem:"بارگذاری",labelMaxFileSizeExceeded:"فایل بسیار حجیم است",labelMaxFileSize:"حداکثر مجاز فایل {filesize} است",labelMaxTotalFileSizeExceeded:"از حداکثر حجم فایل بیشتر شد",labelMaxTotalFileSize:"حداکثر حجم فایل {filesize} است",labelFileTypeNotAllowed:"نوع فایل نامعتبر است",fileValidateTypeLabelExpectedTypes:"در انتظار {allButLastType} یا {lastType}",imageValidateSizeLabelFormatError:"فرمت تصویر پشتیبانی نمی شود",imageValidateSizeLabelImageSizeTooSmall:"تصویر بسیار کوچک است",imageValidateSizeLabelImageSizeTooBig:"تصویر بسیار بزرگ است",imageValidateSizeLabelExpectedMinSize:"حداقل اندازه {minWidth} × {minHeight} است",imageValidateSizeLabelExpectedMaxSize:"حداکثر اندازه {maxWidth} × {maxHeight} است",imageValidateSizeLabelImageResolutionTooLow:"وضوح تصویر بسیار کم است",imageValidateSizeLabelImageResolutionTooHigh:"وضوع تصویر بسیار زیاد است",imageValidateSizeLabelExpectedMinResolution:"حداقل وضوح تصویر {minResolution} است",imageValidateSizeLabelExpectedMaxResolution:"حداکثر وضوح تصویر {maxResolution} است"},U_={labelIdle:'Vedä ja pudota tiedostoja tai <span class="filepond--label-action"> Selaa </span>',labelInvalidField:"Kentässä on virheellisiä tiedostoja",labelFileWaitingForSize:"Odotetaan kokoa",labelFileSizeNotAvailable:"Kokoa ei saatavilla",labelFileLoading:"Ladataan",labelFileLoadError:"Virhe latauksessa",labelFileProcessing:"Lähetetään",labelFileProcessingComplete:"Lähetys valmis",labelFileProcessingAborted:"Lähetys peruttu",labelFileProcessingError:"Virhe lähetyksessä",labelFileProcessingRevertError:"Virhe palautuksessa",labelFileRemoveError:"Virhe poistamisessa",labelTapToCancel:"peruuta napauttamalla",labelTapToRetry:"yritä uudelleen napauttamalla",labelTapToUndo:"kumoa napauttamalla",labelButtonRemoveItem:"Poista",labelButtonAbortItemLoad:"Keskeytä",labelButtonRetryItemLoad:"Yritä uudelleen",labelButtonAbortItemProcessing:"Peruuta",labelButtonUndoItemProcessing:"Kumoa",labelButtonRetryItemProcessing:"Yritä uudelleen",labelButtonProcessItem:"Lähetä",labelMaxFileSizeExceeded:"Tiedoston koko on liian suuri",labelMaxFileSize:"Tiedoston maksimikoko on {filesize}",labelMaxTotalFileSizeExceeded:"Tiedostojen yhdistetty maksimikoko ylitetty",labelMaxTotalFileSize:"Tiedostojen yhdistetty maksimikoko on {filesize}",labelFileTypeNotAllowed:"Tiedostotyyppiä ei sallita",fileValidateTypeLabelExpectedTypes:"Sallitaan {allButLastType} tai {lastType}",imageValidateSizeLabelFormatError:"Kuvatyyppiä ei tueta",imageValidateSizeLabelImageSizeTooSmall:"Kuva on liian pieni",imageValidateSizeLabelImageSizeTooBig:"Kuva on liian suuri",imageValidateSizeLabelExpectedMinSize:"Minimikoko on {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksimikoko on {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resoluutio on liian pieni",imageValidateSizeLabelImageResolutionTooHigh:"Resoluutio on liian suuri",imageValidateSizeLabelExpectedMinResolution:"Minimiresoluutio on {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimiresoluutio on {maxResolution}"},$_={labelIdle:'Faites glisser vos fichiers ou <span class = "filepond--label-action"> Parcourir <span>',labelInvalidField:"Le champ contient des fichiers invalides",labelFileWaitingForSize:"En attente de taille",labelFileSizeNotAvailable:"Taille non disponible",labelFileLoading:"Chargement",labelFileLoadError:"Erreur durant le chargement",labelFileProcessing:"Traitement",labelFileProcessingComplete:"Traitement effectué",labelFileProcessingAborted:"Traitement interrompu",labelFileProcessingError:"Erreur durant le traitement",labelFileProcessingRevertError:"Erreur durant la restauration",labelFileRemoveError:"Erreur durant la suppression",labelTapToCancel:"appuyer pour annuler",labelTapToRetry:"appuyer pour réessayer",labelTapToUndo:"appuyer pour revenir en arrière",labelButtonRemoveItem:"Retirer",labelButtonAbortItemLoad:"Annuler",labelButtonRetryItemLoad:"Recommencer",labelButtonAbortItemProcessing:"Annuler",labelButtonUndoItemProcessing:"Revenir en arrière",labelButtonRetryItemProcessing:"Recommencer",labelButtonProcessItem:"Transférer",labelMaxFileSizeExceeded:"Le fichier est trop volumineux",labelMaxFileSize:"La taille maximale de fichier est {filesize}",labelMaxTotalFileSizeExceeded:"Taille totale maximale dépassée",labelMaxTotalFileSize:"La taille totale maximale des fichiers est {filesize}",labelFileTypeNotAllowed:"Fichier non valide",fileValidateTypeLabelExpectedTypes:"Attendu {allButLastType} ou {lastType}",imageValidateSizeLabelFormatError:"Type d'image non pris en charge",imageValidateSizeLabelImageSizeTooSmall:"L'image est trop petite",imageValidateSizeLabelImageSizeTooBig:"L'image est trop grande",imageValidateSizeLabelExpectedMinSize:"La taille minimale est {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"La taille maximale est {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La résolution est trop faible",imageValidateSizeLabelImageResolutionTooHigh:"La résolution est trop élevée",imageValidateSizeLabelExpectedMinResolution:"La résolution minimale est {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La résolution maximale est {maxResolution}"},G_={labelIdle:'Mozgasd ide a fájlt a feltöltéshez, vagy <span class="filepond--label-action"> tallózás </span>',labelInvalidField:"A mező érvénytelen fájlokat tartalmaz",labelFileWaitingForSize:"Fáljméret kiszámolása",labelFileSizeNotAvailable:"A fájlméret nem elérhető",labelFileLoading:"Töltés",labelFileLoadError:"Hiba a betöltés során",labelFileProcessing:"Feltöltés",labelFileProcessingComplete:"Sikeres feltöltés",labelFileProcessingAborted:"A feltöltés megszakítva",labelFileProcessingError:"Hiba történt a feltöltés során",labelFileProcessingRevertError:"Hiba a visszaállítás során",labelFileRemoveError:"Hiba történt az eltávolítás során",labelTapToCancel:"koppints a törléshez",labelTapToRetry:"koppints az újrakezdéshez",labelTapToUndo:"koppints a visszavonáshoz",labelButtonRemoveItem:"Eltávolítás",labelButtonAbortItemLoad:"Megszakítás",labelButtonRetryItemLoad:"Újrapróbálkozás",labelButtonAbortItemProcessing:"Megszakítás",labelButtonUndoItemProcessing:"Visszavonás",labelButtonRetryItemProcessing:"Újrapróbálkozás",labelButtonProcessItem:"Feltöltés",labelMaxFileSizeExceeded:"A fájl túllépte a maximális méretet",labelMaxFileSize:"Maximális fájlméret: {filesize}",labelMaxTotalFileSizeExceeded:"Túllépte a maximális teljes méretet",labelMaxTotalFileSize:"A maximáis teljes fájlméret: {filesize}",labelFileTypeNotAllowed:"Érvénytelen típusú fájl",fileValidateTypeLabelExpectedTypes:"Engedélyezett típusok {allButLastType} vagy {lastType}",imageValidateSizeLabelFormatError:"A képtípus nem támogatott",imageValidateSizeLabelImageSizeTooSmall:"A kép túl kicsi",imageValidateSizeLabelImageSizeTooBig:"A kép túl nagy",imageValidateSizeLabelExpectedMinSize:"Minimum méret: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum méret: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"A felbontás túl alacsony",imageValidateSizeLabelImageResolutionTooHigh:"A felbontás túl magas",imageValidateSizeLabelExpectedMinResolution:"Minimáis felbontás: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximális felbontás: {maxResolution}"},W_={labelIdle:'Seret dan Jatuhkan file Anda atau <span class="filepond--label-action">Jelajahi</span>',labelInvalidField:"Field berisi file tidak valid",labelFileWaitingForSize:"Menunggu ukuran",labelFileSizeNotAvailable:"Ukuran tidak tersedia",labelFileLoading:"Memuat",labelFileLoadError:"Kesalahan saat memuat",labelFileProcessing:"Mengunggah",labelFileProcessingComplete:"Unggahan selesai",labelFileProcessingAborted:"Unggahan dibatalkan",labelFileProcessingError:"Kesalahan saat mengunggah",labelFileProcessingRevertError:"Kesalahan saat pengembalian",labelFileRemoveError:"Kesalahan saat menghapus",labelTapToCancel:"ketuk untuk membatalkan",labelTapToRetry:"ketuk untuk mencoba lagi",labelTapToUndo:"ketuk untuk mengurungkan",labelButtonRemoveItem:"Hapus",labelButtonAbortItemLoad:"Batal",labelButtonRetryItemLoad:"Coba Kembali",labelButtonAbortItemProcessing:"Batal",labelButtonUndoItemProcessing:"Batal",labelButtonRetryItemProcessing:"Coba Kembali",labelButtonProcessItem:"Unggah",labelMaxFileSizeExceeded:"File terlalu besar",labelMaxFileSize:"Ukuran file maksimum adalah {filesize}",labelMaxTotalFileSizeExceeded:"Jumlah file maksimum terlampaui",labelMaxTotalFileSize:"Jumlah file maksimum adalah {filesize}",labelFileTypeNotAllowed:"Jenis file tidak valid",fileValidateTypeLabelExpectedTypes:"Mengharapkan {allButLastType} atau {lastType}",imageValidateSizeLabelFormatError:"Jenis gambar tidak didukung",imageValidateSizeLabelImageSizeTooSmall:"Gambar terlalu kecil",imageValidateSizeLabelImageSizeTooBig:"Gambar terlalu besar",imageValidateSizeLabelExpectedMinSize:"Ukuran minimum adalah {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Ukuran maksimum adalah {minWidth} × {minHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolusi terlalu rendah",imageValidateSizeLabelImageResolutionTooHigh:"Resolusi terlalu tinggi",imageValidateSizeLabelExpectedMinResolution:"Resolusi minimum adalah {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Resolusi maksimum adalah {maxResolution}"},q_={labelIdle:'Trascina e rilascia i tuoi file oppure <span class = "filepond--label-action"> Carica <span>',labelInvalidField:"Il campo contiene dei file non validi",labelFileWaitingForSize:"Aspettando le dimensioni",labelFileSizeNotAvailable:"Dimensioni non disponibili",labelFileLoading:"Caricamento",labelFileLoadError:"Errore durante il caricamento",labelFileProcessing:"Caricamento",labelFileProcessingComplete:"Caricamento completato",labelFileProcessingAborted:"Caricamento cancellato",labelFileProcessingError:"Errore durante il caricamento",labelFileProcessingRevertError:"Errore durante il ripristino",labelFileRemoveError:"Errore durante l'eliminazione",labelTapToCancel:"tocca per cancellare",labelTapToRetry:"tocca per riprovare",labelTapToUndo:"tocca per ripristinare",labelButtonRemoveItem:"Elimina",labelButtonAbortItemLoad:"Cancella",labelButtonRetryItemLoad:"Ritenta",labelButtonAbortItemProcessing:"Camcella",labelButtonUndoItemProcessing:"Indietro",labelButtonRetryItemProcessing:"Ritenta",labelButtonProcessItem:"Carica",labelMaxFileSizeExceeded:"Il peso del file è eccessivo",labelMaxFileSize:"Il peso massimo del file è {filesize}",labelMaxTotalFileSizeExceeded:"Dimensione totale massima superata",labelMaxTotalFileSize:"La dimensione massima totale del file è {filesize}",labelFileTypeNotAllowed:"File non supportato",fileValidateTypeLabelExpectedTypes:"Aspetta {allButLastType} o {lastType}",imageValidateSizeLabelFormatError:"Tipo di immagine non compatibile",imageValidateSizeLabelImageSizeTooSmall:"L'immagine è troppo piccola",imageValidateSizeLabelImageSizeTooBig:"L'immagine è troppo grande",imageValidateSizeLabelExpectedMinSize:"La dimensione minima è {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"La dimensione massima è {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La risoluzione è troppo bassa",imageValidateSizeLabelImageResolutionTooHigh:"La risoluzione è troppo alta",imageValidateSizeLabelExpectedMinResolution:"La risoluzione minima è {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La risoluzione massima è {maxResolution}"},K_={labelIdle:'Drag & Drop je bestanden of <span class="filepond--label-action"> Bladeren </span>',labelInvalidField:"Veld bevat ongeldige bestanden",labelFileWaitingForSize:"Wachten op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileLoading:"Laden",labelFileLoadError:"Fout tijdens laden",labelFileProcessing:"Uploaden",labelFileProcessingComplete:"Upload afgerond",labelFileProcessingAborted:"Upload geannuleerd",labelFileProcessingError:"Fout tijdens upload",labelFileProcessingRevertError:"Fout bij herstellen",labelFileRemoveError:"Fout bij verwijderen",labelTapToCancel:"tik om te annuleren",labelTapToRetry:"tik om opnieuw te proberen",labelTapToUndo:"tik om ongedaan te maken",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Afbreken",labelButtonRetryItemLoad:"Opnieuw proberen",labelButtonAbortItemProcessing:"Annuleren",labelButtonUndoItemProcessing:"Ongedaan maken",labelButtonRetryItemProcessing:"Opnieuw proberen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Bestand is te groot",labelMaxFileSize:"Maximale bestandsgrootte is {filesize}",labelMaxTotalFileSizeExceeded:"Maximale totale grootte overschreden",labelMaxTotalFileSize:"Maximale totale bestandsgrootte is {filesize}",labelFileTypeNotAllowed:"Ongeldig bestandstype",fileValidateTypeLabelExpectedTypes:"Verwacht {allButLastType} of {lastType}",imageValidateSizeLabelFormatError:"Afbeeldingstype niet ondersteund",imageValidateSizeLabelImageSizeTooSmall:"Afbeelding is te klein",imageValidateSizeLabelImageSizeTooBig:"Afbeelding is te groot",imageValidateSizeLabelExpectedMinSize:"Minimale afmeting is {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximale afmeting is {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolutie is te laag",imageValidateSizeLabelImageResolutionTooHigh:"Resolution is too high",imageValidateSizeLabelExpectedMinResolution:"Minimale resolutie is {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximale resolutie is {maxResolution}"},X_={labelIdle:'Przeciągnij i upuść lub <span class="filepond--label-action">wybierz</span> pliki',labelInvalidField:"Nieprawidłowe pliki",labelFileWaitingForSize:"Pobieranie rozmiaru",labelFileSizeNotAvailable:"Nieznany rozmiar",labelFileLoading:"Wczytywanie",labelFileLoadError:"Błąd wczytywania",labelFileProcessing:"Przesyłanie",labelFileProcessingComplete:"Przesłano",labelFileProcessingAborted:"Przerwano",labelFileProcessingError:"Przesyłanie nie powiodło się",labelFileProcessingRevertError:"Coś poszło nie tak",labelFileRemoveError:"Nieudane usunięcie",labelTapToCancel:"Anuluj",labelTapToRetry:"Ponów",labelTapToUndo:"Cofnij",labelButtonRemoveItem:"Usuń",labelButtonAbortItemLoad:"Przerwij",labelButtonRetryItemLoad:"Ponów",labelButtonAbortItemProcessing:"Anuluj",labelButtonUndoItemProcessing:"Cofnij",labelButtonRetryItemProcessing:"Ponów",labelButtonProcessItem:"Prześlij",labelMaxFileSizeExceeded:"Plik jest zbyt duży",labelMaxFileSize:"Dopuszczalna wielkość pliku to {filesize}",labelMaxTotalFileSizeExceeded:"Przekroczono łączny rozmiar plików",labelMaxTotalFileSize:"Łączny rozmiar plików nie może przekroczyć {filesize}",labelFileTypeNotAllowed:"Niedozwolony rodzaj pliku",fileValidateTypeLabelExpectedTypes:"Oczekiwano {allButLastType} lub {lastType}",imageValidateSizeLabelFormatError:"Nieobsługiwany format obrazu",imageValidateSizeLabelImageSizeTooSmall:"Obraz jest zbyt mały",imageValidateSizeLabelImageSizeTooBig:"Obraz jest zbyt duży",imageValidateSizeLabelExpectedMinSize:"Minimalne wymiary obrazu to {minWidth}×{minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksymalna wymiary obrazu to {maxWidth}×{maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rozdzielczość jest zbyt niska",imageValidateSizeLabelImageResolutionTooHigh:"Rozdzielczość jest zbyt wysoka",imageValidateSizeLabelExpectedMinResolution:"Minimalna rozdzielczość to {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksymalna rozdzielczość to {maxResolution}"},ju={labelIdle:'Arraste e solte os arquivos ou <span class="filepond--label-action"> Clique aqui </span>',labelInvalidField:"Arquivos inválidos",labelFileWaitingForSize:"Calculando o tamanho do arquivo",labelFileSizeNotAvailable:"Tamanho do arquivo indisponível",labelFileLoading:"Carregando",labelFileLoadError:"Erro durante o carregamento",labelFileProcessing:"Enviando",labelFileProcessingComplete:"Envio finalizado",labelFileProcessingAborted:"Envio cancelado",labelFileProcessingError:"Erro durante o envio",labelFileProcessingRevertError:"Erro ao reverter o envio",labelFileRemoveError:"Erro ao remover o arquivo",labelTapToCancel:"clique para cancelar",labelTapToRetry:"clique para reenviar",labelTapToUndo:"clique para desfazer",labelButtonRemoveItem:"Remover",labelButtonAbortItemLoad:"Abortar",labelButtonRetryItemLoad:"Reenviar",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Desfazer",labelButtonRetryItemProcessing:"Reenviar",labelButtonProcessItem:"Enviar",labelMaxFileSizeExceeded:"Arquivo é muito grande",labelMaxFileSize:"O tamanho máximo permitido: {filesize}",labelMaxTotalFileSizeExceeded:"Tamanho total dos arquivos excedido",labelMaxTotalFileSize:"Tamanho total permitido: {filesize}",labelFileTypeNotAllowed:"Tipo de arquivo inválido",fileValidateTypeLabelExpectedTypes:"Tipos de arquivo suportados são {allButLastType} ou {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagem inválida",imageValidateSizeLabelImageSizeTooSmall:"Imagem muito pequena",imageValidateSizeLabelImageSizeTooBig:"Imagem muito grande",imageValidateSizeLabelExpectedMinSize:"Tamanho mínimo permitida: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Tamanho máximo permitido: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolução muito baixa",imageValidateSizeLabelImageResolutionTooHigh:"Resolução muito alta",imageValidateSizeLabelExpectedMinResolution:"Resolução mínima permitida: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Resolução máxima permitida: {maxResolution}"},J_={labelIdle:'Trage și plasează fișiere sau <span class="filepond--label-action"> Caută-le </span>',labelInvalidField:"Câmpul conține fișiere care nu sunt valide",labelFileWaitingForSize:"În așteptarea dimensiunii",labelFileSizeNotAvailable:"Dimensiunea nu este diponibilă",labelFileLoading:"Se încarcă",labelFileLoadError:"Eroare la încărcare",labelFileProcessing:"Se încarcă",labelFileProcessingComplete:"Încărcare finalizată",labelFileProcessingAborted:"Încărcare anulată",labelFileProcessingError:"Eroare la încărcare",labelFileProcessingRevertError:"Eroare la anulare",labelFileRemoveError:"Eroare la ştergere",labelTapToCancel:"apasă pentru a anula",labelTapToRetry:"apasă pentru a reîncerca",labelTapToUndo:"apasă pentru a anula",labelButtonRemoveItem:"Şterge",labelButtonAbortItemLoad:"Anulează",labelButtonRetryItemLoad:"Reîncearcă",labelButtonAbortItemProcessing:"Anulează",labelButtonUndoItemProcessing:"Anulează",labelButtonRetryItemProcessing:"Reîncearcă",labelButtonProcessItem:"Încarcă",labelMaxFileSizeExceeded:"Fișierul este prea mare",labelMaxFileSize:"Dimensiunea maximă a unui fișier este de {filesize}",labelMaxTotalFileSizeExceeded:"Dimensiunea totală maximă a fost depășită",labelMaxTotalFileSize:"Dimensiunea totală maximă a fișierelor este de {filesize}",labelFileTypeNotAllowed:"Tipul fișierului nu este valid",fileValidateTypeLabelExpectedTypes:"Se așteaptă {allButLastType} sau {lastType}",imageValidateSizeLabelFormatError:"Formatul imaginii nu este acceptat",imageValidateSizeLabelImageSizeTooSmall:"Imaginea este prea mică",imageValidateSizeLabelImageSizeTooBig:"Imaginea este prea mare",imageValidateSizeLabelExpectedMinSize:"Mărimea minimă este de {maxWidth} x {maxHeight}",imageValidateSizeLabelExpectedMaxSize:"Mărimea maximă este de {maxWidth} x {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rezoluția este prea mică",imageValidateSizeLabelImageResolutionTooHigh:"Rezoluția este prea mare",imageValidateSizeLabelExpectedMinResolution:"Rezoluția minimă este de {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Rezoluția maximă este de {maxResolution}"},Z_={labelIdle:'Перетащите файлы или <span class="filepond--label-action"> выберите </span>',labelInvalidField:"Поле содержит недопустимые файлы",labelFileWaitingForSize:"Укажите размер",labelFileSizeNotAvailable:"Размер не поддерживается",labelFileLoading:"Ожидание",labelFileLoadError:"Ошибка при ожидании",labelFileProcessing:"Загрузка",labelFileProcessingComplete:"Загрузка завершена",labelFileProcessingAborted:"Загрузка отменена",labelFileProcessingError:"Ошибка при загрузке",labelFileProcessingRevertError:"Ошибка при возврате",labelFileRemoveError:"Ошибка при удалении",labelTapToCancel:"нажмите для отмены",labelTapToRetry:"нажмите, чтобы повторить попытку",labelTapToUndo:"нажмите для отмены последнего действия",labelButtonRemoveItem:"Удалить",labelButtonAbortItemLoad:"Прекращено",labelButtonRetryItemLoad:"Повторите попытку",labelButtonAbortItemProcessing:"Отмена",labelButtonUndoItemProcessing:"Отмена последнего действия",labelButtonRetryItemProcessing:"Повторите попытку",labelButtonProcessItem:"Загрузка",labelMaxFileSizeExceeded:"Файл слишком большой",labelMaxFileSize:"Максимальный размер файла: {filesize}",labelMaxTotalFileSizeExceeded:"Превышен максимальный размер",labelMaxTotalFileSize:"Максимальный размер файла: {filesize}",labelFileTypeNotAllowed:"Файл неверного типа",fileValidateTypeLabelExpectedTypes:"Ожидается {allButLastType} или {lastType}",imageValidateSizeLabelFormatError:"Тип изображения не поддерживается",imageValidateSizeLabelImageSizeTooSmall:"Изображение слишком маленькое",imageValidateSizeLabelImageSizeTooBig:"Изображение слишком большое",imageValidateSizeLabelExpectedMinSize:"Минимальный размер: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Максимальный размер: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Разрешение слишком низкое",imageValidateSizeLabelImageResolutionTooHigh:"Разрешение слишком высокое",imageValidateSizeLabelExpectedMinResolution:"Минимальное разрешение: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Максимальное разрешение: {maxResolution}"},Q_={labelIdle:'Drag och släpp dina filer eller <span class="filepond--label-action"> Bläddra </span>',labelInvalidField:"Fältet innehåller felaktiga filer",labelFileWaitingForSize:"Väntar på storlek",labelFileSizeNotAvailable:"Storleken finns inte tillgänglig",labelFileLoading:"Laddar",labelFileLoadError:"Fel under laddning",labelFileProcessing:"Laddar upp",labelFileProcessingComplete:"Uppladdning klar",labelFileProcessingAborted:"Uppladdning avbruten",labelFileProcessingError:"Fel under uppladdning",labelFileProcessingRevertError:"Fel under återställning",labelFileRemoveError:"Fel under borttagning",labelTapToCancel:"tryck för att avbryta",labelTapToRetry:"tryck för att försöka igen",labelTapToUndo:"tryck för att ångra",labelButtonRemoveItem:"Tabort",labelButtonAbortItemLoad:"Avbryt",labelButtonRetryItemLoad:"Försök igen",labelButtonAbortItemProcessing:"Avbryt",labelButtonUndoItemProcessing:"Ångra",labelButtonRetryItemProcessing:"Försök igen",labelButtonProcessItem:"Ladda upp",labelMaxFileSizeExceeded:"Filen är för stor",labelMaxFileSize:"Största tillåtna filstorlek är {filesize}",labelMaxTotalFileSizeExceeded:"Maximal uppladdningsstorlek uppnåd",labelMaxTotalFileSize:"Maximal uppladdningsstorlek är {filesize}",labelFileTypeNotAllowed:"Felaktig filtyp",fileValidateTypeLabelExpectedTypes:"Godkända filtyper {allButLastType} eller {lastType}",imageValidateSizeLabelFormatError:"Bildtypen saknar stöd",imageValidateSizeLabelImageSizeTooSmall:"Bilden är för liten",imageValidateSizeLabelImageSizeTooBig:"Bilden är för stor",imageValidateSizeLabelExpectedMinSize:"Minimal storlek är {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximal storlek är {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Upplösningen är för låg",imageValidateSizeLabelImageResolutionTooHigh:"Upplösningen är för hög",imageValidateSizeLabelExpectedMinResolution:"Minsta tillåtna upplösning är {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Högsta tillåtna upplösning är {maxResolution}"},ey={labelIdle:'Dosyanızı Sürükleyin & Bırakın ya da <span class="filepond--label-action"> Seçin </span>',labelInvalidField:"Alan geçersiz dosyalar içeriyor",labelFileWaitingForSize:"Boyut hesaplanıyor",labelFileSizeNotAvailable:"Boyut mevcut değil",labelFileLoading:"Yükleniyor",labelFileLoadError:"Yükleme sırasında hata oluştu",labelFileProcessing:"Yükleniyor",labelFileProcessingComplete:"Yükleme tamamlandı",labelFileProcessingAborted:"Yükleme iptal edildi",labelFileProcessingError:"Yüklerken hata oluştu",labelFileProcessingRevertError:"Geri çekerken hata oluştu",labelFileRemoveError:"Kaldırırken hata oluştu",labelTapToCancel:"İptal etmek için tıklayın",labelTapToRetry:"Tekrar denemek için tıklayın",labelTapToUndo:"Geri almak için tıklayın",labelButtonRemoveItem:"Kaldır",labelButtonAbortItemLoad:"İptal Et",labelButtonRetryItemLoad:"Tekrar dene",labelButtonAbortItemProcessing:"İptal et",labelButtonUndoItemProcessing:"Geri Al",labelButtonRetryItemProcessing:"Tekrar dene",labelButtonProcessItem:"Yükle",labelMaxFileSizeExceeded:"Dosya çok büyük",labelMaxFileSize:"En fazla dosya boyutu: {filesize}",labelMaxTotalFileSizeExceeded:"Maximum boyut aşıldı",labelMaxTotalFileSize:"Maximum dosya boyutu :{filesize}",labelFileTypeNotAllowed:"Geçersiz dosya tipi",fileValidateTypeLabelExpectedTypes:"Şu {allButLastType} ya da şu dosya olması gerekir: {lastType}",imageValidateSizeLabelFormatError:"Resim tipi desteklenmiyor",imageValidateSizeLabelImageSizeTooSmall:"Resim çok küçük",imageValidateSizeLabelImageSizeTooBig:"Resim çok büyük",imageValidateSizeLabelExpectedMinSize:"Minimum boyut {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum boyut {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Çözünürlük çok düşük",imageValidateSizeLabelImageResolutionTooHigh:"Çözünürlük çok yüksek",imageValidateSizeLabelExpectedMinResolution:"Minimum çözünürlük {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum çözünürlük {maxResolution}"},ty={labelIdle:'Перетягніть файли або <span class="filepond--label-action"> виберіть </span>',labelInvalidField:"Поле містить недопустимі файли",labelFileWaitingForSize:"Вкажіть розмір",labelFileSizeNotAvailable:"Розмір не доступний",labelFileLoading:"Очікування",labelFileLoadError:"Помилка при очікуванні",labelFileProcessing:"Завантаження",labelFileProcessingComplete:"Завантаження завершено",labelFileProcessingAborted:"Завантаження скасовано",labelFileProcessingError:"Помилка при завантаженні",labelFileProcessingRevertError:"Помилка при відновленні",labelFileRemoveError:"Помилка при видаленні",labelTapToCancel:"Відмінити",labelTapToRetry:"Натисніть, щоб повторити спробу",labelTapToUndo:"Натисніть, щоб відмінити останню дію",labelButtonRemoveItem:"Видалити",labelButtonAbortItemLoad:"Відмінити",labelButtonRetryItemLoad:"Повторити спробу",labelButtonAbortItemProcessing:"Відмінити",labelButtonUndoItemProcessing:"Відмінити останню дію",labelButtonRetryItemProcessing:"Повторити спробу",labelButtonProcessItem:"Завантаження",labelMaxFileSizeExceeded:"Файл занадто великий",labelMaxFileSize:"Максимальний розмір файлу: {filesize}",labelMaxTotalFileSizeExceeded:"Перевищено максимальний загальний розмір",labelMaxTotalFileSize:"Максимальний загальний розмір: {filesize}",labelFileTypeNotAllowed:"Формат файлу не підтримується",fileValidateTypeLabelExpectedTypes:"Очікується {allButLastType} або {lastType}",imageValidateSizeLabelFormatError:"Формат зображення не підтримується",imageValidateSizeLabelImageSizeTooSmall:"Зображення занадто маленьке",imageValidateSizeLabelImageSizeTooBig:"Зображення занадто велике",imageValidateSizeLabelExpectedMinSize:"Мінімальний розмір: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Максимальний розмір: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Розміри зображення занадто маленькі",imageValidateSizeLabelImageResolutionTooHigh:"Розміри зображення занадто великі",imageValidateSizeLabelExpectedMinResolution:"Мінімальні розміри: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Максимальні розміри: {maxResolution}"},ny={labelIdle:'Kéo thả tệp của bạn hoặc <span class="filepond--label-action"> Tìm kiếm </span>',labelInvalidField:"Trường chứa các tệp không hợp lệ",labelFileWaitingForSize:"Đang chờ kích thước",labelFileSizeNotAvailable:"Kích thước không có sẵn",labelFileLoading:"Đang tải",labelFileLoadError:"Lỗi khi tải",labelFileProcessing:"Đang tải lên",labelFileProcessingComplete:"Tải lên thành công",labelFileProcessingAborted:"Đã huỷ tải lên",labelFileProcessingError:"Lỗi khi tải lên",labelFileProcessingRevertError:"Lỗi khi hoàn nguyên",labelFileRemoveError:"Lỗi khi xóa",labelTapToCancel:"nhấn để hủy",labelTapToRetry:"nhấn để thử lại",labelTapToUndo:"nhấn để hoàn tác",labelButtonRemoveItem:"Xoá",labelButtonAbortItemLoad:"Huỷ bỏ",labelButtonRetryItemLoad:"Thử lại",labelButtonAbortItemProcessing:"Hủy bỏ",labelButtonUndoItemProcessing:"Hoàn tác",labelButtonRetryItemProcessing:"Thử lại",labelButtonProcessItem:"Tải lên",labelMaxFileSizeExceeded:"Tập tin quá lớn",labelMaxFileSize:"Kích thước tệp tối đa là {filesize}",labelMaxTotalFileSizeExceeded:"Đã vượt quá tổng kích thước tối đa",labelMaxTotalFileSize:"Tổng kích thước tệp tối đa là {filesize}",labelFileTypeNotAllowed:"Tệp thuộc loại không hợp lệ",fileValidateTypeLabelExpectedTypes:"Kiểu tệp hợp lệ là {allButLastType} hoặc {lastType}",imageValidateSizeLabelFormatError:"Loại hình ảnh không được hỗ trợ",imageValidateSizeLabelImageSizeTooSmall:"Hình ảnh quá nhỏ",imageValidateSizeLabelImageSizeTooBig:"Hình ảnh quá lớn",imageValidateSizeLabelExpectedMinSize:"Kích thước tối thiểu là {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Kích thước tối đa là {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Độ phân giải quá thấp",imageValidateSizeLabelImageResolutionTooHigh:"Độ phân giải quá cao",imageValidateSizeLabelExpectedMinResolution:"Độ phân giải tối thiểu là {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Độ phân giải tối đa là {maxResolution}"},iy={labelIdle:'拖放文件，或者 <span class="filepond--label-action"> 浏览 </span>',labelInvalidField:"字段包含无效文件",labelFileWaitingForSize:"计算文件大小",labelFileSizeNotAvailable:"文件大小不可用",labelFileLoading:"加载",labelFileLoadError:"加载错误",labelFileProcessing:"上传",labelFileProcessingComplete:"已上传",labelFileProcessingAborted:"上传已取消",labelFileProcessingError:"上传出错",labelFileProcessingRevertError:"还原出错",labelFileRemoveError:"删除出错",labelTapToCancel:"点击取消",labelTapToRetry:"点击重试",labelTapToUndo:"点击撤消",labelButtonRemoveItem:"删除",labelButtonAbortItemLoad:"中止",labelButtonRetryItemLoad:"重试",labelButtonAbortItemProcessing:"取消",labelButtonUndoItemProcessing:"撤消",labelButtonRetryItemProcessing:"重试",labelButtonProcessItem:"上传",labelMaxFileSizeExceeded:"文件太大",labelMaxFileSize:"最大值: {filesize}",labelMaxTotalFileSizeExceeded:"超过最大文件大小",labelMaxTotalFileSize:"最大文件大小：{filesize}",labelFileTypeNotAllowed:"文件类型无效",fileValidateTypeLabelExpectedTypes:"应为 {allButLastType} 或 {lastType}",imageValidateSizeLabelFormatError:"不支持图像类型",imageValidateSizeLabelImageSizeTooSmall:"图像太小",imageValidateSizeLabelImageSizeTooBig:"图像太大",imageValidateSizeLabelExpectedMinSize:"最小值: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"最大值: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"分辨率太低",imageValidateSizeLabelImageResolutionTooHigh:"分辨率太高",imageValidateSizeLabelExpectedMinResolution:"最小分辨率：{minResolution}",imageValidateSizeLabelExpectedMaxResolution:"最大分辨率：{maxResolution}"},ry={labelIdle:'拖放檔案，或者 <span class="filepond--label-action"> 瀏覽 </span>',labelInvalidField:"不支援此檔案",labelFileWaitingForSize:"正在計算檔案大小",labelFileSizeNotAvailable:"檔案大小不符",labelFileLoading:"讀取中",labelFileLoadError:"讀取錯誤",labelFileProcessing:"上傳",labelFileProcessingComplete:"已上傳",labelFileProcessingAborted:"上傳已取消",labelFileProcessingError:"上傳發生錯誤",labelFileProcessingRevertError:"還原錯誤",labelFileRemoveError:"刪除錯誤",labelTapToCancel:"點擊取消",labelTapToRetry:"點擊重試",labelTapToUndo:"點擊還原",labelButtonRemoveItem:"刪除",labelButtonAbortItemLoad:"停止",labelButtonRetryItemLoad:"重試",labelButtonAbortItemProcessing:"取消",labelButtonUndoItemProcessing:"取消",labelButtonRetryItemProcessing:"重試",labelButtonProcessItem:"上傳",labelMaxFileSizeExceeded:"檔案過大",labelMaxFileSize:"最大值：{filesize}",labelMaxTotalFileSizeExceeded:"超過最大可上傳大小",labelMaxTotalFileSize:"最大可上傳大小：{filesize}",labelFileTypeNotAllowed:"不支援此類型檔案",fileValidateTypeLabelExpectedTypes:"應為 {allButLastType} 或 {lastType}",imageValidateSizeLabelFormatError:"不支持此類圖片類型",imageValidateSizeLabelImageSizeTooSmall:"圖片過小",imageValidateSizeLabelImageSizeTooBig:"圖片過大",imageValidateSizeLabelExpectedMinSize:"最小尺寸：{minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"最大尺寸：{maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"解析度過低",imageValidateSizeLabelImageResolutionTooHigh:"解析度過高",imageValidateSizeLabelExpectedMinResolution:"最低解析度：{minResolution}",imageValidateSizeLabelExpectedMaxResolution:"最高解析度：{maxResolution}"};Ht(pv);Ht(gv);Ht(Ev);Ht(Dv);Ht(TE);Ht(xE);Ht(R_);Ht(sd);window.FilePond=nc;var oy=e=>{e.data("fileUploadFormComponent",({acceptedFileTypes:t,canDownload:n,canOpen:i,canPreview:r,canReorder:s,deleteUploadedFileUsing:o,getUploadedFileUrlsUsing:a,imageCropAspectRatio:u,imagePreviewHeight:l,imageResizeMode:c,imageResizeTargetHeight:f,imageResizeTargetWidth:d,imageResizeUpscale:p,isAvatar:m,loadingIndicatorPosition:h,locale:v,panelAspectRatio:_,panelLayout:y,placeholder:g,maxSize:E,minSize:b,removeUploadedFileButtonPosition:T,removeUploadedFileUsing:A,reorderUploadedFilesUsing:S,shouldAppendFiles:M,shouldOrientImageFromExif:R,shouldTransformImage:F,state:I,uploadButtonPosition:w,uploadProgressIndicatorPosition:x,uploadUsing:C})=>({fileKeyIndex:{},pond:null,shouldUpdateState:!0,state:I,lastState:null,uploadedFileUrlIndex:{},init:async function(){_o(Uu[v]??Uu.en),this.pond=ar(this.$refs.input,{acceptedFileTypes:t,allowPaste:!1,allowReorder:s,allowImageExifOrientation:R,allowImagePreview:r,allowVideoPreview:r,allowAudioPreview:r,allowImageTransform:F,credits:!1,files:await this.getFiles(),imageCropAspectRatio:u,imagePreviewHeight:l,imageResizeTargetHeight:f,imageResizeTargetWidth:d,imageResizeMode:c,imageResizeUpscale:p,itemInsertLocation:M?"after":"before",...g&&{labelIdle:g},maxFileSize:E,minFileSize:b,styleButtonProcessItemPosition:w,styleButtonRemoveItemPosition:T,styleLoadIndicatorPosition:h,stylePanelAspectRatio:_,stylePanelLayout:y,styleProgressIndicatorPosition:x,server:{load:async(L,O)=>{let P=await(await fetch(L,{cache:"no-store"})).blob();O(P)},process:(L,O,k,P,z,H)=>{this.shouldUpdateState=!1;let X=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,j=>(j^crypto.getRandomValues(new Uint8Array(1))[0]&15>>j/4).toString(16));C(X,O,j=>{this.shouldUpdateState=!0,P(j)},z,H)},remove:async(L,O)=>{let k=this.uploadedFileUrlIndex[L]??null;k&&(await o(k),O())},revert:async(L,O)=>{await A(L),O()}}}),this.$watch("state",async()=>{if(this.shouldUpdateState){if(this.state!==null&&Object.values(this.state).filter(L=>L.startsWith("livewire-file:")).length){this.lastState=null;return}JSON.stringify(this.state)!==this.lastState&&(this.lastState=JSON.stringify(this.state),this.pond.files=await this.getFiles())}}),this.pond.on("reorderfiles",async L=>{const O=L.map(k=>k.source instanceof File?k.serverId:this.uploadedFileUrlIndex[k.source]??null).filter(k=>k);await S(M?O:O.reverse())}),this.pond.on("initfile",async L=>{n&&(m||this.insertDownloadLink(L))}),this.pond.on("initfile",async L=>{i&&(m||this.insertOpenLink(L))}),this.pond.on("addfilestart",async L=>{L.status===or.PROCESSING_QUEUED&&this.dispatchFormEvent("file-upload-started")});const D=async()=>{this.pond.getFiles().filter(L=>L.status===or.PROCESSING||L.status===or.PROCESSING_QUEUED).length||this.dispatchFormEvent("file-upload-finished")};this.pond.on("processfile",D),this.pond.on("processfileabort",D),this.pond.on("processfilerevert",D)},dispatchFormEvent:function(D){var L;(L=this.$el.closest("form"))==null||L.dispatchEvent(new CustomEvent(D,{composed:!0,cancelable:!0}))},getUploadedFileUrls:async function(){const D=await a();this.fileKeyIndex=D??{},this.uploadedFileUrlIndex=Object.entries(this.fileKeyIndex).filter(L=>L).reduce((L,[O,k])=>(L[k]=O,L),{})},getFiles:async function(){await this.getUploadedFileUrls();let D=[];for(const L of Object.values(this.fileKeyIndex))L&&D.push({source:L,options:{type:"local"}});return M?D:D.reverse()},insertDownloadLink:function(D){if(D.origin!==Eo.LOCAL)return;const L=this.getDownloadLink(D);L&&document.getElementById(`filepond--item-${D.id}`).querySelector(".filepond--file-info-main").prepend(L)},insertOpenLink:function(D){if(D.origin!==Eo.LOCAL)return;const L=this.getOpenLink(D);L&&document.getElementById(`filepond--item-${D.id}`).querySelector(".filepond--file-info-main").prepend(L)},getDownloadLink:function(D){let L=D.source;if(!L)return;const O=document.createElement("a");return O.className="filepond--download-icon",O.href=L,O.download=D.file.name,O},getOpenLink:function(D){let L=D.source;if(!L)return;const O=document.createElement("a");return O.className="filepond--open-icon",O.href=L,O.target="_blank",O}}))},Uu={ar:B_,cs:N_,da:z_,de:Y_,en:V_,es:H_,fa:j_,fi:U_,fr:$_,hu:G_,id:W_,it:q_,nl:K_,pl:X_,pt_BR:ju,pt_PT:ju,ro:J_,ru:Z_,sv:Q_,tr:ey,uk:ty,vi:ny,zh_CN:iy,zh_TW:ry},ay=e=>{e.data("keyValueFormComponent",({state:t})=>({state:t,rows:[],shouldUpdateRows:!0,init:function(){this.updateRows(),this.rows.length<=0&&this.addRow(),this.shouldUpdateRows=!0,this.$watch("state",()=>{if(!this.shouldUpdateRows){this.shouldUpdateRows=!0;return}this.updateRows()})},addRow:function(){this.rows.push({key:"",value:""}),this.updateState()},deleteRow:function(n){this.rows.splice(n,1),this.rows.length<=0&&this.addRow(),this.updateState(),this.shouldUpdateRows=!0},reorderRows:function(n){const i=e.raw(this.rows),r=i.splice(n.oldIndex,1)[0];i.splice(n.newIndex,0,r),this.rows=i,this.updateState()},updateRows:function(){let n=[];for(let[i,r]of Object.entries(this.state??{}))n.push({key:i,value:r});this.rows=n},updateState:function(){let n={};this.rows.forEach(i=>{i.key===""||i.key===null||(n[i.key]=i.value)}),this.shouldUpdateRows=!1,this.state=n}}))},Ri=class{constructor(e,t){this.file=e,this.directory=t,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}static traverse(e,t){return sy(e,t)}static from(e){const t=[];for(const n of e)if(n instanceof File)t.push(new Ri(n));else if(n instanceof Ri)t.push(n);else throw new Error("Unexpected type");return t}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg"].indexOf(this.file.type)>-1}saving(e){if(this.state!=="pending"&&this.state!=="saving")throw new Error(`Unexpected transition from ${this.state} to saving`);this.state="saving",this.percent=e}saved(e){var t,n,i;if(this.state!=="pending"&&this.state!=="saving")throw new Error(`Unexpected transition from ${this.state} to saved`);this.state="saved",this.id=(t=e==null?void 0:e.id)!==null&&t!==void 0?t:null,this.href=(n=e==null?void 0:e.href)!==null&&n!==void 0?n:null,this.name=(i=e==null?void 0:e.name)!==null&&i!==void 0?i:null}isPending(){return this.state==="pending"}isSaving(){return this.state==="saving"}isSaved(){return this.state==="saved"}};function sy(e,t){return t&&dy(e)?ld("",hy(e)):Promise.resolve(ud(Array.from(e.files||[])).map(n=>new Ri(n)))}function uy(e){return e.name.startsWith(".")}function ud(e){return Array.from(e).filter(t=>!uy(t))}function ly(e){return new Promise(function(t,n){e.file(t,n)})}function cy(e){return new Promise(function(t,n){const i=[],r=e.createReader(),s=()=>{r.readEntries(o=>{o.length>0?(i.push(...o),s()):t(i)},n)};s()})}async function ld(e,t){const n=[];for(const i of ud(t))if(i.isDirectory)n.push(...await ld(i.fullPath,await cy(i)));else{const r=await ly(i);n.push(new Ri(r,e))}return n}function dy(e){return e.items&&Array.from(e.items).some(t=>{const n=t.webkitGetAsEntry&&t.webkitGetAsEntry();return n&&n.isDirectory})}function hy(e){return Array.from(e.items).map(t=>t.webkitGetAsEntry()).filter(t=>t!=null)}var Er=class extends HTMLElement{connectedCallback(){this.addEventListener("dragenter",Vr),this.addEventListener("dragover",Vr),this.addEventListener("dragleave",$u),this.addEventListener("drop",Gu),this.addEventListener("paste",Wu),this.addEventListener("change",qu)}disconnectedCallback(){this.removeEventListener("dragenter",Vr),this.removeEventListener("dragover",Vr),this.removeEventListener("dragleave",$u),this.removeEventListener("drop",Gu),this.removeEventListener("paste",Wu),this.removeEventListener("change",qu)}get directory(){return this.hasAttribute("directory")}set directory(e){e?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(e){const t=e instanceof DataTransfer?await Ri.traverse(e,this.directory):Ri.from(e);this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:t}}))&&t.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:t}}))}};function cd(e){return Array.from(e.types).indexOf("Files")>=0}var aa=null;function Vr(e){const t=e.currentTarget;aa&&clearTimeout(aa),aa=window.setTimeout(()=>t.removeAttribute("hover"),200);const n=e.dataTransfer;!n||!cd(n)||(n.dropEffect="copy",t.setAttribute("hover",""),e.stopPropagation(),e.preventDefault())}function $u(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none"),e.currentTarget.removeAttribute("hover"),e.stopPropagation(),e.preventDefault()}function Gu(e){const t=e.currentTarget;if(!(t instanceof Er))return;t.removeAttribute("hover");const n=e.dataTransfer;!n||!cd(n)||(t.attach(n),e.stopPropagation(),e.preventDefault())}var fy=/^image\/(gif|png|jpeg)$/;function py(e){for(const t of e)if(fy.test(t.type))return t.getAsFile();return null}function Wu(e){if(!e.clipboardData||!e.clipboardData.items)return;const t=e.currentTarget;if(!(t instanceof Er))return;const n=py(e.clipboardData.items);if(!n)return;const i=[n];t.attach(i),e.preventDefault()}function qu(e){const t=e.currentTarget;if(!(t instanceof Er))return;const n=e.target;if(!(n instanceof HTMLInputElement))return;const i=t.getAttribute("input");if(i&&n.id!==i)return;const r=n.files;!r||r.length===0||(t.attach(r),n.value="")}window.customElements.get("file-attachment")||(window.FileAttachmentElement=Er,window.customElements.define("file-attachment",Er));var my=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function dd(e){const t=[];for(const n of e.querySelectorAll(my.join(", ")))n.hidden||n.offsetWidth<=0&&n.offsetHeight<=0||n.closest("markdown-toolbar")===e&&t.push(n);return t}function gy(e){return function(t){(t.key===" "||t.key==="Enter")&&(t.preventDefault(),e(t))}}var dt=new WeakMap,St=class extends HTMLElement{constructor(){super();const e=()=>{const t=dt.get(this);t&&dl(this,t)};this.addEventListener("keydown",gy(e)),this.addEventListener("click",e)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){const e=dt.get(this);e&&dl(this,e)}},Ku=class extends St{constructor(){super();const e=parseInt(this.getAttribute("level")||"3",10);if(e<1||e>6)return;const t=`${"#".repeat(e)} `;dt.set(this,{prefix:t})}};window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=Ku,window.customElements.define("md-header",Ku));var Xu=class extends St{constructor(){super(),dt.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","b")}};window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=Xu,window.customElements.define("md-bold",Xu));var Ju=class extends St{constructor(){super(),dt.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","i")}};window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=Ju,window.customElements.define("md-italic",Ju));var Zu=class extends St{constructor(){super(),dt.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","."),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=Zu,window.customElements.define("md-quote",Zu));var Qu=class extends St{constructor(){super(),dt.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","e")}};window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=Qu,window.customElements.define("md-code",Qu));var el=class extends St{constructor(){super(),dt.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","k")}};window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=el,window.customElements.define("md-link",el));var tl=class extends St{constructor(){super(),dt.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-image")||(window.MarkdownImageButtonElement=tl,window.customElements.define("md-image",tl));var nl=class extends St{constructor(){super(),dt.set(this,{prefix:"- ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","8"),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=nl,window.customElements.define("md-unordered-list",nl));var il=class extends St{constructor(){super(),dt.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","7"),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=il,window.customElements.define("md-ordered-list",il));var rl=class extends St{constructor(){super(),dt.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","L")}};window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=rl,window.customElements.define("md-task-list",rl));var ol=class extends St{constructor(){super(),dt.set(this,{prefix:"@",prefixSpace:!0})}};window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=ol,window.customElements.define("md-mention",ol));var al=class extends St{constructor(){super(),dt.set(this,{prefix:"#",prefixSpace:!0})}};window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=al,window.customElements.define("md-ref",al));var sl=class extends St{constructor(){super(),dt.set(this,{prefix:"~~",suffix:"~~",trimFirst:!0})}};window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=sl,window.customElements.define("md-strikethrough",sl));var ul=navigator.userAgent.match(/Macintosh/)?"Meta":"Control",Ha=class extends HTMLElement{constructor(){super()}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",ll);const e=yy.bind(null,this);this.field&&(this.field.addEventListener("keydown",e),sa.set(this,e)),this.setAttribute("tabindex","0"),this.addEventListener("focus",vy,{once:!0})}disconnectedCallback(){const e=sa.get(this);e&&this.field&&(this.field.removeEventListener("keydown",e),sa.delete(this)),this.removeEventListener("keydown",ll)}get field(){const e=this.getAttribute("for");if(!e)return null;const t="getRootNode"in this?this.getRootNode():document;let n;return(t instanceof Document||t instanceof ShadowRoot)&&(n=t.getElementById(e)),n instanceof HTMLTextAreaElement?n:null}};function vy({target:e}){if(!(e instanceof Element))return;e.removeAttribute("tabindex");let t="0";for(const n of dd(e))n.setAttribute("tabindex",t),t==="0"&&(n.focus(),t="-1")}function ll(e){const t=e.key;if(t!=="ArrowRight"&&t!=="ArrowLeft"&&t!=="Home"&&t!=="End")return;const n=e.currentTarget;if(!(n instanceof HTMLElement))return;const i=dd(n),r=i.indexOf(e.target),s=i.length;if(r===-1)return;let o=0;t==="ArrowLeft"&&(o=r-1),t==="ArrowRight"&&(o=r+1),t==="End"&&(o=s-1),o<0&&(o=s-1),o>s-1&&(o=0);for(let a=0;a<s;a+=1)i[a].setAttribute("tabindex",a===o?"0":"-1");e.preventDefault(),i[o].focus()}var sa=new WeakMap;function Ey(e){return e.hasAttribute("hotkey-requires-shift")&&e.getAttribute("hotkey-requires-shift")!=="false"}function _y(e,t,n){for(const i of e.querySelectorAll("[hotkey]"))if(i.getAttribute("hotkey")===t&&(!Ey(i)||n))return i;return null}function yy(e,t){if(t.metaKey&&ul==="Meta"||t.ctrlKey&&ul==="Control"){const n=t.shiftKey?t.key.toUpperCase():t.key,i=_y(e,n,t.shiftKey);i&&(i.click(),t.preventDefault())}}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=Ha,window.customElements.define("markdown-toolbar",Ha));function ja(e){return e.trim().split(`
`).length>1}function cl(e,t){return Array(t+1).join(e)}function by(e,t){let n=t;for(;e[n]&&e[n-1]!=null&&!e[n-1].match(/\s/);)n--;return n}function hd(e,t,n){let i=t;const r=n?/\n/:/\s/;for(;e[i]&&!e[i].match(r);)i++;return i}var Pn=null;function Ay(e,{text:t,selectionStart:n,selectionEnd:i}){const r=e.selectionStart,s=e.value.slice(0,r),o=e.value.slice(e.selectionEnd);if(Pn===null||Pn===!0){e.contentEditable="true";try{Pn=document.execCommand("insertText",!1,t)}catch{Pn=!1}e.contentEditable="false"}if(Pn&&!e.value.slice(0,e.selectionStart).endsWith(t)&&(Pn=!1),!Pn){try{document.execCommand("ms-beginUndoUnit")}catch{}e.value=s+t+o;try{document.execCommand("ms-endUndoUnit")}catch{}e.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}n!=null&&i!=null?e.setSelectionRange(n,i):e.setSelectionRange(r,e.selectionEnd)}function Ty(e,t){const n=e.value.slice(e.selectionStart,e.selectionEnd);let i;t.orderedList?i=xy(e):t.multiline&&ja(n)?i=Dy(e,t):i=wy(e,t),Ay(e,i)}function Sy(e,t,n,i=!1){if(e.selectionStart===e.selectionEnd)e.selectionStart=by(e.value,e.selectionStart),e.selectionEnd=hd(e.value,e.selectionEnd,i);else{const r=e.selectionStart-t.length,s=e.selectionEnd+n.length,o=e.value.slice(r,e.selectionStart)===t,a=e.value.slice(e.selectionEnd,s)===n;o&&a&&(e.selectionStart=r,e.selectionEnd=s)}return e.value.slice(e.selectionStart,e.selectionEnd)}function As(e){const t=e.value.slice(0,e.selectionStart),n=e.value.slice(e.selectionEnd),i=t.match(/\n*$/),r=n.match(/^\n*/),s=i?i[0].length:0,o=r?r[0].length:0;let a,u;return t.match(/\S/)&&s<2&&(a=cl(`
`,2-s)),n.match(/\S/)&&o<2&&(u=cl(`
`,2-o)),a==null&&(a=""),u==null&&(u=""),{newlinesToAppend:a,newlinesToPrepend:u}}function wy(e,t){let n,i;const{prefix:r,suffix:s,blockPrefix:o,blockSuffix:a,replaceNext:u,prefixSpace:l,scanFor:c,surroundWithNewlines:f}=t,d=e.selectionStart,p=e.selectionEnd;let m=e.value.slice(e.selectionStart,e.selectionEnd),h=ja(m)&&o.length>0?`${o}
`:r,v=ja(m)&&a.length>0?`
${a}`:s;if(l){const E=e.value[e.selectionStart-1];e.selectionStart!==0&&E!=null&&!E.match(/\s/)&&(h=` ${h}`)}m=Sy(e,h,v,t.multiline);let _=e.selectionStart,y=e.selectionEnd;const g=u.length>0&&v.indexOf(u)>-1&&m.length>0;if(f){const E=As(e);n=E.newlinesToAppend,i=E.newlinesToPrepend,h=n+r,v+=i}if(m.startsWith(h)&&m.endsWith(v)){const E=m.slice(h.length,m.length-v.length);if(d===p){let b=d-h.length;b=Math.max(b,_),b=Math.min(b,_+E.length),_=y=b}else y=_+E.length;return{text:E,selectionStart:_,selectionEnd:y}}else if(g)if(c.length>0&&m.match(c)){v=v.replace(u,m);const E=h+v;return _=y=_+h.length,{text:E,selectionStart:_,selectionEnd:y}}else{const E=h+m+v;return _=_+h.length+m.length+v.indexOf(u),y=_+u.length,{text:E,selectionStart:_,selectionEnd:y}}else{let E=h+m+v;_=d+h.length,y=p+h.length;const b=m.match(/^\s*|\s*$/g);if(t.trimFirst&&b){const T=b[0]||"",A=b[1]||"";E=T+h+m.trim()+v+A,_+=T.length,y-=A.length}return{text:E,selectionStart:_,selectionEnd:y}}}function Dy(e,t){const{prefix:n,suffix:i,surroundWithNewlines:r}=t;let s=e.value.slice(e.selectionStart,e.selectionEnd),o=e.selectionStart,a=e.selectionEnd;const u=s.split(`
`);if(u.every(c=>c.startsWith(n)&&c.endsWith(i)))s=u.map(c=>c.slice(n.length,c.length-i.length)).join(`
`),a=o+s.length;else if(s=u.map(c=>n+c+i).join(`
`),r){const{newlinesToAppend:c,newlinesToPrepend:f}=As(e);o+=c.length,a=o+s.length,s=c+s+f}return{text:s,selectionStart:o,selectionEnd:a}}function xy(e){const t=/^\d+\.\s+/,n=e.selectionStart===e.selectionEnd;let i,r,s=e.value.slice(e.selectionStart,e.selectionEnd),o=s,a=s.split(`
`),u,l;if(n){const d=e.value.slice(0,e.selectionStart).split(/\n/);u=e.selectionStart-d[d.length-1].length,l=hd(e.value,e.selectionStart,!0),o=e.value.slice(u,l)}const c=o.split(`
`);if(c.every(d=>t.test(d))){if(a=c.map(d=>d.replace(t,"")),s=a.join(`
`),n&&u&&l){const d=c[0].length-a[0].length;r=i=e.selectionStart-d,e.selectionStart=u,e.selectionEnd=l}}else{a=Cy(a),s=a.join(`
`);const{newlinesToAppend:d,newlinesToPrepend:p}=As(e);r=e.selectionStart+d.length,i=r+s.length,n&&(r=i),s=d+s+p}return{text:s,selectionStart:r,selectionEnd:i}}function Cy(e){let t,n,i;const r=[];for(i=t=0,n=e.length;t<n;i=++t){const s=e[i];r.push(`${i+1}. ${s}`)}return r}function dl(e,t){const n=e.closest("markdown-toolbar");if(!(n instanceof Ha))return;const r=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1}),t),s=n.field;s&&(s.focus(),Ty(s,r))}/*! @license DOMPurify 2.4.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.5/LICENSE */function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}function Ua(e,t){return Ua=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Ua(e,t)}function Iy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qr(e,t,n){return Iy()?Qr=Reflect.construct:Qr=function(r,s,o){var a=[null];a.push.apply(a,s);var u=Function.bind.apply(r,a),l=new u;return o&&Ua(l,o.prototype),l},Qr.apply(null,arguments)}function Pt(e){return My(e)||Ly(e)||Ry(e)||Fy()}function My(e){if(Array.isArray(e))return $a(e)}function Ly(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ry(e,t){if(e){if(typeof e=="string")return $a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $a(e,t)}}function $a(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Fy(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oy=Object.hasOwnProperty,hl=Object.setPrototypeOf,ky=Object.isFrozen,Py=Object.getPrototypeOf,By=Object.getOwnPropertyDescriptor,ht=Object.freeze,jt=Object.seal,Ny=Object.create,fd=typeof Reflect<"u"&&Reflect,Ao=fd.apply,Ga=fd.construct;Ao||(Ao=function(t,n,i){return t.apply(n,i)});ht||(ht=function(t){return t});jt||(jt=function(t){return t});Ga||(Ga=function(t,n){return Qr(t,Pt(n))});var zy=Ft(Array.prototype.forEach),fl=Ft(Array.prototype.pop),Qi=Ft(Array.prototype.push),eo=Ft(String.prototype.toLowerCase),ua=Ft(String.prototype.toString),Yy=Ft(String.prototype.match),Ot=Ft(String.prototype.replace),Vy=Ft(String.prototype.indexOf),Hy=Ft(String.prototype.trim),st=Ft(RegExp.prototype.test),la=jy(TypeError);function Ft(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Ao(e,t,i)}}function jy(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Ga(e,n)}}function be(e,t,n){n=n||eo,hl&&hl(e,null);for(var i=t.length;i--;){var r=t[i];if(typeof r=="string"){var s=n(r);s!==r&&(ky(t)||(t[i]=s),r=s)}e[r]=!0}return e}function Bn(e){var t=Ny(null),n;for(n in e)Ao(Oy,e,[n])===!0&&(t[n]=e[n]);return t}function Hr(e,t){for(;e!==null;){var n=By(e,t);if(n){if(n.get)return Ft(n.get);if(typeof n.value=="function")return Ft(n.value)}e=Py(e)}function i(r){return console.warn("fallback value for",r),null}return i}var pl=ht(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ca=ht(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),da=ht(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Uy=ht(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ha=ht(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),$y=ht(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ml=ht(["#text"]),gl=ht(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),fa=ht(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),vl=ht(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),jr=ht(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gy=jt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Wy=jt(/<%[\w\W]*|[\w\W]*%>/gm),qy=jt(/\${[\w\W]*}/gm),Ky=jt(/^data-[\-\w.\u00B7-\uFFFF]/),Xy=jt(/^aria-[\-\w]+$/),Jy=jt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Zy=jt(/^(?:\w+script|data):/i),Qy=jt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eb=jt(/^html$/i),tb=function(){return typeof window>"u"?null:window},nb=function(t,n){if(Dn(t)!=="object"||typeof t.createPolicy!="function")return null;var i=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(i=n.currentScript.getAttribute(r));var s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function pd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tb(),t=function(B){return pd(B)};if(t.version="2.4.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,i=e.document,r=e.DocumentFragment,s=e.HTMLTemplateElement,o=e.Node,a=e.Element,u=e.NodeFilter,l=e.NamedNodeMap,c=l===void 0?e.NamedNodeMap||e.MozNamedAttrMap:l,f=e.HTMLFormElement,d=e.DOMParser,p=e.trustedTypes,m=a.prototype,h=Hr(m,"cloneNode"),v=Hr(m,"nextSibling"),_=Hr(m,"childNodes"),y=Hr(m,"parentNode");if(typeof s=="function"){var g=i.createElement("template");g.content&&g.content.ownerDocument&&(i=g.content.ownerDocument)}var E=nb(p,n),b=E?E.createHTML(""):"",T=i,A=T.implementation,S=T.createNodeIterator,M=T.createDocumentFragment,R=T.getElementsByTagName,F=n.importNode,I={};try{I=Bn(i).documentMode?i.documentMode:{}}catch{}var w={};t.isSupported=typeof y=="function"&&A&&typeof A.createHTMLDocument<"u"&&I!==9;var x=Gy,C=Wy,D=qy,L=Ky,O=Xy,k=Zy,P=Qy,z=Jy,H=null,X=be({},[].concat(Pt(pl),Pt(ca),Pt(da),Pt(ha),Pt(ml))),j=null,ue=be({},[].concat(Pt(gl),Pt(fa),Pt(vl),Pt(jr))),G=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),J=null,te=null,oe=!0,ie=!0,De=!1,Fe=!0,nt=!1,it=!1,tn=!1,ii=!1,mn=!1,ri=!1,oi=!1,ji=!0,Ui=!1,$i="user-content-",ai=!0,Fn=!1,gn={},vn=null,Cr=be({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ir=null,si=be({},["audio","video","img","source","image","track"]),Gi=null,ui=be({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nn="http://www.w3.org/1998/Math/MathML",En="http://www.w3.org/2000/svg",vt="http://www.w3.org/1999/xhtml",_n=vt,Wi=!1,li=null,Mr=be({},[nn,En,vt],ua),rn,Go=["application/xhtml+xml","text/html"],Wo="text/html",Ue,Et=null,V=i.createElement("form"),N=function(B){return B instanceof RegExp||B instanceof Function},Y=function(B){Et&&Et===B||((!B||Dn(B)!=="object")&&(B={}),B=Bn(B),rn=Go.indexOf(B.PARSER_MEDIA_TYPE)===-1?rn=Wo:rn=B.PARSER_MEDIA_TYPE,Ue=rn==="application/xhtml+xml"?ua:eo,H="ALLOWED_TAGS"in B?be({},B.ALLOWED_TAGS,Ue):X,j="ALLOWED_ATTR"in B?be({},B.ALLOWED_ATTR,Ue):ue,li="ALLOWED_NAMESPACES"in B?be({},B.ALLOWED_NAMESPACES,ua):Mr,Gi="ADD_URI_SAFE_ATTR"in B?be(Bn(ui),B.ADD_URI_SAFE_ATTR,Ue):ui,Ir="ADD_DATA_URI_TAGS"in B?be(Bn(si),B.ADD_DATA_URI_TAGS,Ue):si,vn="FORBID_CONTENTS"in B?be({},B.FORBID_CONTENTS,Ue):Cr,J="FORBID_TAGS"in B?be({},B.FORBID_TAGS,Ue):{},te="FORBID_ATTR"in B?be({},B.FORBID_ATTR,Ue):{},gn="USE_PROFILES"in B?B.USE_PROFILES:!1,oe=B.ALLOW_ARIA_ATTR!==!1,ie=B.ALLOW_DATA_ATTR!==!1,De=B.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nt=B.SAFE_FOR_TEMPLATES||!1,it=B.WHOLE_DOCUMENT||!1,mn=B.RETURN_DOM||!1,ri=B.RETURN_DOM_FRAGMENT||!1,oi=B.RETURN_TRUSTED_TYPE||!1,ii=B.FORCE_BODY||!1,ji=B.SANITIZE_DOM!==!1,Ui=B.SANITIZE_NAMED_PROPS||!1,ai=B.KEEP_CONTENT!==!1,Fn=B.IN_PLACE||!1,z=B.ALLOWED_URI_REGEXP||z,_n=B.NAMESPACE||vt,G=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&N(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&N(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(G.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nt&&(ie=!1),ri&&(mn=!0),gn&&(H=be({},Pt(ml)),j=[],gn.html===!0&&(be(H,pl),be(j,gl)),gn.svg===!0&&(be(H,ca),be(j,fa),be(j,jr)),gn.svgFilters===!0&&(be(H,da),be(j,fa),be(j,jr)),gn.mathMl===!0&&(be(H,ha),be(j,vl),be(j,jr))),B.ADD_TAGS&&(H===X&&(H=Bn(H)),be(H,B.ADD_TAGS,Ue)),B.ADD_ATTR&&(j===ue&&(j=Bn(j)),be(j,B.ADD_ATTR,Ue)),B.ADD_URI_SAFE_ATTR&&be(Gi,B.ADD_URI_SAFE_ATTR,Ue),B.FORBID_CONTENTS&&(vn===Cr&&(vn=Bn(vn)),be(vn,B.FORBID_CONTENTS,Ue)),ai&&(H["#text"]=!0),it&&be(H,["html","head","body"]),H.table&&(be(H,["tbody"]),delete J.tbody),ht&&ht(B),Et=B)},U=be({},["mi","mo","mn","ms","mtext"]),q=be({},["foreignobject","desc","title","annotation-xml"]),K=be({},["title","style","font","a","script"]),Z=be({},ca);be(Z,da),be(Z,Uy);var ne=be({},ha);be(ne,$y);var se=function(B){var W=y(B);(!W||!W.tagName)&&(W={namespaceURI:_n,tagName:"template"});var ee=eo(B.tagName),ye=eo(W.tagName);return li[B.namespaceURI]?B.namespaceURI===En?W.namespaceURI===vt?ee==="svg":W.namespaceURI===nn?ee==="svg"&&(ye==="annotation-xml"||U[ye]):!!Z[ee]:B.namespaceURI===nn?W.namespaceURI===vt?ee==="math":W.namespaceURI===En?ee==="math"&&q[ye]:!!ne[ee]:B.namespaceURI===vt?W.namespaceURI===En&&!q[ye]||W.namespaceURI===nn&&!U[ye]?!1:!ne[ee]&&(K[ee]||!Z[ee]):!!(rn==="application/xhtml+xml"&&li[B.namespaceURI]):!1},ae=function(B){Qi(t.removed,{element:B});try{B.parentNode.removeChild(B)}catch{try{B.outerHTML=b}catch{B.remove()}}},ce=function(B,W){try{Qi(t.removed,{attribute:W.getAttributeNode(B),from:W})}catch{Qi(t.removed,{attribute:null,from:W})}if(W.removeAttribute(B),B==="is"&&!j[B])if(mn||ri)try{ae(W)}catch{}else try{W.setAttribute(B,"")}catch{}},ve=function(B){var W,ee;if(ii)B="<remove></remove>"+B;else{var ye=Yy(B,/^[\r\n\t ]+/);ee=ye&&ye[0]}rn==="application/xhtml+xml"&&_n===vt&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");var Qe=E?E.createHTML(B):B;if(_n===vt)try{W=new d().parseFromString(Qe,rn)}catch{}if(!W||!W.documentElement){W=A.createDocument(_n,"template",null);try{W.documentElement.innerHTML=Wi?b:Qe}catch{}}var $e=W.body||W.documentElement;return B&&ee&&$e.insertBefore(i.createTextNode(ee),$e.childNodes[0]||null),_n===vt?R.call(W,it?"html":"body")[0]:it?W.documentElement:$e},Te=function(B){return S.call(B.ownerDocument||B,B,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Oe=function(B){return B instanceof f&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof c)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},ke=function(B){return Dn(o)==="object"?B instanceof o:B&&Dn(B)==="object"&&typeof B.nodeType=="number"&&typeof B.nodeName=="string"},ze=function(B,W,ee){w[B]&&zy(w[B],function(ye){ye.call(t,W,ee,Et)})},Ut=function(B){var W;if(ze("beforeSanitizeElements",B,null),Oe(B)||st(/[\u0080-\uFFFF]/,B.nodeName))return ae(B),!0;var ee=Ue(B.nodeName);if(ze("uponSanitizeElement",B,{tagName:ee,allowedTags:H}),B.hasChildNodes()&&!ke(B.firstElementChild)&&(!ke(B.content)||!ke(B.content.firstElementChild))&&st(/<[/\w]/g,B.innerHTML)&&st(/<[/\w]/g,B.textContent)||ee==="select"&&st(/<template/i,B.innerHTML))return ae(B),!0;if(!H[ee]||J[ee]){if(!J[ee]&&on(ee)&&(G.tagNameCheck instanceof RegExp&&st(G.tagNameCheck,ee)||G.tagNameCheck instanceof Function&&G.tagNameCheck(ee)))return!1;if(ai&&!vn[ee]){var ye=y(B)||B.parentNode,Qe=_(B)||B.childNodes;if(Qe&&ye)for(var $e=Qe.length,Pe=$e-1;Pe>=0;--Pe)ye.insertBefore(h(Qe[Pe],!0),v(B))}return ae(B),!0}return B instanceof a&&!se(B)||(ee==="noscript"||ee==="noembed")&&st(/<\/no(script|embed)/i,B.innerHTML)?(ae(B),!0):(nt&&B.nodeType===3&&(W=B.textContent,W=Ot(W,x," "),W=Ot(W,C," "),W=Ot(W,D," "),B.textContent!==W&&(Qi(t.removed,{element:B.cloneNode()}),B.textContent=W)),ze("afterSanitizeElements",B,null),!1)},wt=function(B,W,ee){if(ji&&(W==="id"||W==="name")&&(ee in i||ee in V))return!1;if(!(ie&&!te[W]&&st(L,W))){if(!(oe&&st(O,W))){if(!j[W]||te[W]){if(!(on(B)&&(G.tagNameCheck instanceof RegExp&&st(G.tagNameCheck,B)||G.tagNameCheck instanceof Function&&G.tagNameCheck(B))&&(G.attributeNameCheck instanceof RegExp&&st(G.attributeNameCheck,W)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(W))||W==="is"&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&st(G.tagNameCheck,ee)||G.tagNameCheck instanceof Function&&G.tagNameCheck(ee))))return!1}else if(!Gi[W]){if(!st(z,Ot(ee,P,""))){if(!((W==="src"||W==="xlink:href"||W==="href")&&B!=="script"&&Vy(ee,"data:")===0&&Ir[B])){if(!(De&&!st(k,Ot(ee,P,"")))){if(ee)return!1}}}}}}return!0},on=function(B){return B.indexOf("-")>0},$t=function(B){var W,ee,ye,Qe;ze("beforeSanitizeAttributes",B,null);var $e=B.attributes;if($e){var Pe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(Qe=$e.length;Qe--;){W=$e[Qe];var qi=W,Ce=qi.name,yn=qi.namespaceURI;if(ee=Ce==="value"?W.value:Hy(W.value),ye=Ue(Ce),Pe.attrName=ye,Pe.attrValue=ee,Pe.keepAttr=!0,Pe.forceKeepAttr=void 0,ze("uponSanitizeAttribute",B,Pe),ee=Pe.attrValue,!Pe.forceKeepAttr&&(ce(Ce,B),!!Pe.keepAttr)){if(!Fe&&st(/\/>/i,ee)){ce(Ce,B);continue}nt&&(ee=Ot(ee,x," "),ee=Ot(ee,C," "),ee=Ot(ee,D," "));var Ki=Ue(B.nodeName);if(wt(Ki,ye,ee)){if(Ui&&(ye==="id"||ye==="name")&&(ce(Ce,B),ee=$i+ee),E&&Dn(p)==="object"&&typeof p.getAttributeType=="function"&&!yn)switch(p.getAttributeType(Ki,ye)){case"TrustedHTML":ee=E.createHTML(ee);break;case"TrustedScriptURL":ee=E.createScriptURL(ee);break}try{yn?B.setAttributeNS(yn,Ce,ee):B.setAttribute(Ce,ee),fl(t.removed)}catch{}}}}ze("afterSanitizeAttributes",B,null)}},ci=function le(B){var W,ee=Te(B);for(ze("beforeSanitizeShadowDOM",B,null);W=ee.nextNode();)ze("uponSanitizeShadowNode",W,null),!Ut(W)&&(W.content instanceof r&&le(W.content),$t(W));ze("afterSanitizeShadowDOM",B,null)};return t.sanitize=function(le){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W,ee,ye,Qe,$e;if(Wi=!le,Wi&&(le="<!-->"),typeof le!="string"&&!ke(le)){if(typeof le.toString!="function")throw la("toString is not a function");if(le=le.toString(),typeof le!="string")throw la("dirty is not a string, aborting")}if(!t.isSupported){if(Dn(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof le=="string")return e.toStaticHTML(le);if(ke(le))return e.toStaticHTML(le.outerHTML)}return le}if(tn||Y(B),t.removed=[],typeof le=="string"&&(Fn=!1),Fn){if(le.nodeName){var Pe=Ue(le.nodeName);if(!H[Pe]||J[Pe])throw la("root node is forbidden and cannot be sanitized in-place")}}else if(le instanceof o)W=ve("<!---->"),ee=W.ownerDocument.importNode(le,!0),ee.nodeType===1&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?W=ee:W.appendChild(ee);else{if(!mn&&!nt&&!it&&le.indexOf("<")===-1)return E&&oi?E.createHTML(le):le;if(W=ve(le),!W)return mn?null:oi?b:""}W&&ii&&ae(W.firstChild);for(var qi=Te(Fn?le:W);ye=qi.nextNode();)ye.nodeType===3&&ye===Qe||Ut(ye)||(ye.content instanceof r&&ci(ye.content),$t(ye),Qe=ye);if(Qe=null,Fn)return le;if(mn){if(ri)for($e=M.call(W.ownerDocument);W.firstChild;)$e.appendChild(W.firstChild);else $e=W;return(j.shadowroot||j.shadowrootmod)&&($e=F.call(n,$e,!0)),$e}var Ce=it?W.outerHTML:W.innerHTML;return it&&H["!doctype"]&&W.ownerDocument&&W.ownerDocument.doctype&&W.ownerDocument.doctype.name&&st(eb,W.ownerDocument.doctype.name)&&(Ce="<!DOCTYPE "+W.ownerDocument.doctype.name+`>
`+Ce),nt&&(Ce=Ot(Ce,x," "),Ce=Ot(Ce,C," "),Ce=Ot(Ce,D," ")),E&&oi?E.createHTML(Ce):Ce},t.setConfig=function(le){Y(le),tn=!0},t.clearConfig=function(){Et=null,tn=!1},t.isValidAttribute=function(le,B,W){Et||Y({});var ee=Ue(le),ye=Ue(B);return wt(ee,ye,W)},t.addHook=function(le,B){typeof B=="function"&&(w[le]=w[le]||[],Qi(w[le],B))},t.removeHook=function(le){if(w[le])return fl(w[le])},t.removeHooks=function(le){w[le]&&(w[le]=[])},t.removeAllHooks=function(){w={}},t}var ib=pd();function md(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var ni=md();function rb(e){ni=e}var gd=/[&<>"']/,ob=new RegExp(gd.source,"g"),vd=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ab=new RegExp(vd.source,"g"),sb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},El=e=>sb[e];function ot(e,t){if(t){if(gd.test(e))return e.replace(ob,El)}else if(vd.test(e))return e.replace(ab,El);return e}var ub=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ed(e){return e.replace(ub,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var lb=/(^|[^\[])\^/g;function Le(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(i,r)=>(r=r.source||r,r=r.replace(lb,"$1"),e=e.replace(i,r),n),getRegex:()=>new RegExp(e,t)};return n}var cb=/[^\w:]/g,db=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _l(e,t,n){if(e){let i;try{i=decodeURIComponent(Ed(n)).replace(cb,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}t&&!db.test(n)&&(n=mb(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}var Ur={},hb=/^[^:]+:\/*[^/]*$/,fb=/^([^:]+:)[\s\S]*$/,pb=/^([^:]+:\/*[^/]*)[\s\S]*$/;function mb(e,t){Ur[" "+e]||(hb.test(e)?Ur[" "+e]=e+"/":Ur[" "+e]=to(e,"/",!0)),e=Ur[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(fb,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(pb,"$1")+t:e+t}var To={exec:function(){}};function yl(e,t){const n=e.replace(/\|/g,(s,o,a)=>{let u=!1,l=o;for(;--l>=0&&a[l]==="\\";)u=!u;return u?"|":" |"}),i=n.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function to(e,t,n){const i=e.length;if(i===0)return"";let r=0;for(;r<i;){const s=e.charAt(i-r-1);if(s===t&&!n)r++;else if(s!==t&&n)r++;else break}return e.slice(0,i-r)}function gb(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}function vb(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function bl(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function Al(e,t,n,i){const r=t.href,s=t.title?ot(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:n,href:r,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:s,text:ot(o)}}function Eb(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const i=n[1];return t.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[o]=s;return o.length>=i.length?r.slice(i.length):r}).join(`
`)}var Ts=class{constructor(e){this.options=e||ni}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:to(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=Eb(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=to(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:r,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,s,o,a,u,l,c,f,d,p,m=t[1].trim();const h=m.length>1,v={type:"list",raw:"",ordered:h,start:h?+m.slice(0,-1):"",loose:!1,items:[]};m=h?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=h?m:"[*+-]");const _=new RegExp(`^( {0,3}${m})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(t=_.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),l=t[2].split(`
`,1)[0].replace(/^\t+/,g=>" ".repeat(3*g.length)),c=e.split(`
`,1)[0],this.options.pedantic?(s=2,d=l.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,d=l.slice(s),s+=t[1].length),a=!1,!l&&/^ *$/.test(c)&&(n+=c+`
`,e=e.substring(c.length+1),p=!0),!p){const g=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),E=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),b=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(f=e.split(`
`,1)[0],c=f,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(b.test(c)||T.test(c)||g.test(c)||E.test(e)));){if(c.search(/[^ ]/)>=s||!c.trim())d+=`
`+c.slice(s);else{if(a||l.search(/[^ ]/)>=4||b.test(l)||T.test(l)||E.test(l))break;d+=`
`+c}!a&&!c.trim()&&(a=!0),n+=f+`
`,e=e.substring(f.length+1),l=c.slice(s)}}v.loose||(u?v.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(d),i&&(r=i[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:d}),v.raw+=n}v.items[v.items.length-1].raw=n.trimRight(),v.items[v.items.length-1].text=d.trimRight(),v.raw=v.raw.trimRight();const y=v.items.length;for(o=0;o<y;o++)if(this.lexer.state.top=!1,v.items[o].tokens=this.lexer.blockTokens(v.items[o].text,[]),!v.loose){const g=v.items[o].tokens.filter(b=>b.type==="space"),E=g.length>0&&g.some(b=>/\n.*\n/.test(b.raw));v.loose=E}if(v.loose)for(o=0;o<y;o++)v.items[o].loose=!0;return v}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):ot(t[0]);n.type="paragraph",n.text=i,n.tokens=this.lexer.inline(i)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:yl(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let i=n.align.length,r,s,o,a;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.rows.length,r=0;r<i;r++)n.rows[r]=yl(n.rows[r],n.header.length).map(u=>({text:u}));for(i=n.header.length,s=0;s<i;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(i=n.rows.length,s=0;s<i;s++)for(a=n.rows[s],o=0;o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ot(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ot(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=to(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=gb(t[2],"()");if(s>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],r=s[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),Al(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Al(n,i,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const s=i[0].length-1;let o,a,u=s,l=0;const c=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(i=c.exec(t))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=o.length,i[3]||i[4]){u+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){l+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+l);const f=e.slice(0,s+i.index+(i[0].length-o.length)+a);if(Math.min(s,a)%2){const p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}const d=f.slice(2,-2);return{type:"strong",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const i=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return i&&r&&(n=n.substring(1,n.length-1)),n=ot(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let i,r;return n[2]==="@"?(i=ot(this.options.mangle?t(n[1]):n[1]),r="mailto:"+i):(i=ot(n[1]),r=i),{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let i,r;if(n[2]==="@")i=ot(this.options.mangle?t(n[0]):n[0]),r="mailto:"+i;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(s!==n[0]);i=ot(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):ot(n[0]):n[0]:i=ot(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}},he={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:To,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};he._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;he._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;he.def=Le(he.def).replace("label",he._label).replace("title",he._title).getRegex();he.bullet=/(?:[*+-]|\d{1,9}[.)])/;he.listItemStart=Le(/^( *)(bull) */).replace("bull",he.bullet).getRegex();he.list=Le(he.list).replace(/bull/g,he.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+he.def.source+")").getRegex();he._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";he._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;he.html=Le(he.html,"i").replace("comment",he._comment).replace("tag",he._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();he.paragraph=Le(he._paragraph).replace("hr",he.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",he._tag).getRegex();he.blockquote=Le(he.blockquote).replace("paragraph",he.paragraph).getRegex();he.normal={...he};he.gfm={...he.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};he.gfm.table=Le(he.gfm.table).replace("hr",he.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",he._tag).getRegex();he.gfm.paragraph=Le(he._paragraph).replace("hr",he.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",he.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",he._tag).getRegex();he.pedantic={...he.normal,html:Le(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",he._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:To,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Le(he.normal._paragraph).replace("hr",he.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",he.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};var re={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:To,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:To,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};re._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";re.punctuation=Le(re.punctuation).replace(/punctuation/g,re._punctuation).getRegex();re.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;re.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;re._comment=Le(he._comment).replace("(?:-->|$)","-->").getRegex();re.emStrong.lDelim=Le(re.emStrong.lDelim).replace(/punct/g,re._punctuation).getRegex();re.emStrong.rDelimAst=Le(re.emStrong.rDelimAst,"g").replace(/punct/g,re._punctuation).getRegex();re.emStrong.rDelimUnd=Le(re.emStrong.rDelimUnd,"g").replace(/punct/g,re._punctuation).getRegex();re._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;re._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;re._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;re.autolink=Le(re.autolink).replace("scheme",re._scheme).replace("email",re._email).getRegex();re._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;re.tag=Le(re.tag).replace("comment",re._comment).replace("attribute",re._attribute).getRegex();re._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;re._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;re._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;re.link=Le(re.link).replace("label",re._label).replace("href",re._href).replace("title",re._title).getRegex();re.reflink=Le(re.reflink).replace("label",re._label).replace("ref",he._label).getRegex();re.nolink=Le(re.nolink).replace("ref",he._label).getRegex();re.reflinkSearch=Le(re.reflinkSearch,"g").replace("reflink",re.reflink).replace("nolink",re.nolink).getRegex();re.normal={...re};re.pedantic={...re.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Le(/^!?\[(label)\]\((.*?)\)/).replace("label",re._label).getRegex(),reflink:Le(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",re._label).getRegex()};re.gfm={...re.normal,escape:Le(re.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};re.gfm.url=Le(re.gfm.url,"i").replace("email",re.gfm._extended_email).getRegex();re.breaks={...re.gfm,br:Le(re.br).replace("{2,}","*").getRegex(),text:Le(re.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function _b(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Tl(e){let t="",n,i;const r=e.length;for(n=0;n<r;n++)i=e.charCodeAt(n),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t}var Kn=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ni,this.options.tokenizer=this.options.tokenizer||new Ts,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:he.normal,inline:re.normal};this.options.pedantic?(t.block=he.pedantic,t.inline=re.pedantic):this.options.gfm&&(t.block=he.gfm,this.options.breaks?t.inline=re.breaks:t.inline=re.gfm),this.tokenizer.rules=t}static get rules(){return{block:he,inline:re}}static lex(e,t){return new Kn(t).lex(e)}static lexInline(e,t){return new Kn(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,a,u)=>a+"    ".repeat(u.length));let n,i,r,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(l){u=l.call({lexer:this},a),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(r=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){i=t[t.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),s=r.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,r,s=e,o,a,u;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)l.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+bl("a",o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+bl("a",o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,o.index+o[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(l=>(n=l.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,s,u)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,Tl)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Tl))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let l=1/0;const c=e.slice(1);let f;this.options.extensions.startInline.forEach(function(d){f=d.call({lexer:this},c),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(n=this.tokenizer.inlineText(r,_b)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),a=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return t}},Ss=class{constructor(e){this.options=e||ni}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+ot(i)+'">'+(n?e:ot(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:ot(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,i){if(this.options.headerIds){const r=this.options.headerPrefix+i.slug(n);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const i=t?"ol":"ul",r=t&&n!==1?' start="'+n+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=_l(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(e=_l(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}},_d=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},yd=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do i++,n=e+"-"+i;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},Xn=class{constructor(e){this.options=e||ni,this.options.renderer=this.options.renderer||new Ss,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _d,this.slugger=new yd}static parse(e,t){return new Xn(t).parse(e)}static parseInline(e,t){return new Xn(t).parseInline(e)}parse(e,t=!0){let n="",i,r,s,o,a,u,l,c,f,d,p,m,h,v,_,y,g,E,b;const T=e.length;for(i=0;i<T;i++){if(d=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(b=this.options.extensions.renderers[d.type].call({parser:this},d),b!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))){n+=b||"";continue}switch(d.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(d.tokens),d.depth,Ed(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(d.text,d.lang,d.escaped);continue}case"table":{for(c="",l="",o=d.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(d.header[r].tokens),{header:!0,align:d.align[r]});for(c+=this.renderer.tablerow(l),f="",o=d.rows.length,r=0;r<o;r++){for(u=d.rows[r],l="",a=u.length,s=0;s<a;s++)l+=this.renderer.tablecell(this.parseInline(u[s].tokens),{header:!1,align:d.align[s]});f+=this.renderer.tablerow(l)}n+=this.renderer.table(c,f);continue}case"blockquote":{f=this.parse(d.tokens),n+=this.renderer.blockquote(f);continue}case"list":{for(p=d.ordered,m=d.start,h=d.loose,o=d.items.length,f="",r=0;r<o;r++)_=d.items[r],y=_.checked,g=_.task,v="",_.task&&(E=this.renderer.checkbox(y),h?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=E+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=E+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:E}):v+=E),v+=this.parse(_.tokens,h),f+=this.renderer.listitem(v,g,y);n+=this.renderer.list(f,p,m);continue}case"html":{n+=this.renderer.html(d.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{for(f=d.tokens?this.parseInline(d.tokens):d.text;i+1<T&&e[i+1].type==="text";)d=e[++i],f+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);n+=t?this.renderer.paragraph(f):f;continue}default:{const A='Token with "'+d.type+'" type was not found.';if(this.options.silent){console.error(A);return}else throw new Error(A)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",i,r,s;const o=e.length;for(i=0;i<o;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(s=this.options.extensions.renderers[r.type].call({parser:this},r),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=s||"";continue}switch(r.type){case"escape":{n+=t.text(r.text);break}case"html":{n+=t.html(r.text);break}case"link":{n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{n+=t.image(r.href,r.title,r.text);break}case"strong":{n+=t.strong(this.parseInline(r.tokens,t));break}case"em":{n+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{n+=t.codespan(r.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(r.tokens,t));break}case"text":{n+=t.text(r.text);break}default:{const a='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}},Sa,Wa=(Sa=class{constructor(e){this.options=e||ni}preprocess(e){return e}postprocess(e){return e}},Ps(Sa,"passThroughHooks",new Set(["preprocess","postprocess"])),Sa);function yb(e,t,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+ot(i.message+"",!0)+"</pre>";if(t)return Promise.resolve(r);if(n){n(null,r);return}return r}if(t)return Promise.reject(i);if(n){n(i);return}throw i}}function bd(e,t){return(n,i,r)=>{typeof i=="function"&&(r=i,i=null);const s={...i};i={...fe.defaults,...s};const o=yb(i.silent,i.async,r);if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(vb(i),i.hooks&&(i.hooks.options=i),r){const a=i.highlight;let u;try{i.hooks&&(n=i.hooks.preprocess(n)),u=e(n,i)}catch(f){return o(f)}const l=function(f){let d;if(!f)try{i.walkTokens&&fe.walkTokens(u,i.walkTokens),d=t(u,i),i.hooks&&(d=i.hooks.postprocess(d))}catch(p){f=p}return i.highlight=a,f?o(f):r(null,d)};if(!a||a.length<3||(delete i.highlight,!u.length))return l();let c=0;fe.walkTokens(u,function(f){f.type==="code"&&(c++,setTimeout(()=>{a(f.text,f.lang,function(d,p){if(d)return l(d);p!=null&&p!==f.text&&(f.text=p,f.escaped=!0),c--,c===0&&l()})},0))}),c===0&&l();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(fe.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(o);try{i.hooks&&(n=i.hooks.preprocess(n));const a=e(n,i);i.walkTokens&&fe.walkTokens(a,i.walkTokens);let u=t(a,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(a){return o(a)}}}function fe(e,t,n){return bd(Kn.lex,Xn.parse)(e,t,n)}fe.options=fe.setOptions=function(e){return fe.defaults={...fe.defaults,...e},rb(fe.defaults),fe};fe.getDefaults=md;fe.defaults=ni;fe.use=function(...e){const t=fe.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const i={...n};if(i.async=fe.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const s=t.renderers[r.name];s?t.renderers[r.name]=function(...o){let a=r.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:t.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[r.level]?t[r.level].unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),i.extensions=t),n.renderer){const r=fe.defaults.renderer||new Ss;for(const s in n.renderer){const o=r[s];r[s]=(...a)=>{let u=n.renderer[s].apply(r,a);return u===!1&&(u=o.apply(r,a)),u}}i.renderer=r}if(n.tokenizer){const r=fe.defaults.tokenizer||new Ts;for(const s in n.tokenizer){const o=r[s];r[s]=(...a)=>{let u=n.tokenizer[s].apply(r,a);return u===!1&&(u=o.apply(r,a)),u}}i.tokenizer=r}if(n.hooks){const r=fe.defaults.hooks||new Wa;for(const s in n.hooks){const o=r[s];Wa.passThroughHooks.has(s)?r[s]=a=>{if(fe.defaults.async)return Promise.resolve(n.hooks[s].call(r,a)).then(l=>o.call(r,l));const u=n.hooks[s].call(r,a);return o.call(r,u)}:r[s]=(...a)=>{let u=n.hooks[s].apply(r,a);return u===!1&&(u=o.apply(r,a)),u}}i.hooks=r}if(n.walkTokens){const r=fe.defaults.walkTokens;i.walkTokens=function(s){let o=[];return o.push(n.walkTokens.call(this,s)),r&&(o=o.concat(r.call(this,s))),o}}fe.setOptions(i)})};fe.walkTokens=function(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(fe,i)),i.type){case"table":{for(const r of i.header)n=n.concat(fe.walkTokens(r.tokens,t));for(const r of i.rows)for(const s of r)n=n.concat(fe.walkTokens(s.tokens,t));break}case"list":{n=n.concat(fe.walkTokens(i.items,t));break}default:fe.defaults.extensions&&fe.defaults.extensions.childTokens&&fe.defaults.extensions.childTokens[i.type]?fe.defaults.extensions.childTokens[i.type].forEach(function(r){n=n.concat(fe.walkTokens(i[r],t))}):i.tokens&&(n=n.concat(fe.walkTokens(i.tokens,t)))}return n};fe.parseInline=bd(Kn.lexInline,Xn.parseInline);fe.Parser=Xn;fe.parser=Xn.parse;fe.Renderer=Ss;fe.TextRenderer=_d;fe.Lexer=Kn;fe.lexer=Kn.lex;fe.Tokenizer=Ts;fe.Slugger=yd;fe.Hooks=Wa;fe.parse=fe;fe.options;fe.setOptions;fe.use;fe.walkTokens;fe.parseInline;Xn.parse;Kn.lex;function no(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var Sl={space:/^\n+/,blockCode:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)(\n)(|[\s\S]*?\n)( {0,3}\1[~`]* *(?:\n+|$)|$)/,heading:/^#{1,6} [^\n]+(\n|$)/,lheading:/^[^\n]+\n {0,3}(=+|-+) *(\n+|$)/,hr:/^(([-_*]) *){3,}(\n+|$)/,list:/^( {0})((?:[*+-]|\d{1,9}\.)) [\s\S]+?(?:\n+(?! )(?!\1(?:[*+-]|\d{1,9}\.) )\n*|\s*$)/,blockquote:/^( {0,3}> ?([^\n]*)(?:\n|$))+/,html:/^ {0,3}(?:<(script|pre|style)[\s>][\s\S]*?(?:<\/\1>[^\n]*\n+|$)|<!--(?!-?>)[\s\S]*?-->[^\n]*(\n+|$)|<\/?(\w+)(?: +|\n|\/?>)[\s\S]*?(?:\n{2,}|$))/,paragraph:/^[^\n]+/},wl={strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,inlineCode:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,link:/^!?\[([\s\S]+)\]\(\s*([\s\S]+)(?:\s+([\s\S]+))?\s*\)/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/},Gt=(e,t,n)=>`<${e} class="mdhl-${n}">${t}</${e}>`,bb={codeInFences:(e,t)=>Gt("span",no(e),"codeInFences"),heading:(e,t,n)=>Gt("b",n(e.text,t),e.type),lheading:(e,t,n)=>Gt("b",n(e.text,t),"heading"),paragraph:(e,t,n)=>Gt("span",n(e.text,t),e.type),list:(e,t,n)=>{const i=e.text.split(`
`).map(r=>{const s=r.substr(0,1),o=r.substr(1),a=n(o,t);return`${Gt("span",s,"bullet")}${a}`}).join(`
`);return Gt("span",i,"list")},fences:(e,t)=>{const[,n,i,r,s,o]=e.cap,a=t.codeInFences(s,i);return`${n}${no(i)}${r}${a}${o}`},space:e=>e.text,text:e=>e.text,em:e=>Gt("i",e.text,e.type),strong:e=>Gt("b",e.text,e.type),defaultInlineRenderer:e=>Gt("span",e.text,e.type),defaultBlockRenderer:e=>Gt("span",no(e.text),e.type)};function Ad(e,t){let n="";for(;e;)if(!Object.keys(wl).some(i=>{const r=wl[i].exec(e);if(r){const s=r[0];e=e.substring(s.length);const o=no(s);return n+=(t[i]||t.defaultInlineRenderer)({type:i,text:o,cap:r},t,Ad),!0}return!1}))throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return n}function Ab(e){const t=[];for(e=e.replace(/^ +$/gm,"");e;)if(!Object.keys(Sl).some(n=>{const i=Sl[n].exec(e);if(i){const r=i[0];return e=e.substring(r.length),t.push({text:r,type:n,cap:i}),!0}return!1}))throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return t}function Tb(e,t){return e.map(n=>(t[n.type]||t.defaultBlockRenderer)(n,t,Ad)).join("").replace(/\n/g,"<br/>")}function Sb(e,t=bb){return Tb(Ab(e),t)}var wb=e=>{e.data("markdownEditorFormComponent",({state:t,tab:n})=>({attachment:null,overlay:null,preview:"",state:t,tab:n,init:function(){this.state!==null&&this.$nextTick(()=>{this.render()}),this.$watch("state",i=>{i===null&&(this.state=""),this.render()})},render:function(){var i;(((i=this.$refs.textarea)==null?void 0:i.scrollHeight)??0)>0&&(this.$refs.overlay.style.height="150px",this.$refs.overlay.style.height=this.$refs.textarea.scrollHeight+"px"),this.state=this.state.replace(`\r
`,`
`),this.overlay=null,this.overlay=Sb(this.state),this.preview=null,this.preview=ib.sanitize(fe(this.state))},checkForAutoInsertion:function(){const i=this.$refs.textarea.value.split(`
`),r=this.$refs.textarea.value.substring(0,this.$refs.textarea.selectionStart),s=r.split(`
`).length,o=i[s-2];if(o.match(/^(\*\s|-\s)|^(\d)+\./)){if(o.match(/^(\*\s)/))o.trim().length>1?(i[s-1]="* ",this.$nextTick(()=>{this.$refs.textarea.selectionStart=this.$refs.textarea.selectionEnd=r.length+2})):(delete i[s-2],this.$nextTick(()=>{this.$refs.textarea.selectionStart=this.$refs.textarea.selectionEnd=r.length-2}));else if(o.match(/^(-\s)/))o.trim().length>1?(i[s-1]="- ",this.$nextTick(()=>{this.$refs.textarea.selectionStart=this.$refs.textarea.selectionEnd=r.length+2})):(delete i[s-2],this.$nextTick(()=>{this.$refs.textarea.selectionStart=this.$refs.textarea.selectionEnd=r.length-2}));else{const u=o.match(/^(\d)+/)[0];o.trim().length>u.length+2?(i[s-1]=`${parseInt(u)+1}. `,this.$nextTick(()=>{this.$refs.textarea.selectionStart=this.$refs.textarea.selectionEnd=r.length+u.length+2})):(delete i[s-2],this.$nextTick(()=>{this.$refs.textarea.selectionStart=this.$refs.textarea.selectionEnd=r.length-u.length-2}))}this.state=i.join(`
`),this.render()}}}))},Jn=Bi(of());Jn.default.config.blockAttributes.default.tagName="p";Jn.default.config.blockAttributes.default.breakOnReturn=!0;Jn.default.config.blockAttributes.heading={tagName:"h2",terminal:!0,breakOnReturn:!0,group:!1};Jn.default.config.blockAttributes.subHeading={tagName:"h3",terminal:!0,breakOnReturn:!0,group:!1};Jn.default.Block.prototype.breaksOnReturn=function(){const e=this.getLastAttribute(),t=Jn.default.getBlockConfig(e||"default");return(t==null?void 0:t.breakOnReturn)??!1};Jn.default.LineBreakInsertion.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset>0:this.shouldBreakFormattedBlock()?!1:this.breaksOnReturn};var Db=e=>{e.data("richEditorFormComponent",({state:t})=>({state:t,init:function(){var n,i;(i=(n=this.$refs.trix)==null?void 0:n.editor)==null||i.loadHTML(this.state),this.$watch("state",()=>{var r,s;document.activeElement!==this.$refs.trix&&((s=(r=this.$refs.trix)==null?void 0:r.editor)==null||s.loadHTML(this.state))})}}))},xb=Bi(af()),Cb=e=>{e.data("selectFormComponent",({isHtmlAllowed:t,getOptionLabelUsing:n,getOptionLabelsUsing:i,getOptionsUsing:r,getSearchResultsUsing:s,isAutofocused:o,isMultiple:a,hasDynamicOptions:u,hasDynamicSearchResults:l,loadingMessage:c,maxItems:f,maxItemsMessage:d,noSearchResultsMessage:p,options:m,optionsLimit:h,placeholder:v,position:_,isPlaceholderSelectionDisabled:y,searchDebounce:g,searchingMessage:E,searchPrompt:b,searchableOptionFields:T,state:A})=>({isSearching:!1,select:null,selectedOptions:[],isStateBeingUpdated:!1,state:A,init:async function(){this.select=new xb.default(this.$refs.input,{allowHTML:t,duplicateItemsAllowed:!1,itemSelectText:"",loadingText:c,maxItemCount:f??-1,maxItemText:S=>window.pluralize(d,S,{count:S}),noChoicesText:b,noResultsText:p,placeholderValue:v,position:_??"auto",removeItemButton:!y,renderChoiceLimit:h,searchFields:T??["label"],searchPlaceholderValue:b,searchResultLimit:h,shouldSort:!1,searchFloor:l?0:1}),await this.refreshChoices({withInitialOptions:!0}),[null,void 0,""].includes(this.state)||this.select.setChoiceByValue(this.formatState(this.state)),this.refreshPlaceholder(),o&&this.select.showDropdown(),this.$refs.input.addEventListener("change",()=>{this.refreshPlaceholder(),!this.isStateBeingUpdated&&(this.isStateBeingUpdated=!0,this.state=this.select.getValue(!0)??null,this.$nextTick(()=>this.isStateBeingUpdated=!1))}),u&&this.$refs.input.addEventListener("showDropdown",async()=>{this.select.clearChoices(),await this.select.setChoices([{label:c,value:"",disabled:!0}]),await this.refreshChoices()}),l&&(this.$refs.input.addEventListener("search",async S=>{var R;let M=(R=S.detail.value)==null?void 0:R.trim();this.isSearching=!0,this.select.clearChoices(),await this.select.setChoices([{label:[null,void 0,""].includes(M)?c:E,value:"",disabled:!0}])}),this.$refs.input.addEventListener("search",e.debounce(async S=>{var M;await this.refreshChoices({search:(M=S.detail.value)==null?void 0:M.trim()}),this.isSearching=!1},g))),this.$watch("state",async()=>{if(this.refreshPlaceholder(),this.isStateBeingUpdated)return;const S=await this.getChoices({withInitialOptions:!u});this.select.clearStore(),this.setChoices(S),[null,void 0,""].includes(this.state)||this.select.setChoiceByValue(this.formatState(this.state))})},refreshChoices:async function(S={}){this.setChoices(await this.getChoices(S))},setChoices:function(S){this.select.setChoices(S,"value","label",!0)},getChoices:async function(S={}){const M=await this.getOptions(S);return M.concat(await this.getMissingOptions(M))},getOptions:async function({search:S,withInitialOptions:M}){return M?m:S!==""&&S!==null&&S!==void 0?await s(S):await r()},refreshPlaceholder:function(){a||(this.select._renderItems(),[null,void 0,""].includes(this.state)&&(this.$el.querySelector(".choices__list--single").innerHTML=`<div class="choices__placeholder choices__item">${v}</div>`))},formatState:function(S){return a?(S??[]).map(M=>M==null?void 0:M.toString()):S==null?void 0:S.toString()},getMissingOptions:async function(S){let M=this.formatState(this.state);if([null,void 0,"",[],{}].includes(M))return{};const R=new Set(S.length?S.map(F=>F.value):[]);return a?M.every(F=>R.has(F))?{}:await i():R.has(M)?R:[{label:await n(),value:M}]}}))},Ib=e=>{e.data("tagsInputFormComponent",({state:t})=>({newTag:"",state:t,createTag:function(){if(this.newTag=this.newTag.trim(),this.newTag!==""){if(this.state.includes(this.newTag)){this.newTag="";return}this.state.push(this.newTag),this.newTag=""}},deleteTag:function(n){this.state=this.state.filter(i=>i!==n)}}))};function Fi(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Ae(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Ae.InputMask(e,t)}var Re=class{constructor(e){Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}aggregate(e){return this.rawInserted+=e.rawInserted,this.skip=this.skip||e.skip,this.inserted+=e.inserted,this.tailShift+=e.tailShift,this}get offset(){return this.tailShift+this.inserted.length}};Ae.ChangeDetails=Re;function Di(e){return typeof e=="string"||e instanceof String}var de={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function Mb(e){switch(e){case de.LEFT:return de.FORCE_LEFT;case de.RIGHT:return de.FORCE_RIGHT;default:return e}}function pa(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function _r(e){return Array.isArray(e)?e:[e,new Re]}function So(e,t){if(t===e)return!0;var n=Array.isArray(t),i=Array.isArray(e),r;if(n&&i){if(t.length!=e.length)return!1;for(r=0;r<t.length;r++)if(!So(t[r],e[r]))return!1;return!0}if(n!=i)return!1;if(t&&e&&typeof t=="object"&&typeof e=="object"){var s=t instanceof Date,o=e instanceof Date;if(s&&o)return t.getTime()==e.getTime();if(s!=o)return!1;var a=t instanceof RegExp,u=e instanceof RegExp;if(a&&u)return t.toString()==e.toString();if(a!=u)return!1;var l=Object.keys(t);for(r=0;r<l.length;r++)if(!Object.prototype.hasOwnProperty.call(e,l[r]))return!1;for(r=0;r<l.length;r++)if(!So(e[l[r]],t[l[r]]))return!1;return!0}else if(t&&e&&typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();return!1}var Lb=class{constructor(e,t,n,i){for(this.value=e,this.cursorPos=t,this.oldValue=n,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?de.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?de.RIGHT:de.LEFT}},an=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;this.value=e,this.from=t,this.stop=n}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}},Tt=class{constructor(e){this._value="",this._update(Object.assign({},Tt.DEFAULTS,e)),this.isInitialized=!0}updateOptions(e){Object.keys(e).length&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e)}resolve(e){return this.reset(),this.append(e,{input:!0},""),this.doCommit(),this.value}get unmaskedValue(){return this.value}set unmaskedValue(e){this.reset(),this.append(e,{},""),this.doCommit()}get typedValue(){return this.doParse(this.value)}set typedValue(e){this.value=this.doFormat(e)}get rawInputValue(){return this.extractInput(0,this.value.length,{raw:!0})}set rawInputValue(e){this.reset(),this.append(e,{raw:!0},""),this.doCommit()}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return Math.min(this.value.length,t-e)}extractInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(e,t)}extractTail(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return new an(this.extractInput(e,t),e)}appendTail(e){return Di(e)&&(e=new an(String(e))),e.appendTo(this)}_appendCharRaw(e){return e?(this._value+=e,new Re({inserted:e,rawInserted:e})):new Re}_appendChar(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=this.state;let r;if([e,r]=_r(this.doPrepare(e,t)),r=r.aggregate(this._appendCharRaw(e,t)),r.inserted){let s,o=this.doValidate(t)!==!1;if(o&&n!=null){const a=this.state;this.overwrite===!0&&(s=n.state,n.unshift(this.value.length-r.tailShift));let u=this.appendTail(n);o=u.rawInserted===n.toString(),!(o&&u.inserted)&&this.overwrite==="shift"&&(this.state=a,s=n.state,n.shift(),u=this.appendTail(n),o=u.rawInserted===n.toString()),o&&u.inserted&&(this.state=a)}o||(r=new Re,this.state=i,n&&s&&(n.state=s))}return r}_appendPlaceholder(){return new Re}_appendEager(){return new Re}append(e,t,n){if(!Di(e))throw new Error("value should be string");const i=new Re,r=Di(n)?new an(String(n)):n;t!=null&&t.tail&&(t._beforeTailState=this.state);for(let s=0;s<e.length;++s){const o=this._appendChar(e[s],t,r);if(!o.rawInserted&&!this.doSkipInvalid(e[s],t,r))break;i.aggregate(o)}return r!=null&&(i.tailShift+=this.appendTail(r).tailShift),(this.eager===!0||this.eager==="append")&&t!==null&&t!==void 0&&t.input&&e&&i.aggregate(this._appendEager()),i}remove(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this._value=this.value.slice(0,e)+this.value.slice(t),new Re}withValueRefresh(e){if(this._refreshing||!this.isInitialized)return e();this._refreshing=!0;const t=this.rawInputValue,n=this.value,i=e();return this.rawInputValue=t,this.value&&this.value!==n&&n.indexOf(this.value)===0&&this.append(n.slice(this.value.length),{},""),delete this._refreshing,i}runIsolated(e){if(this._isolated||!this.isInitialized)return e(this);this._isolated=!0;const t=this.state,n=e(this);return this.state=t,delete this._isolated,n}doSkipInvalid(e){return this.skipInvalid}doPrepare(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.prepare?this.prepare(e,this,t):e}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}doFormat(e){return this.format?this.format(e,this):e}doParse(e){return this.parse?this.parse(e,this):e}splice(e,t,n,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{input:!0};const s=e+t,o=this.extractTail(s),a=this.eager===!0||this.eager==="remove";let u;a&&(i=Mb(i),u=this.extractInput(0,s,{raw:!0}));let l=e;const c=new Re;if(i!==de.NONE&&(l=this.nearestInputPos(e,t>1&&e!==0&&!a?de.NONE:i),c.tailShift=l-e),c.aggregate(this.remove(l)),a&&i!==de.NONE&&u===this.rawInputValue)if(i===de.FORCE_LEFT){let f;for(;u===this.rawInputValue&&(f=this.value.length);)c.aggregate(new Re({tailShift:-1})).aggregate(this.remove(f-1))}else i===de.FORCE_RIGHT&&o.unshift();return c.aggregate(this.append(n,r,o))}maskEquals(e){return this.mask===e}typedValueEquals(e){const t=this.typedValue;return e===t||Tt.EMPTY_VALUES.includes(e)&&Tt.EMPTY_VALUES.includes(t)||this.doFormat(e)===this.doFormat(this.typedValue)}};Tt.DEFAULTS={format:String,parse:e=>e,skipInvalid:!0};Tt.EMPTY_VALUES=[void 0,null,""];Ae.Masked=Tt;function Td(e){if(e==null)throw new Error("mask property should be defined");return e instanceof RegExp?Ae.MaskedRegExp:Di(e)?Ae.MaskedPattern:e instanceof Date||e===Date?Ae.MaskedDate:e instanceof Number||typeof e=="number"||e===Number?Ae.MaskedNumber:Array.isArray(e)||e===Array?Ae.MaskedDynamic:Ae.Masked&&e.prototype instanceof Ae.Masked?e:e instanceof Ae.Masked?e.constructor:e instanceof Function?Ae.MaskedFunction:(console.warn("Mask not found for mask",e),Ae.Masked)}function Zn(e){if(Ae.Masked&&e instanceof Ae.Masked)return e;e=Object.assign({},e);const t=e.mask;if(Ae.Masked&&t instanceof Ae.Masked)return t;const n=Td(t);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(e)}Ae.createMask=Zn;var Rb=["parent","isOptional","placeholderChar","displayChar","lazy","eager"],Fb={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},Sd=class{constructor(e){const{parent:t,isOptional:n,placeholderChar:i,displayChar:r,lazy:s,eager:o}=e,a=Fi(e,Rb);this.masked=Zn(a),Object.assign(this,{parent:t,isOptional:n,placeholderChar:i,displayChar:r,lazy:s,eager:o})}reset(){this.isFilled=!1,this.masked.reset()}remove(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new Re}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isFilled)return new Re;const n=this.masked.state,i=this.masked._appendChar(e,t);return i.inserted&&this.doValidate(t)===!1&&(i.inserted=i.rawInserted="",this.masked.state=n),!i.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=!!i.inserted,i}append(){return this.masked.append(...arguments)}_appendPlaceholder(){const e=new Re;return this.isFilled||this.isOptional||(this.isFilled=!0,e.inserted=this.placeholderChar),e}_appendEager(){return new Re}extractTail(){return this.masked.extractTail(...arguments)}appendTail(){return this.masked.appendTail(...arguments)}extractInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(e,t,n)}nearestInputPos(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de.NONE;const n=0,i=this.value.length,r=Math.min(Math.max(e,n),i);switch(t){case de.LEFT:case de.FORCE_LEFT:return this.isComplete?r:n;case de.RIGHT:case de.FORCE_RIGHT:return this.isComplete?r:i;case de.NONE:default:return r}}totalInputPositions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(e,t).length}doValidate(){return this.masked.doValidate(...arguments)&&(!this.parent||this.parent.doValidate(...arguments))}doCommit(){this.masked.doCommit()}get state(){return{masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}},wd=class{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new Re}nearestInputPos(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de.NONE;const n=0,i=this._value.length;switch(t){case de.LEFT:case de.FORCE_LEFT:return n;case de.NONE:case de.RIGHT:case de.FORCE_RIGHT:default:return i}}totalInputPositions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._isRawInput?t-e:0}extractInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=new Re;if(this.isFilled)return n;const i=this.eager===!0||this.eager==="append",s=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!i)&&!t.tail;return s&&(n.rawInserted=this.char),this._value=n.inserted=this.char,this._isRawInput=s&&(t.raw||t.input),n}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new Re;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,new an("")}appendTail(e){return Di(e)&&(e=new an(String(e))),e.appendTo(this)}append(e,t,n){const i=this._appendChar(e[0],t);return n!=null&&(i.tailShift+=this.appendTail(n).tailShift),i}doCommit(){}get state(){return{_value:this._value,_isRawInput:this._isRawInput}}set state(e){Object.assign(this,e)}},Ob=["chunks"],Ai=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;Di(e)&&(e=new an(String(e)));const t=this.chunks[this.chunks.length-1],n=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof an)n?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof Ai){if(e.stop==null){let i;for(;e.chunks.length&&e.chunks[0].stop==null;)i=e.chunks.shift(),i.from+=e.from,this.extend(i)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof Ae.MaskedPattern))return new an(this.toString()).appendTo(e);const t=new Re;for(let n=0;n<this.chunks.length&&!t.skip;++n){const i=this.chunks[n],r=e._mapPosToBlock(e.value.length),s=i.stop;let o;if(s!=null&&(!r||r.index<=s)){if(i instanceof Ai||e._stops.indexOf(s)>=0){const a=e._appendPlaceholder(s);t.aggregate(a)}o=i instanceof Ai&&e._blocks[s]}if(o){const a=o.appendTail(i);a.skip=!1,t.aggregate(a),e._value+=a.inserted;const u=i.toString().slice(a.rawInserted.length);u&&t.aggregate(e.append(u,{tail:!0}))}else t.aggregate(e.append(i.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t}=e,n=Fi(e,Ob);Object.assign(this,n),this.chunks=t.map(i=>{const r="chunks"in i?new Ai:new an;return r.state=i,r})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let n=0;for(;n<this.chunks.length;){const i=this.chunks[n],r=i.unshift(t);if(i.toString()){if(!r)break;++n}else this.chunks.splice(n,1);if(r)return r}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],n=t.shift();if(t.toString()){if(!n)break;--e}else this.chunks.splice(e,1);if(n)return n}return""}},kb=class{constructor(e,t){this.masked=e,this._log=[];const{offset:n,index:i}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=n,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return this.state=e,e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)===null||t===void 0?void 0:t.value.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,de.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,de.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,de.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,de.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,de.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,de.NONE),!0})}},Pb=class extends Tt{_update(e){e.mask&&(e.validate=t=>t.search(e.mask)>=0),super._update(e)}};Ae.MaskedRegExp=Pb;var Bb=["_blocks"],Rt=class extends Tt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.definitions=Object.assign({},Fb,e.definitions),super(Object.assign({},Rt.DEFAULTS,e))}_update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};let t=this.mask;if(!t||!e)return;let n=!1,i=!1;for(let o=0;o<t.length;++o){var r,s;if(this.blocks){const f=t.slice(o),d=Object.keys(this.blocks).filter(m=>f.indexOf(m)===0);d.sort((m,h)=>h.length-m.length);const p=d[0];if(p){const m=Zn(Object.assign({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite},this.blocks[p]));m&&(this._blocks.push(m),this._maskedBlocks[p]||(this._maskedBlocks[p]=[]),this._maskedBlocks[p].push(this._blocks.length-1)),o+=p.length-1;continue}}let a=t[o],u=a in e;if(a===Rt.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(a==="{"||a==="}"){n=!n;continue}if(a==="["||a==="]"){i=!i;continue}if(a===Rt.ESCAPE_CHAR){if(++o,a=t[o],!a)break;u=!1}const l=(r=e[a])!==null&&r!==void 0&&r.mask&&!(((s=e[a])===null||s===void 0?void 0:s.mask.prototype)instanceof Ae.Masked)?e[a]:{mask:e[a]},c=u?new Sd(Object.assign({parent:this,isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar},l)):new wd({char:a,eager:this.eager,isUnmasking:n});this._blocks.push(c)}}get state(){return Object.assign({},super.state,{_blocks:this._blocks.map(e=>e.state)})}set state(e){const{_blocks:t}=e,n=Fi(e,Bb);this._blocks.forEach((i,r)=>i.state=t[r]),super.state=n}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){super.unmaskedValue=e}get value(){return this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){super.value=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new Re;let n=(e=this._mapPosToBlock(this.value.length))===null||e===void 0?void 0:e.index;if(n==null)return t;this._blocks[n].isFilled&&++n;for(let i=n;i<this._blocks.length;++i){const r=this._blocks[i]._appendEager();if(!r.inserted)break;t.aggregate(r)}return t}_appendCharRaw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this._mapPosToBlock(this.value.length),i=new Re;if(!n)return i;for(let o=n.index;;++o){var r,s;const a=this._blocks[o];if(!a)break;const u=a._appendChar(e,Object.assign({},t,{_beforeTailState:(r=t._beforeTailState)===null||r===void 0||(s=r._blocks)===null||s===void 0?void 0:s[o]})),l=u.skip;if(i.aggregate(u),l||u.rawInserted)break}return i}extractTail(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;const n=new Ai;return e===t||this._forEachBlocksInRange(e,t,(i,r,s,o)=>{const a=i.extractTail(s,o);a.stop=this._findStopBefore(r),a.from=this._blockStartPos(r),a instanceof Ai&&(a.blockIndex=r),n.extend(a)}),n}extractInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===t)return"";let i="";return this._forEachBlocksInRange(e,t,(r,s,o,a)=>{i+=r.extractInput(o,a,n)}),i}_findStopBefore(e){let t;for(let n=0;n<this._stops.length;++n){const i=this._stops[n];if(i<=e)t=i;else break}return t}_appendPlaceholder(e){const t=new Re;if(this.lazy&&e==null)return t;const n=this._mapPosToBlock(this.value.length);if(!n)return t;const i=n.index,r=e??this._blocks.length;return this._blocks.slice(i,r).forEach(s=>{if(!s.lazy||e!=null){const o=s._blocks!=null?[s._blocks.length]:[],a=s._appendPlaceholder(...o);this._value+=a.inserted,t.aggregate(a)}}),t}_mapPosToBlock(e){let t="";for(let n=0;n<this._blocks.length;++n){const i=this._blocks[n],r=t.length;if(t+=i.value,e<=t.length)return{index:n,offset:e-r}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,n)=>t+=n.value.length,0)}_forEachBlocksInRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0;const i=this._mapPosToBlock(e);if(i){const r=this._mapPosToBlock(t),s=r&&i.index===r.index,o=i.offset,a=r&&s?r.offset:this._blocks[i.index].value.length;if(n(this._blocks[i.index],i.index,o,a),r&&!s){for(let u=i.index+1;u<r.index;++u)n(this._blocks[u],u,0,this._blocks[u].value.length);n(this._blocks[r.index],r.index,0,r.offset)}}}remove(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;const n=super.remove(e,t);return this._forEachBlocksInRange(e,t,(i,r,s,o)=>{n.aggregate(i.remove(s,o))}),n}nearestInputPos(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de.NONE;if(!this._blocks.length)return 0;const n=new kb(this,e);if(t===de.NONE)return n.pushRightBeforeInput()||(n.popState(),n.pushLeftBeforeInput())?n.pos:this.value.length;if(t===de.LEFT||t===de.FORCE_LEFT){if(t===de.LEFT){if(n.pushRightBeforeFilled(),n.ok&&n.pos===e)return e;n.popState()}if(n.pushLeftBeforeInput(),n.pushLeftBeforeRequired(),n.pushLeftBeforeFilled(),t===de.LEFT){if(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.ok&&n.pos<=e||(n.popState(),n.ok&&n.pos<=e))return n.pos;n.popState()}return n.ok?n.pos:t===de.FORCE_LEFT?0:(n.popState(),n.ok||(n.popState(),n.ok)?n.pos:0)}return t===de.RIGHT||t===de.FORCE_RIGHT?(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.pushRightBeforeFilled()?n.pos:t===de.FORCE_RIGHT?this.value.length:(n.popState(),n.ok||(n.popState(),n.ok)?n.pos:this.nearestInputPos(e,de.LEFT))):e}totalInputPositions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,n=0;return this._forEachBlocksInRange(e,t,(i,r,s,o)=>{n+=i.totalInputPositions(s,o)}),n}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(n=>this._blocks[n]):[]}};Rt.DEFAULTS={lazy:!0,placeholderChar:"_"};Rt.STOP_CHAR="`";Rt.ESCAPE_CHAR="\\";Rt.InputDefinition=Sd;Rt.FixedDefinition=wd;Ae.MaskedPattern=Rt;var io=class extends Rt{get _matchFrom(){return this.maxLength-String(this.from).length}_update(e){e=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},e);let t=String(e.to).length;e.maxLength!=null&&(t=Math.max(t,e.maxLength)),e.maxLength=t;const n=String(e.from).padStart(t,"0"),i=String(e.to).padStart(t,"0");let r=0;for(;r<i.length&&i[r]===n[r];)++r;e.mask=i.slice(0,r).replace(/0/g,"\\0")+"0".repeat(t-r),super._update(e)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",n="";const[,i,r]=e.match(/^(\D*)(\d*)(\D*)/)||[];return r&&(t="0".repeat(i.length)+r,n="9".repeat(i.length)+r),t=t.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9"),[t,n]}doPrepare(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if([e,n]=_r(super.doPrepare(e.replace(/\D/g,""),t)),!this.autofix||!e)return e;const i=String(this.from).padStart(this.maxLength,"0"),r=String(this.to).padStart(this.maxLength,"0");let s=this.value+e;if(s.length>this.maxLength)return"";const[o,a]=this.boundaries(s);return Number(a)<this.from?i[s.length-1]:Number(o)>this.to?this.autofix==="pad"&&s.length<this.maxLength?["",n.aggregate(this.append(i[s.length-1]+e,t))]:r[s.length-1]:e}doValidate(){const e=this.value;if(e.search(/[^0]/)===-1&&e.length<=this._matchFrom)return!0;const[n,i]=this.boundaries(e);return this.from<=Number(i)&&Number(n)<=this.to&&super.doValidate(...arguments)}};Ae.MaskedRange=io;var yr=class extends Rt{constructor(e){super(Object.assign({},yr.DEFAULTS,e))}_update(e){e.mask===Date&&delete e.mask,e.pattern&&(e.mask=e.pattern);const t=e.blocks;e.blocks=Object.assign({},yr.GET_DEFAULT_BLOCKS()),e.min&&(e.blocks.Y.from=e.min.getFullYear()),e.max&&(e.blocks.Y.to=e.max.getFullYear()),e.min&&e.max&&e.blocks.Y.from===e.blocks.Y.to&&(e.blocks.m.from=e.min.getMonth()+1,e.blocks.m.to=e.max.getMonth()+1,e.blocks.m.from===e.blocks.m.to&&(e.blocks.d.from=e.min.getDate(),e.blocks.d.to=e.max.getDate())),Object.assign(e.blocks,this.blocks,t),Object.keys(e.blocks).forEach(n=>{const i=e.blocks[n];!("autofix"in i)&&"autofix"in e&&(i.autofix=e.autofix)}),super._update(e)}doValidate(){const e=this.date;return super.doValidate(...arguments)&&(!this.isComplete||this.isDateExist(this.value)&&e!=null&&(this.min==null||this.min<=e)&&(this.max==null||e<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}};yr.DEFAULTS={pattern:"d{.}`m{.}`Y",format:e=>{if(!e)return"";const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return[t,n,i].join(".")},parse:e=>{const[t,n,i]=e.split(".");return new Date(i,n-1,t)}};yr.GET_DEFAULT_BLOCKS=()=>({d:{mask:io,from:1,to:31,maxLength:2},m:{mask:io,from:1,to:12,maxLength:2},Y:{mask:io,from:1900,to:9999}});Ae.MaskedDate=yr;var ws=class{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}_unsafeSelect(e,t){}get isActive(){return!1}bindEvents(e){}unbindEvents(){}};Ae.MaskElement=ws;var Tr=class extends ws{constructor(e){super(),this.input=e,this._handlers={}}get rootElement(){var e,t,n;return(e=(t=(n=this.input).getRootNode)===null||t===void 0?void 0:t.call(n))!==null&&e!==void 0?e:document}get isActive(){return this.input===this.rootElement.activeElement}get _unsafeSelectionStart(){return this.input.selectionStart}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}bindEvents(e){Object.keys(e).forEach(t=>this._toggleEventHandler(Tr.EVENTS_MAP[t],e[t]))}unbindEvents(){Object.keys(this._handlers).forEach(e=>this._toggleEventHandler(e))}_toggleEventHandler(e,t){this._handlers[e]&&(this.input.removeEventListener(e,this._handlers[e]),delete this._handlers[e]),t&&(this.input.addEventListener(e,t),this._handlers[e]=t)}};Tr.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};Ae.HTMLMaskElement=Tr;var Dd=class extends Tr{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),n=t&&t.anchorOffset,i=t&&t.focusOffset;return i==null||n==null||n<i?n:i}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),n=t&&t.anchorOffset,i=t&&t.focusOffset;return i==null||n==null||n>i?n:i}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const n=this.rootElement.createRange();n.setStart(this.input.firstChild||this.input,e),n.setEnd(this.input.lastChild||this.input,t);const i=this.rootElement,r=i.getSelection&&i.getSelection();r&&(r.removeAllRanges(),r.addRange(n))}get value(){return this.input.textContent}set value(e){this.input.textContent=e}};Ae.HTMLContenteditableMaskElement=Dd;var Nb=["mask"],zb=class{constructor(e,t){this.el=e instanceof ws?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new Dd(e):new Tr(e),this.masked=Zn(t),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}get mask(){return this.masked.mask}maskEquals(e){var t;return e==null||((t=this.masked)===null||t===void 0?void 0:t.maskEquals(e))}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof Ae.Masked)&&this.masked.constructor===Td(e)){this.masked.updateOptions({mask:e});return}const t=Zn({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl(),this.alignCursor())}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl(),this.alignCursor())}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=this._listeners[e];r&&r.forEach(s=>s(...n))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value}updateControl(){const e=this.masked.unmaskedValue,t=this.masked.value,n=this.displayValue,i=this.unmaskedValue!==e||this.value!==t;this._unmaskedValue=e,this._value=t,this.el.value!==n&&(this.el.value=n),i&&this._fireChangeEvents()}updateOptions(e){const{mask:t}=e,n=Fi(e,Nb),i=!this.maskEquals(t),r=!So(this.masked,n);i&&(this.mask=t),r&&this.masked.updateOptions(n),(i||r)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,de.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const n=this._listeners[e].indexOf(t);return n>=0&&this._listeners[e].splice(n,1),this}_onInput(e){if(this._inputEvent=e,this._abortUpdateCursor(),!this._selection)return this.updateValue();const t=new Lb(this.el.value,this.cursorPos,this.displayValue,this._selection),n=this.masked.rawInputValue,i=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,r=n===this.masked.rawInputValue?t.removeDirection:de.NONE;let s=this.masked.nearestInputPos(t.startChangePos+i,r);r!==de.NONE&&(s=this.masked.nearestInputPos(s,de.NONE)),this.updateControl(),this.updateCursor(s),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};Ae.InputMask=zb;var Yb=class extends Rt{_update(e){e.enum&&(e.mask="*".repeat(e.enum[0].length)),super._update(e)}doValidate(){return this.enum.some(e=>e.indexOf(this.unmaskedValue)>=0)&&super.doValidate(...arguments)}};Ae.MaskedEnum=Yb;var zt=class extends Tt{constructor(e){super(Object.assign({},zt.DEFAULTS,e))}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){let e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",n=(this.scale?"(".concat(pa(this.radix),"\\d{0,").concat(this.scale,"})?"):"")+"$";this._numberRegExp=new RegExp(e+t+n),this._mapToRadixRegExp=new RegExp("[".concat(this.mapToRadix.map(pa).join(""),"]"),"g"),this._thousandsSeparatorRegExp=new RegExp(pa(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepare(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e=this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e);const[n,i]=_r(super.doPrepare(e,t));return e&&!n&&(i.skip=!0),[n,i]}_separatorsCount(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0;for(let i=0;i<e;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++n,t&&(e+=this.thousandsSeparator.length));return n}_separatorsCountFromSlice(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0;return[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,n))}_appendCharRaw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.thousandsSeparator)return super._appendCharRaw(e,t);const n=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(n);this._value=this._removeThousandsSeparators(this.value);const r=super._appendCharRaw(e,t);this._value=this._insertThousandsSeparators(this._value);const s=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,o=this._separatorsCountFromSlice(s);return r.tailShift+=(o-i)*this.thousandsSeparator.length,r.skip=!r.rawInserted&&e===this.thousandsSeparator,r}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,t);if(n<=e)return n}return-1}_adjustRangeWithSeparators(e,t){const n=this._findSeparatorAround(e);n>=0&&(e=n);const i=this._findSeparatorAround(t);return i>=0&&(t=i+this.thousandsSeparator.length),[e,t]}remove(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;[e,t]=this._adjustRangeWithSeparators(e,t);const n=this.value.slice(0,e),i=this.value.slice(t),r=this._separatorsCount(n.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(n+i));const s=this._separatorsCountFromSlice(n);return new Re({tailShift:(s-r)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case de.NONE:case de.LEFT:case de.FORCE_LEFT:{const n=this._findSeparatorAround(e-1);if(n>=0){const i=n+this.thousandsSeparator.length;if(e<i||this.value.length<=i||t===de.FORCE_LEFT)return n}break}case de.RIGHT:case de.FORCE_RIGHT:{const n=this._findSeparatorAround(e);if(n>=0)return n+this.thousandsSeparator.length}}return e}doValidate(e){let t=!!this._removeThousandsSeparators(this.value).match(this._numberRegExp);if(t){const n=this.number;t=t&&!isNaN(n)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return t&&super.doValidate(e)}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.doFormat(t));let n=this.value;this.normalizeZeros&&(n=this._normalizeZeros(n)),this.padFractionalZeros&&this.scale>0&&(n=this._padFractionalZeros(n)),this._value=n}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(n,i,r,s)=>i+s),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===zt.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,n)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,zt.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.doParse(this.unmaskedValue)}set typedValue(e){this.rawInputValue=this.doFormat(e).replace(zt.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.signed||this.min!=null&&this.min<0||this.max!=null&&this.max<0}typedValueEquals(e){return(super.typedValueEquals(e)||zt.EMPTY_VALUES.includes(e)&&zt.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}};zt.UNMASKED_RADIX=".";zt.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:[zt.UNMASKED_RADIX],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:e=>e.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};zt.EMPTY_VALUES=[...Tt.EMPTY_VALUES,0];Ae.MaskedNumber=zt;var Vb=class extends Tt{_update(e){e.mask&&(e.validate=e.mask),super._update(e)}};Ae.MaskedFunction=Vb;var Hb=["compiledMasks","currentMaskRef","currentMask"],jb=["mask"],Ds=class extends Tt{constructor(e){super(Object.assign({},Ds.DEFAULTS,e)),this.currentMask=null}_update(e){super._update(e),"mask"in e&&(this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>Zn(t)):[])}_appendCharRaw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this._applyDispatch(e,t);return this.currentMask&&n.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),n}_applyDispatch(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const i=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,r=this.rawInputValue,s=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:r,o=r.slice(s.length),a=this.currentMask,u=new Re,l=a==null?void 0:a.state;if(this.currentMask=this.doDispatch(e,Object.assign({},t),n),this.currentMask)if(this.currentMask!==a){if(this.currentMask.reset(),s){const c=this.currentMask.append(s,{raw:!0});u.tailShift=c.inserted.length-i.length}o&&(u.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=l;return u}_appendPlaceholder(){const e=this._applyDispatch(...arguments);return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch(...arguments);return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new Re;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,n;return Object.assign({},e,{_beforeTailState:((t=e._beforeTailState)===null||t===void 0?void 0:t.currentMaskRef)===this.currentMask&&((n=e._beforeTailState)===null||n===void 0?void 0:n.currentMask)||e._beforeTailState})}doDispatch(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return this.dispatch(e,this,t,n)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[n,i]=_r(super.doPrepare(e,t));if(this.currentMask){let r;[n,r]=_r(super.doPrepare(n,this.currentMaskFlags(t))),i=i.aggregate(r)}return[n,i]}reset(){var e;(e=this.currentMask)===null||e===void 0||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.currentMask?this.currentMask.value:""}set value(e){super.value=e}get unmaskedValue(){return this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.currentMask?this.currentMask.typedValue:""}set typedValue(e){let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!(!((e=this.currentMask)===null||e===void 0)&&e.isComplete)}get isFilled(){var e;return!!(!((e=this.currentMask)===null||e===void 0)&&e.isFilled)}remove(){const e=new Re;return this.currentMask&&e.aggregate(this.currentMask.remove(...arguments)).aggregate(this._applyDispatch()),e}get state(){var e;return Object.assign({},super.state,{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)===null||e===void 0?void 0:e.state})}set state(e){const{compiledMasks:t,currentMaskRef:n,currentMask:i}=e,r=Fi(e,Hb);this.compiledMasks.forEach((s,o)=>s.state=t[o]),n!=null&&(this.currentMask=n,this.currentMask.state=i),super.state=r}extractInput(){return this.currentMask?this.currentMask.extractInput(...arguments):""}extractTail(){return this.currentMask?this.currentMask.extractTail(...arguments):super.extractTail(...arguments)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(){return this.currentMask?this.currentMask.nearestInputPos(...arguments):super.nearestInputPos(...arguments)}get overwrite(){return this.currentMask?this.currentMask.overwrite:super.overwrite}set overwrite(e){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}get eager(){return this.currentMask?this.currentMask.eager:super.eager}set eager(e){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:super.skipInvalid}set skipInvalid(e){(this.isInitialized||e!==Tt.DEFAULTS.skipInvalid)&&console.warn('"skipInvalid" option is not available in dynamic mask, use this option in siblings')}maskEquals(e){return Array.isArray(e)&&this.compiledMasks.every((t,n)=>{if(!e[n])return;const i=e[n],{mask:r}=i,s=Fi(i,jb);return So(t,s)&&t.maskEquals(r)})}typedValueEquals(e){var t;return!!(!((t=this.currentMask)===null||t===void 0)&&t.typedValueEquals(e))}};Ds.DEFAULTS={dispatch:(e,t,n,i)=>{if(!t.compiledMasks.length)return;const r=t.rawInputValue,s=t.compiledMasks.map((o,a)=>{const u=t.currentMask===o,l=u?o.value.length:o.nearestInputPos(o.value.length,de.FORCE_LEFT);return o.rawInputValue!==r?(o.reset(),o.append(r,{raw:!0})):u||o.remove(l),o.append(e,t.currentMaskFlags(n)),o.appendTail(i),{index:a,weight:o.rawInputValue.length,totalInputPositions:o.totalInputPositions(0,Math.max(l,o.nearestInputPos(o.value.length,de.FORCE_LEFT)))}});return s.sort((o,a)=>a.weight-o.weight||a.totalInputPositions-o.totalInputPositions),t.compiledMasks[s[0].index]}};Ae.MaskedDynamic=Ds;var qa={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function xd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qa.MASKED,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qa.MASKED;const i=Zn(e);return r=>i.runIsolated(s=>(s[t]=r,s[n]))}function Ub(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return xd(...n)(e)}Ae.PIPE_TYPE=qa;Ae.createPipe=xd;Ae.pipe=Ub;try{globalThis.IMask=Ae}catch{}var $b=e=>{e.data("textInputFormComponent",({getMaskOptionsUsing:t,state:n})=>({isStateBeingUpdated:!1,mask:null,state:n,init:function(){var i;t&&(this.state&&(this.$el.value=(i=this.state)==null?void 0:i.valueOf()),this.mask=Ae(this.$el,t(Ae)).on("accept",()=>{this.isStateBeingUpdated=!0,this.state=this.mask.unmaskedValue,this.$nextTick(()=>this.isStateBeingUpdated=!1)}),this.$watch("state",()=>{var r;this.isStateBeingUpdated||(this.mask.unmaskedValue=((r=this.state)==null?void 0:r.valueOf())??"")}))}}))},Gb=e=>{e.data("textareaFormComponent",()=>({init:function(){this.$nextTick(()=>{this.render()})},render:function(){this.$el.scrollHeight>0&&(this.$el.style.height="150px",this.$el.style.height=this.$el.scrollHeight+2+"px")}}))};/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dl(Object(n),!0).forEach(function(i){Wb(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ro(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ro=function(t){return typeof t}:ro=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function Wb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(){return cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cn.apply(this,arguments)}function qb(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Kb(e,t){if(e==null)return{};var n=qb(e,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var Xb="1.15.0";function sn(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var fn=sn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Sr=sn(/Edge/i),xl=sn(/firefox/i),cr=sn(/safari/i)&&!sn(/chrome/i)&&!sn(/android/i),Cd=sn(/iP(ad|od|hone)/i),Id=sn(/chrome/i)&&sn(/android/i),Md={capture:!1,passive:!1};function xe(e,t,n){e.addEventListener(t,n,!fn&&Md)}function we(e,t,n){e.removeEventListener(t,n,!fn&&Md)}function wo(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Jb(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function qt(e,t,n,i){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&wo(e,t):wo(e,t))||i&&e===n)return e;if(e===n)break}while(e=Jb(e))}return null}var Cl=/\s+/g;function _t(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(Cl," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(Cl," ")}}function pe(e,t,n){var i=e&&e.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=n+(typeof n=="string"?"":"px")}}function xi(e,t){var n="";if(typeof e=="string")n=e;else do{var i=pe(e,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Ld(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,s=i.length;if(n)for(;r<s;r++)n(i[r],r);return i}return[]}function Jt(){var e=document.scrollingElement;return e||document.documentElement}function Xe(e,t,n,i,r){if(!(!e.getBoundingClientRect&&e!==window)){var s,o,a,u,l,c,f;if(e!==window&&e.parentNode&&e!==Jt()?(s=e.getBoundingClientRect(),o=s.top,a=s.left,u=s.bottom,l=s.right,c=s.height,f=s.width):(o=0,a=0,u=window.innerHeight,l=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!fn))do if(r&&r.getBoundingClientRect&&(pe(r,"transform")!=="none"||n&&pe(r,"position")!=="static")){var d=r.getBoundingClientRect();o-=d.top+parseInt(pe(r,"border-top-width")),a-=d.left+parseInt(pe(r,"border-left-width")),u=o+s.height,l=a+s.width;break}while(r=r.parentNode);if(i&&e!==window){var p=xi(r||e),m=p&&p.a,h=p&&p.d;p&&(o/=h,a/=m,f/=m,c/=h,u=o+c,l=a+f)}return{top:o,left:a,bottom:u,right:l,width:f,height:c}}}function Il(e,t,n){for(var i=In(e,!0),r=Xe(e)[t];i;){var s=Xe(i)[n],o=void 0;if(n==="top"||n==="left"?o=r>=s:o=r<=s,!o)return i;if(i===Jt())break;i=In(i,!1)}return!1}function Oi(e,t,n,i){for(var r=0,s=0,o=e.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==me.ghost&&(i||o[s]!==me.dragged)&&qt(o[s],n.draggable,e,!1)){if(r===t)return o[s];r++}s++}return null}function xs(e,t){for(var n=e.lastElementChild;n&&(n===me.ghost||pe(n,"display")==="none"||t&&!wo(n,t));)n=n.previousElementSibling;return n||null}function Mt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==me.clone&&(!t||wo(e,t))&&n++;return n}function Ml(e){var t=0,n=0,i=Jt();if(e)do{var r=xi(e),s=r.a,o=r.d;t+=e.scrollLeft*s,n+=e.scrollTop*o}while(e!==i&&(e=e.parentNode));return[t,n]}function Zb(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n)}return-1}function In(e,t){if(!e||!e.getBoundingClientRect)return Jt();var n=e,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=pe(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Jt();if(i||t)return n;i=!0}}while(n=n.parentNode);return Jt()}function Qb(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ma(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var dr;function Rd(e,t){return function(){if(!dr){var n=arguments,i=this;n.length===1?e.call(i,n[0]):e.apply(i,n),dr=setTimeout(function(){dr=void 0},t)}}}function e1(){clearTimeout(dr),dr=void 0}function Fd(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Od(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var At="Sortable"+new Date().getTime();function t1(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(pe(r,"display")==="none"||r===me.ghost)){e.push({target:r,rect:Xe(r)});var s=Zt({},e[e.length-1].rect);if(r.thisAnimationDuration){var o=xi(r,!0);o&&(s.top-=o.f,s.left-=o.e)}r.fromRect=s}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice(Zb(e,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var s=!1,o=0;e.forEach(function(a){var u=0,l=a.target,c=l.fromRect,f=Xe(l),d=l.prevFromRect,p=l.prevToRect,m=a.rect,h=xi(l,!0);h&&(f.top-=h.f,f.left-=h.e),l.toRect=f,l.thisAnimationDuration&&ma(d,f)&&!ma(c,f)&&(m.top-f.top)/(m.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(u=i1(m,d,p,r.options)),ma(f,c)||(l.prevFromRect=c,l.prevToRect=f,u||(u=r.options.animation),r.animate(l,m,f,u)),u&&(s=!0,o=Math.max(o,u),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},u),l.thisAnimationDuration=u)}),clearTimeout(t),s?t=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),e=[]},animate:function(i,r,s,o){if(o){pe(i,"transition",""),pe(i,"transform","");var a=xi(this.el),u=a&&a.a,l=a&&a.d,c=(r.left-s.left)/(u||1),f=(r.top-s.top)/(l||1);i.animatingX=!!c,i.animatingY=!!f,pe(i,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=n1(i),pe(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),pe(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){pe(i,"transition",""),pe(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function n1(e){return e.offsetWidth}function i1(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var di=[],ga={initializeByDefault:!0},wr={mount:function(t){for(var n in ga)ga.hasOwnProperty(n)&&!(n in t)&&(t[n]=ga[n]);di.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),di.push(t)},pluginEvent:function(t,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var s=t+"Global";di.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Zt({sortable:n},i)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](Zt({sortable:n},i)))})},initializePlugins:function(t,n,i,r){di.forEach(function(a){var u=a.pluginName;if(!(!t.options[u]&&!a.initializeByDefault)){var l=new a(t,n,t.options);l.sortable=t,l.options=t.options,t[u]=l,cn(i,l.defaults)}});for(var s in t.options)if(t.options.hasOwnProperty(s)){var o=this.modifyOption(t,s,t.options[s]);typeof o<"u"&&(t.options[s]=o)}},getEventProperties:function(t,n){var i={};return di.forEach(function(r){typeof r.eventProperties=="function"&&cn(i,r.eventProperties.call(n[r.pluginName],t))}),i},modifyOption:function(t,n,i){var r;return di.forEach(function(s){t[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(r=s.optionListeners[n].call(t[s.pluginName],i))}),r}};function r1(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,s=e.cloneEl,o=e.toEl,a=e.fromEl,u=e.oldIndex,l=e.newIndex,c=e.oldDraggableIndex,f=e.newDraggableIndex,d=e.originalEvent,p=e.putSortable,m=e.extraEventProperties;if(t=t||n&&n[At],!!t){var h,v=t.options,_="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!fn&&!Sr?h=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(i,!0,!0)),h.to=o||n,h.from=a||n,h.item=r||n,h.clone=s,h.oldIndex=u,h.newIndex=l,h.oldDraggableIndex=c,h.newDraggableIndex=f,h.originalEvent=d,h.pullMode=p?p.lastPutMode:void 0;var y=Zt(Zt({},m),wr.getEventProperties(i,t));for(var g in y)h[g]=y[g];n&&n.dispatchEvent(h),v[_]&&v[_].call(t,h)}}var o1=["evt"],pt=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,s=Kb(i,o1);wr.pluginEvent.bind(me)(t,n,Zt({dragEl:Q,parentEl:Ye,ghostEl:Ee,rootEl:Be,nextEl:Yn,lastDownEl:oo,cloneEl:Ne,cloneHidden:xn,dragStarted:er,putSortable:et,activeSortable:me.active,originalEvent:r,oldIndex:Ti,oldDraggableIndex:hr,newIndex:yt,newDraggableIndex:Sn,hideGhostForTarget:Nd,unhideGhostForTarget:zd,cloneNowHidden:function(){xn=!0},cloneNowShown:function(){xn=!1},dispatchSortableEvent:function(a){ut({sortable:n,name:a,originalEvent:r})}},s))};function ut(e){r1(Zt({putSortable:et,cloneEl:Ne,targetEl:Q,rootEl:Be,oldIndex:Ti,oldDraggableIndex:hr,newIndex:yt,newDraggableIndex:Sn},e))}var Q,Ye,Ee,Be,Yn,oo,Ne,xn,Ti,yt,hr,Sn,$r,et,fi=!1,Do=!1,xo=[],Nn,kt,va,Ea,Ll,Rl,er,hi,fr,pr=!1,Gr=!1,ao,rt,_a=[],Ka=!1,Co=[],jo=typeof document<"u",Wr=Cd,Fl=Sr||fn?"cssFloat":"float",a1=jo&&!Id&&!Cd&&"draggable"in document.createElement("div"),kd=function(){if(jo){if(fn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Pd=function(t,n){var i=pe(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=Oi(t,0,n),o=Oi(t,1,n),a=s&&pe(s),u=o&&pe(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Xe(s).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Xe(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return o&&(u.clear==="both"||u.clear===f)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||l>=r&&i[Fl]==="none"||o&&i[Fl]==="none"&&l+c>r)?"vertical":"horizontal"},s1=function(t,n,i){var r=i?t.left:t.top,s=i?t.right:t.bottom,o=i?t.width:t.height,a=i?n.left:n.top,u=i?n.right:n.bottom,l=i?n.width:n.height;return r===a||s===u||r+o/2===a+l/2},u1=function(t,n){var i;return xo.some(function(r){var s=r[At].options.emptyInsertThreshold;if(!(!s||xs(r))){var o=Xe(r),a=t>=o.left-s&&t<=o.right+s,u=n>=o.top-s&&n<=o.bottom+s;if(a&&u)return i=r}}),i},Bd=function(t){function n(s,o){return function(a,u,l,c){var f=a.options.group.name&&u.options.group.name&&a.options.group.name===u.options.group.name;if(s==null&&(o||f))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,u,l,c),o)(a,u,l,c);var d=(o?a:u).options.group.name;return s===!0||typeof s=="string"&&s===d||s.join&&s.indexOf(d)>-1}}var i={},r=t.group;(!r||ro(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,t.group=i},Nd=function(){!kd&&Ee&&pe(Ee,"display","none")},zd=function(){!kd&&Ee&&pe(Ee,"display","")};jo&&!Id&&document.addEventListener("click",function(e){if(Do)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Do=!1,!1},!0);var zn=function(t){if(Q){t=t.touches?t.touches[0]:t;var n=u1(t.clientX,t.clientY);if(n){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[At]._onDragOver(i)}}},l1=function(t){Q&&Q.parentNode[At]._isOutsideThisEl(t.target)};function me(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=cn({},t),e[At]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pd(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:me.supportPointer!==!1&&"PointerEvent"in window&&!cr,emptyInsertThreshold:5};wr.initializePlugins(this,e,n);for(var i in n)!(i in t)&&(t[i]=n[i]);Bd(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:a1,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?xe(e,"pointerdown",this._onTapStart):(xe(e,"mousedown",this._onTapStart),xe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(xe(e,"dragover",this),xe(e,"dragenter",this)),xo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),cn(this,t1())}me.prototype={constructor:me,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(hi=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,Q):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,i=this.el,r=this.options,s=r.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,c=r.filter;if(v1(i),!Q&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||r.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&cr&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=qt(u,r.draggable,i,!1),!(u&&u.animated)&&oo!==u)){if(Ti=Mt(u),hr=Mt(u,r.draggable),typeof c=="function"){if(c.call(this,t,u,this)){ut({sortable:n,rootEl:l,name:"filter",targetEl:u,toEl:i,fromEl:i}),pt("filter",n,{evt:t}),s&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=qt(l,f.trim(),i,!1),f)return ut({sortable:n,rootEl:f,name:"filter",targetEl:u,fromEl:i,toEl:i}),pt("filter",n,{evt:t}),!0}),c)){s&&t.cancelable&&t.preventDefault();return}r.handle&&!qt(l,r.handle,i,!1)||this._prepareDragStart(t,a,u)}}},_prepareDragStart:function(t,n,i){var r=this,s=r.el,o=r.options,a=s.ownerDocument,u;if(i&&!Q&&i.parentNode===s){var l=Xe(i);if(Be=s,Q=i,Ye=Q.parentNode,Yn=Q.nextSibling,oo=i,$r=o.group,me.dragged=Q,Nn={target:Q,clientX:(n||t).clientX,clientY:(n||t).clientY},Ll=Nn.clientX-l.left,Rl=Nn.clientY-l.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,Q.style["will-change"]="all",u=function(){if(pt("delayEnded",r,{evt:t}),me.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!xl&&r.nativeDraggable&&(Q.draggable=!0),r._triggerDragStart(t,n),ut({sortable:r,name:"choose",originalEvent:t}),_t(Q,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){Ld(Q,c.trim(),ya)}),xe(a,"dragover",zn),xe(a,"mousemove",zn),xe(a,"touchmove",zn),xe(a,"mouseup",r._onDrop),xe(a,"touchend",r._onDrop),xe(a,"touchcancel",r._onDrop),xl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Q.draggable=!0),pt("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Sr||fn))){if(me.eventCanceled){this._onDrop();return}xe(a,"mouseup",r._disableDelayedDrag),xe(a,"touchend",r._disableDelayedDrag),xe(a,"touchcancel",r._disableDelayedDrag),xe(a,"mousemove",r._delayedDragTouchMoveHandler),xe(a,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&xe(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(u,o.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Q&&ya(Q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;we(t,"mouseup",this._disableDelayedDrag),we(t,"touchend",this._disableDelayedDrag),we(t,"touchcancel",this._disableDelayedDrag),we(t,"mousemove",this._delayedDragTouchMoveHandler),we(t,"touchmove",this._delayedDragTouchMoveHandler),we(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?xe(document,"pointermove",this._onTouchMove):n?xe(document,"touchmove",this._onTouchMove):xe(document,"mousemove",this._onTouchMove):(xe(Q,"dragend",this),xe(Be,"dragstart",this._onDragStart));try{document.selection?so(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(fi=!1,Be&&Q){pt("dragStarted",this,{evt:n}),this.nativeDraggable&&xe(document,"dragover",l1);var i=this.options;!t&&_t(Q,i.dragClass,!1),_t(Q,i.ghostClass,!0),me.active=this,t&&this._appendGhost(),ut({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(kt){this._lastX=kt.clientX,this._lastY=kt.clientY,Nd();for(var t=document.elementFromPoint(kt.clientX,kt.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(kt.clientX,kt.clientY),t!==n);)n=t;if(Q.parentNode[At]._isOutsideThisEl(t),n)do{if(n[At]){var i=void 0;if(i=n[At]._onDragOver({clientX:kt.clientX,clientY:kt.clientY,target:t,rootEl:n}),i&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);zd()}},_onTouchMove:function(t){if(Nn){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,s=t.touches?t.touches[0]:t,o=Ee&&xi(Ee,!0),a=Ee&&o&&o.a,u=Ee&&o&&o.d,l=Wr&&rt&&Ml(rt),c=(s.clientX-Nn.clientX+r.x)/(a||1)+(l?l[0]-_a[0]:0)/(a||1),f=(s.clientY-Nn.clientY+r.y)/(u||1)+(l?l[1]-_a[1]:0)/(u||1);if(!me.active&&!fi){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Ee){o?(o.e+=c-(va||0),o.f+=f-(Ea||0)):o={a:1,b:0,c:0,d:1,e:c,f};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");pe(Ee,"webkitTransform",d),pe(Ee,"mozTransform",d),pe(Ee,"msTransform",d),pe(Ee,"transform",d),va=c,Ea=f,kt=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ee){var t=this.options.fallbackOnBody?document.body:Be,n=Xe(Q,!0,Wr,!0,t),i=this.options;if(Wr){for(rt=t;pe(rt,"position")==="static"&&pe(rt,"transform")==="none"&&rt!==document;)rt=rt.parentNode;rt!==document.body&&rt!==document.documentElement?(rt===document&&(rt=Jt()),n.top+=rt.scrollTop,n.left+=rt.scrollLeft):rt=Jt(),_a=Ml(rt)}Ee=Q.cloneNode(!0),_t(Ee,i.ghostClass,!1),_t(Ee,i.fallbackClass,!0),_t(Ee,i.dragClass,!0),pe(Ee,"transition",""),pe(Ee,"transform",""),pe(Ee,"box-sizing","border-box"),pe(Ee,"margin",0),pe(Ee,"top",n.top),pe(Ee,"left",n.left),pe(Ee,"width",n.width),pe(Ee,"height",n.height),pe(Ee,"opacity","0.8"),pe(Ee,"position",Wr?"absolute":"fixed"),pe(Ee,"zIndex","100000"),pe(Ee,"pointerEvents","none"),me.ghost=Ee,t.appendChild(Ee),pe(Ee,"transform-origin",Ll/parseInt(Ee.style.width)*100+"% "+Rl/parseInt(Ee.style.height)*100+"%")}},_onDragStart:function(t,n){var i=this,r=t.dataTransfer,s=i.options;if(pt("dragStart",this,{evt:t}),me.eventCanceled){this._onDrop();return}pt("setupClone",this),me.eventCanceled||(Ne=Od(Q),Ne.removeAttribute("id"),Ne.draggable=!1,Ne.style["will-change"]="",this._hideClone(),_t(Ne,this.options.chosenClass,!1),me.clone=Ne),i.cloneId=so(function(){pt("clone",i),!me.eventCanceled&&(i.options.removeCloneOnHide||Be.insertBefore(Ne,Q),i._hideClone(),ut({sortable:i,name:"clone"}))}),!n&&_t(Q,s.dragClass,!0),n?(Do=!0,i._loopId=setInterval(i._emulateDragOver,50)):(we(document,"mouseup",i._onDrop),we(document,"touchend",i._onDrop),we(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(i,r,Q)),xe(document,"drop",i),pe(Q,"transform","translateZ(0)")),fi=!0,i._dragStartId=so(i._dragStarted.bind(i,n,t)),xe(document,"selectstart",i),er=!0,cr&&pe(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,i=t.target,r,s,o,a=this.options,u=a.group,l=me.active,c=$r===u,f=a.sort,d=et||l,p,m=this,h=!1;if(Ka)return;function v(O,k){pt(O,m,Zt({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:o,dragRect:r,targetRect:s,canSort:f,fromSortable:d,target:i,completed:y,onMove:function(z,H){return qr(Be,n,Q,r,z,Xe(z),t,H)},changed:g},k))}function _(){v("dragOverAnimationCapture"),m.captureAnimationState(),m!==d&&d.captureAnimationState()}function y(O){return v("dragOverCompleted",{insertion:O}),O&&(c?l._hideClone():l._showClone(m),m!==d&&(_t(Q,et?et.options.ghostClass:l.options.ghostClass,!1),_t(Q,a.ghostClass,!0)),et!==m&&m!==me.active?et=m:m===me.active&&et&&(et=null),d===m&&(m._ignoreWhileAnimating=i),m.animateAll(function(){v("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(i===Q&&!Q.animated||i===n&&!i.animated)&&(hi=null),!a.dragoverBubble&&!t.rootEl&&i!==document&&(Q.parentNode[At]._isOutsideThisEl(t.target),!O&&zn(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function g(){yt=Mt(Q),Sn=Mt(Q,a.draggable),ut({sortable:m,name:"change",toEl:n,newIndex:yt,newDraggableIndex:Sn,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=qt(i,a.draggable,n,!0),v("dragOver"),me.eventCanceled)return h;if(Q.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||m._ignoreWhileAnimating===i)return y(!1);if(Do=!1,l&&!a.disabled&&(c?f||(o=Ye!==Be):et===this||(this.lastPutMode=$r.checkPull(this,l,Q,t))&&u.checkPut(this,l,Q,t))){if(p=this._getDirection(t,i)==="vertical",r=Xe(Q),v("dragOverValid"),me.eventCanceled)return h;if(o)return Ye=Be,_(),this._hideClone(),v("revert"),me.eventCanceled||(Yn?Be.insertBefore(Q,Yn):Be.appendChild(Q)),y(!0);var E=xs(n,a.draggable);if(!E||f1(t,p,this)&&!E.animated){if(E===Q)return y(!1);if(E&&n===t.target&&(i=E),i&&(s=Xe(i)),qr(Be,n,Q,r,i,s,t,!!i)!==!1)return _(),E&&E.nextSibling?n.insertBefore(Q,E.nextSibling):n.appendChild(Q),Ye=n,g(),y(!0)}else if(E&&h1(t,p,this)){var b=Oi(n,0,a,!0);if(b===Q)return y(!1);if(i=b,s=Xe(i),qr(Be,n,Q,r,i,s,t,!1)!==!1)return _(),n.insertBefore(Q,b),Ye=n,g(),y(!0)}else if(i.parentNode===n){s=Xe(i);var T=0,A,S=Q.parentNode!==n,M=!s1(Q.animated&&Q.toRect||r,i.animated&&i.toRect||s,p),R=p?"top":"left",F=Il(i,"top","top")||Il(Q,"top","top"),I=F?F.scrollTop:void 0;hi!==i&&(A=s[R],pr=!1,Gr=!M&&a.invertSwap||S),T=p1(t,i,s,p,M?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Gr,hi===i);var w;if(T!==0){var x=Mt(Q);do x-=T,w=Ye.children[x];while(w&&(pe(w,"display")==="none"||w===Ee))}if(T===0||w===i)return y(!1);hi=i,fr=T;var C=i.nextElementSibling,D=!1;D=T===1;var L=qr(Be,n,Q,r,i,s,t,D);if(L!==!1)return(L===1||L===-1)&&(D=L===1),Ka=!0,setTimeout(d1,30),_(),D&&!C?n.appendChild(Q):i.parentNode.insertBefore(Q,D?C:i),F&&Fd(F,0,I-F.scrollTop),Ye=Q.parentNode,A!==void 0&&!Gr&&(ao=Math.abs(A-Xe(i)[R])),g(),y(!0)}if(n.contains(Q))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){we(document,"mousemove",this._onTouchMove),we(document,"touchmove",this._onTouchMove),we(document,"pointermove",this._onTouchMove),we(document,"dragover",zn),we(document,"mousemove",zn),we(document,"touchmove",zn)},_offUpEvents:function(){var t=this.el.ownerDocument;we(t,"mouseup",this._onDrop),we(t,"touchend",this._onDrop),we(t,"pointerup",this._onDrop),we(t,"touchcancel",this._onDrop),we(document,"selectstart",this)},_onDrop:function(t){var n=this.el,i=this.options;if(yt=Mt(Q),Sn=Mt(Q,i.draggable),pt("drop",this,{evt:t}),Ye=Q&&Q.parentNode,yt=Mt(Q),Sn=Mt(Q,i.draggable),me.eventCanceled){this._nulling();return}fi=!1,Gr=!1,pr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Xa(this.cloneId),Xa(this._dragStartId),this.nativeDraggable&&(we(document,"drop",this),we(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),cr&&pe(document.body,"user-select",""),pe(Q,"transform",""),t&&(er&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee),(Be===Ye||et&&et.lastPutMode!=="clone")&&Ne&&Ne.parentNode&&Ne.parentNode.removeChild(Ne),Q&&(this.nativeDraggable&&we(Q,"dragend",this),ya(Q),Q.style["will-change"]="",er&&!fi&&_t(Q,et?et.options.ghostClass:this.options.ghostClass,!1),_t(Q,this.options.chosenClass,!1),ut({sortable:this,name:"unchoose",toEl:Ye,newIndex:null,newDraggableIndex:null,originalEvent:t}),Be!==Ye?(yt>=0&&(ut({rootEl:Ye,name:"add",toEl:Ye,fromEl:Be,originalEvent:t}),ut({sortable:this,name:"remove",toEl:Ye,originalEvent:t}),ut({rootEl:Ye,name:"sort",toEl:Ye,fromEl:Be,originalEvent:t}),ut({sortable:this,name:"sort",toEl:Ye,originalEvent:t})),et&&et.save()):yt!==Ti&&yt>=0&&(ut({sortable:this,name:"update",toEl:Ye,originalEvent:t}),ut({sortable:this,name:"sort",toEl:Ye,originalEvent:t})),me.active&&((yt==null||yt===-1)&&(yt=Ti,Sn=hr),ut({sortable:this,name:"end",toEl:Ye,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){pt("nulling",this),Be=Q=Ye=Ee=Yn=Ne=oo=xn=Nn=kt=er=yt=Sn=Ti=hr=hi=fr=et=$r=me.dragged=me.ghost=me.clone=me.active=null,Co.forEach(function(t){t.checked=!0}),Co.length=va=Ea=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Q&&(this._onDragOver(t),c1(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,i=this.el.children,r=0,s=i.length,o=this.options;r<s;r++)n=i[r],qt(n,o.draggable,this.el,!1)&&t.push(n.getAttribute(o.dataIdAttr)||g1(n));return t},sort:function(t,n){var i={},r=this.el;this.toArray().forEach(function(s,o){var a=r.children[o];qt(a,this.options.draggable,r,!1)&&(i[s]=a)},this),n&&this.captureAnimationState(),t.forEach(function(s){i[s]&&(r.removeChild(i[s]),r.appendChild(i[s]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return qt(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var i=this.options;if(n===void 0)return i[t];var r=wr.modifyOption(this,t,n);typeof r<"u"?i[t]=r:i[t]=n,t==="group"&&Bd(i)},destroy:function(){pt("destroy",this);var t=this.el;t[At]=null,we(t,"mousedown",this._onTapStart),we(t,"touchstart",this._onTapStart),we(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(we(t,"dragover",this),we(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),xo.splice(xo.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!xn){if(pt("hideClone",this),me.eventCanceled)return;pe(Ne,"display","none"),this.options.removeCloneOnHide&&Ne.parentNode&&Ne.parentNode.removeChild(Ne),xn=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(xn){if(pt("showClone",this),me.eventCanceled)return;Q.parentNode==Be&&!this.options.group.revertClone?Be.insertBefore(Ne,Q):Yn?Be.insertBefore(Ne,Yn):Be.appendChild(Ne),this.options.group.revertClone&&this.animate(Q,Ne),pe(Ne,"display",""),xn=!1}}};function c1(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function qr(e,t,n,i,r,s,o,a){var u,l=e[At],c=l.options.onMove,f;return window.CustomEvent&&!fn&&!Sr?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=i,u.related=r||t,u.relatedRect=s||Xe(t),u.willInsertAfter=a,u.originalEvent=o,e.dispatchEvent(u),c&&(f=c.call(l,u,o)),f}function ya(e){e.draggable=!1}function d1(){Ka=!1}function h1(e,t,n){var i=Xe(Oi(n.el,0,n.options,!0)),r=10;return t?e.clientX<i.left-r||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-r||e.clientY<i.bottom&&e.clientX<i.left}function f1(e,t,n){var i=Xe(xs(n.el,n.options.draggable)),r=10;return t?e.clientX>i.right+r||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+r}function p1(e,t,n,i,r,s,o,a){var u=i?e.clientY:e.clientX,l=i?n.height:n.width,c=i?n.top:n.left,f=i?n.bottom:n.right,d=!1;if(!o){if(a&&ao<l*r){if(!pr&&(fr===1?u>c+l*s/2:u<f-l*s/2)&&(pr=!0),pr)d=!0;else if(fr===1?u<c+ao:u>f-ao)return-fr}else if(u>c+l*(1-r)/2&&u<f-l*(1-r)/2)return m1(t)}return d=d||o,d&&(u<c+l*s/2||u>f-l*s/2)?u>c+l/2?1:-1:0}function m1(e){return Mt(Q)<Mt(e)?1:-1}function g1(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function v1(e){Co.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&Co.push(i)}}function so(e){return setTimeout(e,0)}function Xa(e){return clearTimeout(e)}jo&&xe(document,"touchmove",function(e){(me.active||fi)&&e.cancelable&&e.preventDefault()});me.utils={on:xe,off:we,css:pe,find:Ld,is:function(t,n){return!!qt(t,n,t,!1)},extend:Qb,throttle:Rd,closest:qt,toggleClass:_t,clone:Od,index:Mt,nextTick:so,cancelNextTick:Xa,detectDirection:Pd,getChild:Oi};me.get=function(e){return e[At]};me.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(me.utils=Zt(Zt({},me.utils),i.utils)),wr.mount(i)})};me.create=function(e,t){return new me(e,t)};me.version=Xb;var Ge=[],tr,Ja,Za=!1,ba,Aa,Io,nr;function E1(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?xe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?xe(document,"pointermove",this._handleFallbackAutoScroll):i.touches?xe(document,"touchmove",this._handleFallbackAutoScroll):xe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?we(document,"dragover",this._handleAutoScroll):(we(document,"pointermove",this._handleFallbackAutoScroll),we(document,"touchmove",this._handleFallbackAutoScroll),we(document,"mousemove",this._handleFallbackAutoScroll)),Ol(),uo(),e1()},nulling:function(){Io=Ja=tr=Za=nr=ba=Aa=null,Ge.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(Io=n,i||this.options.forceAutoScrollFallback||Sr||fn||cr){Ta(n,this.options,a,i);var u=In(a,!0);Za&&(!nr||s!==ba||o!==Aa)&&(nr&&Ol(),nr=setInterval(function(){var l=In(document.elementFromPoint(s,o),!0);l!==u&&(u=l,uo()),Ta(n,r.options,l,i)},10),ba=s,Aa=o)}else{if(!this.options.bubbleScroll||In(a,!0)===Jt()){uo();return}Ta(n,this.options,In(a,!1),!1)}}},cn(e,{pluginName:"scroll",initializeByDefault:!0})}function uo(){Ge.forEach(function(e){clearInterval(e.pid)}),Ge=[]}function Ol(){clearInterval(nr)}var Ta=Rd(function(e,t,n,i){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,u=Jt(),l=!1,c;Ja!==n&&(Ja=n,uo(),tr=t.scroll,c=t.scrollFn,tr===!0&&(tr=In(n,!0)));var f=0,d=tr;do{var p=d,m=Xe(p),h=m.top,v=m.bottom,_=m.left,y=m.right,g=m.width,E=m.height,b=void 0,T=void 0,A=p.scrollWidth,S=p.scrollHeight,M=pe(p),R=p.scrollLeft,F=p.scrollTop;p===u?(b=g<A&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),T=E<S&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(b=g<A&&(M.overflowX==="auto"||M.overflowX==="scroll"),T=E<S&&(M.overflowY==="auto"||M.overflowY==="scroll"));var I=b&&(Math.abs(y-r)<=o&&R+g<A)-(Math.abs(_-r)<=o&&!!R),w=T&&(Math.abs(v-s)<=o&&F+E<S)-(Math.abs(h-s)<=o&&!!F);if(!Ge[f])for(var x=0;x<=f;x++)Ge[x]||(Ge[x]={});(Ge[f].vx!=I||Ge[f].vy!=w||Ge[f].el!==p)&&(Ge[f].el=p,Ge[f].vx=I,Ge[f].vy=w,clearInterval(Ge[f].pid),(I!=0||w!=0)&&(l=!0,Ge[f].pid=setInterval(function(){i&&this.layer===0&&me.active._onTouchMove(Io);var C=Ge[this.layer].vy?Ge[this.layer].vy*a:0,D=Ge[this.layer].vx?Ge[this.layer].vx*a:0;typeof c=="function"&&c.call(me.dragged.parentNode[At],D,C,e,Io,Ge[this.layer].el)!=="continue"||Fd(Ge[this.layer].el,D,C)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==u&&(d=In(d,!1)));Za=l}},30),Yd=function(t){var n=t.originalEvent,i=t.putSortable,r=t.dragEl,s=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(n){var l=i||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(c.clientX,c.clientY);u(),l&&!l.el.contains(f)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Cs(){}Cs.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=Oi(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:Yd};cn(Cs,{pluginName:"revertOnSpill"});function Is(){}Is.prototype={onSpill:function(t){var n=t.dragEl,i=t.putSortable,r=i||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:Yd};cn(Is,{pluginName:"removeOnSpill"});me.mount(new E1);me.mount(Is,Cs);var Ms=me;window.Sortable=Ms;window.Livewire.directive("sortable",e=>{e.sortable=Ms.create(e,{draggable:"[wire\\:sortable\\.item]",handle:"[wire\\:sortable\\.handle]",dataIdAttr:"wire:sortable.item"})});var _1=e=>{e.directive("sortable",t=>{t.sortable=Ms.create(t,{draggable:"[x-sortable-item]",handle:"[x-sortable-handle]",dataIdAttr:"x-sortable-item"})})};function Qt(e){return e.split("-")[0]}function qn(e){return e.split("-")[1]}function Hi(e){return["top","bottom"].includes(Qt(e))?"x":"y"}function Ls(e){return e==="y"?"height":"width"}function kl(e,t,n){let{reference:i,floating:r}=e;const s=i.x+i.width/2-r.width/2,o=i.y+i.height/2-r.height/2,a=Hi(t),u=Ls(a),l=i[u]/2-r[u]/2,c=Qt(t),f=a==="x";let d;switch(c){case"top":d={x:s,y:i.y-r.height};break;case"bottom":d={x:s,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:o};break;case"left":d={x:i.x-r.width,y:o};break;default:d={x:i.x,y:i.y}}switch(qn(t)){case"start":d[a]-=l*(n&&f?-1:1);break;case"end":d[a]+=l*(n&&f?-1:1);break}return d}var y1=async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=await(o.isRTL==null?void 0:o.isRTL(t));if(o==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),s.filter(m=>{let{name:h}=m;return h==="autoPlacement"||h==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`","middleware detected. This will lead to an infinite loop. Ensure only","one of either has been passed to the `middleware` array."].join(" "));let u=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:l,y:c}=kl(u,i,a),f=i,d={},p=0;for(let m=0;m<s.length;m++){if(p++,p>100)throw new Error(["Floating UI: The middleware lifecycle appears to be","running in an infinite loop. This is usually caused by a `reset`","continually being returned without a break condition."].join(" "));const{name:h,fn:v}=s[m],{x:_,y,data:g,reset:E}=await v({x:l,y:c,initialPlacement:i,placement:f,strategy:r,middlewareData:d,rects:u,platform:o,elements:{reference:e,floating:t}});if(l=_??l,c=y??c,d={...d,[h]:{...d[h],...g}},E){typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):E.rects),{x:l,y:c}=kl(u,f,a)),m=-1;continue}}return{x:l,y:c,placement:f,strategy:r,middlewareData:d}};function b1(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rs(e){return typeof e!="number"?b1(e):{top:e,right:e,bottom:e,left:e}}function br(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function ki(e,t){var n;t===void 0&&(t={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=t,m=Rs(p),v=a[d?f==="floating"?"reference":"floating":f],_=br(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),y=br(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...o.floating,x:i,y:r}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:u}):o[f]);return{top:_.top-y.top+m.top,bottom:y.bottom-_.bottom+m.bottom,left:_.left-y.left+m.left,right:y.right-_.right+m.right}}var Vd=Math.min,wn=Math.max;function Qa(e,t,n){return wn(e,Vd(t,n))}var Hd=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:i=0}=e??{},{x:r,y:s,placement:o,rects:a,platform:u}=t;if(n==null)return console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const l=Rs(i),c={x:r,y:s},f=Hi(o),d=Ls(f),p=await u.getDimensions(n),m=f==="y"?"top":"left",h=f==="y"?"bottom":"right",v=a.reference[d]+a.reference[f]-c[f]-a.floating[d],_=c[f]-a.reference[f],y=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n)),g=y?f==="y"?y.clientHeight||0:y.clientWidth||0:0,E=v/2-_/2,b=l[m],T=g-p[d]-l[h],A=g/2-p[d]/2+E,S=Qa(b,A,T);return{data:{[f]:S,centerOffset:A-S}}}}),A1={left:"right",right:"left",bottom:"top",top:"bottom"};function Mo(e){return e.replace(/left|right|bottom|top/g,t=>A1[t])}function jd(e,t,n){n===void 0&&(n=!1);const i=qn(e),r=Hi(e),s=Ls(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Mo(o)),{main:o,cross:Mo(o)}}var T1={start:"end",end:"start"};function es(e){return e.replace(/start|end/g,t=>T1[t])}var Ud=["top","right","bottom","left"],S1=Ud.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function w1(e,t,n){return(e?[...n.filter(r=>qn(r)===e),...n.filter(r=>qn(r)!==e)]:n.filter(r=>Qt(r)===r)).filter(r=>e?qn(r)===e||(t?es(r)!==r:!1):!0)}var Fs=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,i,r,s,o;const{x:a,y:u,rects:l,middlewareData:c,placement:f,platform:d,elements:p}=t,{alignment:m=null,allowedPlacements:h=S1,autoAlignment:v=!0,..._}=e,y=w1(m,v,h),g=await ki(t,_),E=(n=(i=c.autoPlacement)==null?void 0:i.index)!=null?n:0,b=y[E];if(b==null)return{};const{main:T,cross:A}=jd(b,l,await(d.isRTL==null?void 0:d.isRTL(p.floating)));if(f!==b)return{x:a,y:u,reset:{placement:y[0]}};const S=[g[Qt(b)],g[T],g[A]],M=[...(r=(s=c.autoPlacement)==null?void 0:s.overflows)!=null?r:[],{placement:b,overflows:S}],R=y[E+1];if(R)return{data:{index:E+1,overflows:M},reset:{placement:R}};const F=M.slice().sort((x,C)=>x.overflows[0]-C.overflows[0]),I=(o=F.find(x=>{let{overflows:C}=x;return C.every(D=>D<=0)}))==null?void 0:o.placement,w=I??F[0].placement;return w!==f?{data:{index:E+1,overflows:M},reset:{placement:w}}:{}}}};function D1(e){const t=Mo(e);return[es(e),t,es(t)]}var $d=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:i,middlewareData:r,rects:s,initialPlacement:o,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:p=!0,...m}=e,h=Qt(i),_=f||(h===o||!p?[Mo(o)]:D1(o)),y=[o,..._],g=await ki(t,m),E=[];let b=((n=r.flip)==null?void 0:n.overflows)||[];if(l&&E.push(g[h]),c){const{main:M,cross:R}=jd(i,s,await(a.isRTL==null?void 0:a.isRTL(u.floating)));E.push(g[M],g[R])}if(b=[...b,{placement:i,overflows:E}],!E.every(M=>M<=0)){var T,A;const M=((T=(A=r.flip)==null?void 0:A.index)!=null?T:0)+1,R=y[M];if(R)return{data:{index:M,overflows:b},reset:{placement:R}};let F="bottom";switch(d){case"bestFit":{var S;const I=(S=b.map(w=>[w,w.overflows.filter(x=>x>0).reduce((x,C)=>x+C,0)]).sort((w,x)=>w[1]-x[1])[0])==null?void 0:S[0].placement;I&&(F=I);break}case"initialPlacement":F=o;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function Pl(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bl(e){return Ud.some(t=>e[t]>=0)}var Gd=function(e){let{strategy:t="referenceHidden",...n}=e===void 0?{}:e;return{name:"hide",async fn(i){const{rects:r}=i;switch(t){case"referenceHidden":{const s=await ki(i,{...n,elementContext:"reference"}),o=Pl(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bl(o)}}}case"escaped":{const s=await ki(i,{...n,altBoundary:!0}),o=Pl(s,r.floating);return{data:{escapedOffsets:o,escaped:Bl(o)}}}default:return{}}}}};function x1(e,t,n,i){i===void 0&&(i=!1);const r=Qt(e),s=qn(e),o=Hi(e)==="x",a=["left","top"].includes(r)?-1:1,u=i&&o?-1:1,l=typeof n=="function"?n({...t,placement:e}):n;let{mainAxis:c,crossAxis:f,alignmentAxis:d}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return s&&typeof d=="number"&&(f=s==="end"?d*-1:d),o?{x:f*u,y:c*a}:{x:c*a,y:f*u}}var Wd=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a}=t,u=x1(r,s,e,await(o.isRTL==null?void 0:o.isRTL(a.floating)));return{x:n+u.x,y:i+u.y,data:u}}}};function C1(e){return e==="x"?"y":"x"}var qd=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:_,y}=v;return{x:_,y}}},...u}=e,l={x:n,y:i},c=await ki(t,u),f=Hi(Qt(r)),d=C1(f);let p=l[f],m=l[d];if(s){const v=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=p+c[v],g=p-c[_];p=Qa(y,p,g)}if(o){const v=d==="y"?"top":"left",_=d==="y"?"bottom":"right",y=m+c[v],g=m-c[_];m=Qa(y,m,g)}const h=a.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-i}}}}},Kd=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:r,elements:s}=t,{apply:o,...a}=e,u=await ki(t,a),l=Qt(n),c=qn(n);let f,d;l==="top"||l==="bottom"?(f=l,d=c===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(d=l,f=c==="end"?"top":"bottom");const p=wn(u.left,0),m=wn(u.right,0),h=wn(u.top,0),v=wn(u.bottom,0),_={height:i.floating.height-(["left","right"].includes(n)?2*(h!==0||v!==0?h+v:wn(u.top,u.bottom)):u[f]),width:i.floating.width-(["top","bottom"].includes(n)?2*(p!==0||m!==0?p+m:wn(u.left,u.right)):u[d])},y=await r.getDimensions(s.floating);o==null||o({..._,...i});const g=await r.getDimensions(s.floating);return y.width!==g.width||y.height!==g.height?{reset:{rects:!0}}:{}}}},Xd=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:i,elements:r,rects:s,platform:o,strategy:a}=t,{padding:u=2,x:l,y:c}=e,f=br(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(r.floating)),strategy:a}):s.reference),d=(n=await(o.getClientRects==null?void 0:o.getClientRects(r.reference)))!=null?n:[],p=Rs(u);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null){var v;return(v=d.find(_=>l>_.left-p.left&&l<_.right+p.right&&c>_.top-p.top&&c<_.bottom+p.bottom))!=null?v:f}if(d.length>=2){if(Hi(i)==="x"){const F=d[0],I=d[d.length-1],w=Qt(i)==="top",x=F.top,C=I.bottom,D=w?F.left:I.left,L=w?F.right:I.right,O=L-D,k=C-x;return{top:x,bottom:C,left:D,right:L,width:O,height:k,x:D,y:x}}const _=Qt(i)==="left",y=wn(...d.map(F=>F.right)),g=Vd(...d.map(F=>F.left)),E=d.filter(F=>_?F.left===g:F.right===y),b=E[0].top,T=E[E.length-1].bottom,A=g,S=y,M=S-A,R=T-b;return{top:b,bottom:T,left:A,right:S,width:M,height:R,x:A,y:b}}return f}const h=await o.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:a});return s.reference.x!==h.reference.x||s.reference.y!==h.reference.y||s.reference.width!==h.reference.width||s.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}};function Jd(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function pn(e){if(e==null)return window;if(!Jd(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Dr(e){return pn(e).getComputedStyle(e)}function dn(e){return Jd(e)?"":e?(e.nodeName||"").toLowerCase():""}function en(e){return e instanceof pn(e).HTMLElement}function Ln(e){return e instanceof pn(e).Element}function I1(e){return e instanceof pn(e).Node}function Os(e){if(typeof ShadowRoot>"u")return!1;const t=pn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Uo(e){const{overflow:t,overflowX:n,overflowY:i}=Dr(e);return/auto|scroll|overlay|hidden/.test(t+i+n)}function M1(e){return["table","td","th"].includes(dn(e))}function Zd(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=Dr(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}function Qd(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}var Nl=Math.min,mr=Math.max,Lo=Math.round;function hn(e,t,n){var i,r,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&en(e)&&(u=e.offsetWidth>0&&Lo(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&Lo(a.height)/e.offsetHeight||1);const c=Ln(e)?pn(e):window,f=!Qd()&&n,d=(a.left+(f&&(i=(r=c.visualViewport)==null?void 0:r.offsetLeft)!=null?i:0))/u,p=(a.top+(f&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/l,m=a.width/u,h=a.height/l;return{width:m,height:h,top:p,right:d+m,bottom:p+h,left:d,x:d,y:p}}function Rn(e){return((I1(e)?e.ownerDocument:e.document)||window.document).documentElement}function $o(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function eh(e){return hn(Rn(e)).left+$o(e).scrollLeft}function L1(e){const t=hn(e);return Lo(t.width)!==e.offsetWidth||Lo(t.height)!==e.offsetHeight}function R1(e,t,n){const i=en(t),r=Rn(t),s=hn(e,i&&L1(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(i||!i&&n!=="fixed")if((dn(t)!=="body"||Uo(r))&&(o=$o(t)),en(t)){const u=hn(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else r&&(a.x=eh(r));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function th(e){return dn(e)==="html"?e:e.assignedSlot||e.parentNode||(Os(e)?e.host:null)||Rn(e)}function zl(e){return!en(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function F1(e){let t=th(e);for(Os(t)&&(t=t.host);en(t)&&!["html","body"].includes(dn(t));){if(Zd(t))return t;t=t.parentNode}return null}function ts(e){const t=pn(e);let n=zl(e);for(;n&&M1(n)&&getComputedStyle(n).position==="static";)n=zl(n);return n&&(dn(n)==="html"||dn(n)==="body"&&getComputedStyle(n).position==="static"&&!Zd(n))?t:n||F1(e)||t}function Yl(e){if(en(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=hn(e);return{width:t.width,height:t.height}}function O1(e){let{rect:t,offsetParent:n,strategy:i}=e;const r=en(n),s=Rn(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((r||!r&&i!=="fixed")&&((dn(n)!=="body"||Uo(s))&&(o=$o(n)),en(n))){const u=hn(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}}function k1(e,t){const n=pn(e),i=Rn(e),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,u=0;if(r){s=r.width,o=r.height;const l=Qd();(l||!l&&t==="fixed")&&(a=r.offsetLeft,u=r.offsetTop)}return{width:s,height:o,x:a,y:u}}function P1(e){var t;const n=Rn(e),i=$o(e),r=(t=e.ownerDocument)==null?void 0:t.body,s=mr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=mr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let a=-i.scrollLeft+eh(e);const u=-i.scrollTop;return Dr(r||n).direction==="rtl"&&(a+=mr(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:u}}function nh(e){const t=th(e);return["html","body","#document"].includes(dn(t))?e.ownerDocument.body:en(t)&&Uo(t)?t:nh(t)}function Ro(e,t){var n;t===void 0&&(t=[]);const i=nh(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),s=pn(i),o=r?[s].concat(s.visualViewport||[],Uo(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(Ro(o))}function B1(e,t){const n=t==null||t.getRootNode==null?void 0:t.getRootNode();if(e!=null&&e.contains(t))return!0;if(n&&Os(n)){let i=t;do{if(i&&e===i)return!0;i=i.parentNode||i.host}while(i)}return!1}function N1(e,t){const n=hn(e,!1,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft;return{top:i,left:r,x:r,y:i,right:r+e.clientWidth,bottom:i+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function Vl(e,t,n){return t==="viewport"?br(k1(e,n)):Ln(t)?N1(t,n):br(P1(Rn(e)))}function z1(e){const t=Ro(e),i=["absolute","fixed"].includes(Dr(e).position)&&en(e)?ts(e):e;return Ln(i)?t.filter(r=>Ln(r)&&B1(r,i)&&dn(r)!=="body"):[]}function Y1(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const o=[...n==="clippingAncestors"?z1(t):[].concat(n),i],a=o[0],u=o.reduce((l,c)=>{const f=Vl(t,c,r);return l.top=mr(f.top,l.top),l.right=Nl(f.right,l.right),l.bottom=Nl(f.bottom,l.bottom),l.left=mr(f.left,l.left),l},Vl(t,a,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}var V1={getClippingRect:Y1,convertOffsetParentRelativeRectToViewportRelativeRect:O1,isElement:Ln,getDimensions:Yl,getOffsetParent:ts,getDocumentElement:Rn,getElementRects:e=>{let{reference:t,floating:n,strategy:i}=e;return{reference:R1(t,ts(n),i),floating:{...Yl(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Dr(e).direction==="rtl"};function Hl(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=i;let u=!1;const l=r&&!a,c=s&&!a,f=o&&!a,d=l||c?[...Ln(e)?Ro(e):[],...Ro(t)]:[];d.forEach(_=>{l&&_.addEventListener("scroll",n,{passive:!0}),c&&_.addEventListener("resize",n)});let p=null;f&&(p=new ResizeObserver(n),Ln(e)&&p.observe(e),p.observe(t));let m,h=a?hn(e):null;a&&v();function v(){if(u)return;const _=hn(e);h&&(_.x!==h.x||_.y!==h.y||_.width!==h.width||_.height!==h.height)&&n(),h=_,m=requestAnimationFrame(v)}return()=>{var _;u=!0,d.forEach(y=>{l&&y.removeEventListener("scroll",n),c&&y.removeEventListener("resize",n)}),(_=p)==null||_.disconnect(),p=null,a&&cancelAnimationFrame(m)}}var jl=(e,t,n)=>y1(e,t,{platform:V1,...n}),H1=e=>{const t={placement:"bottom",middleware:[]},n=Object.keys(e),i=r=>e[r];return n.includes("offset")&&t.middleware.push(Wd(i("offset"))),n.includes("placement")&&(t.placement=i("placement")),n.includes("autoPlacement")&&!n.includes("flip")&&t.middleware.push(Fs(i("autoPlacement"))),n.includes("flip")&&t.middleware.push($d(i("flip"))),n.includes("shift")&&t.middleware.push(qd(i("shift"))),n.includes("inline")&&t.middleware.push(Xd(i("inline"))),n.includes("arrow")&&t.middleware.push(Hd(i("arrow"))),n.includes("hide")&&t.middleware.push(Gd(i("hide"))),n.includes("size")&&t.middleware.push(Kd(i("size"))),t},j1=(e,t)=>{const n={component:{trap:!1},float:{placement:"bottom",strategy:"absolute",middleware:[]}},i=r=>e[e.indexOf(r)+1];return e.includes("trap")&&(n.component.trap=!0),e.includes("teleport")&&(n.float.strategy="fixed"),e.includes("offset")&&n.float.middleware.push(Wd(t.offset||10)),e.includes("placement")&&(n.float.placement=i("placement")),e.includes("autoPlacement")&&!e.includes("flip")&&n.float.middleware.push(Fs(t.autoPlacement)),e.includes("flip")&&n.float.middleware.push($d(t.flip)),e.includes("shift")&&n.float.middleware.push(qd(t.shift)),e.includes("inline")&&n.float.middleware.push(Xd(t.inline)),e.includes("arrow")&&n.float.middleware.push(Hd(t.arrow)),e.includes("hide")&&n.float.middleware.push(Gd(t.hide)),e.includes("size")&&n.float.middleware.push(Kd(t.size)),n},U1=e=>{var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),n="";e||(e=Math.floor(Math.random()*t.length));for(var i=0;i<e;i++)n+=t[Math.floor(Math.random()*t.length)];return n},$1=[],G1=[],W1=[];function q1(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,i])=>{(t===void 0||t.includes(n))&&(i.forEach(r=>r()),delete e._x_attributeCleanups[n])})}new MutationObserver(K1);function Ul(e){return e()}function K1(e){let t=[],n=[],i=new Map,r=new Map;for(let s=0;s<e.length;s++)if(!e[s].target._x_ignoreMutationObserver&&(e[s].type==="childList"&&(e[s].addedNodes.forEach(o=>o.nodeType===1&&t.push(o)),e[s].removedNodes.forEach(o=>o.nodeType===1&&n.push(o))),e[s].type==="attributes")){let o=e[s].target,a=e[s].attributeName,u=e[s].oldValue,l=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},c=()=>{r.has(o)||r.set(o,[]),r.get(o).push(a)};o.hasAttribute(a)&&u===null?l():o.hasAttribute(a)?(c(),l()):c()}r.forEach((s,o)=>{q1(o,s)}),i.forEach((s,o)=>{$1.forEach(a=>a(o,s))});for(let s of n)if(!t.includes(s)&&(G1.forEach(o=>o(s)),s._x_cleanups))for(;s._x_cleanups.length;)s._x_cleanups.pop()();t.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of t)n.includes(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,W1.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);t.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),t=null,n=null,i=null,r=null}function X1(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function J1(e){const t={dismissable:!0,trap:!1};function n(s,o,a=null){if(o){if(o.hasAttribute("aria-expanded")||o.setAttribute("aria-expanded",!1),a.hasAttribute("id"))o.setAttribute("aria-controls",a.getAttribute("id"));else{const u=`panel-${U1(8)}`;o.setAttribute("aria-controls",u),a.setAttribute("id",u)}a.setAttribute("aria-modal",!0),a.setAttribute("role","dialog")}}const i=document.querySelectorAll('[\\@click^="$float"]'),r=document.querySelectorAll('[x-on\\:click^="$float"]');[...i,...r].forEach(s=>{const o=s.parentElement.closest("[x-data]"),a=o.querySelector('[x-ref="panel"]');n(o,s,a)}),e.magic("float",s=>(o={},a={})=>{const u={...t,...a},l=Object.keys(o).length>0?H1(o):{middleware:[Fs()]},c=s,f=s.parentElement.closest("[x-data]"),d=f.querySelector('[x-ref="panel"]');function p(){return d.style.display=="block"}function m(){d.style.display="",c.setAttribute("aria-expanded",!1),u.trap&&d.setAttribute("x-trap",!1),Hl(s,d,_)}function h(){d.style.display="block",c.setAttribute("aria-expanded",!0),u.trap&&d.setAttribute("x-trap",!0),_()}function v(){p()?m():h()}async function _(){return await jl(s,d,l).then(({middlewareData:y,placement:g,x:E,y:b})=>{var T,A;if(y.arrow){const S=(T=y.arrow)==null?void 0:T.x,M=(A=y.arrow)==null?void 0:A.y,R=l.middleware.filter(I=>I.name=="arrow")[0].options.element,F={top:"bottom",right:"left",bottom:"top",left:"right"}[g.split("-")[0]];Object.assign(R.style,{left:S!=null?`${S}px`:"",top:M!=null?`${M}px`:"",right:"",bottom:"",[F]:"-4px"})}if(y.hide){const{referenceHidden:S}=y.hide;Object.assign(d.style,{visibility:S?"hidden":"visible"})}Object.assign(d.style,{left:`${E}px`,top:`${b}px`})})}u.dismissable&&(window.addEventListener("click",y=>{!f.contains(y.target)&&p()&&v()}),window.addEventListener("keydown",y=>{y.key==="Escape"&&p()&&v()},!0)),v()}),e.directive("float",(s,{modifiers:o,expression:a},{evaluate:u,effect:l})=>{const c=a?u(a):{},f=o.length>0?j1(o,c):{};let d=null;f.float.strategy=="fixed"&&(s.style.position="fixed");const p=M=>s.parentElement&&!s.parentElement.closest("[x-data]").contains(M.target)?s.close():null,m=M=>M.key==="Escape"?s.close():null,h=s.getAttribute("x-ref"),v=s.parentElement.closest("[x-data]"),_=v.querySelectorAll(`[\\@click^="$refs.${h}"]`),y=v.querySelectorAll(`[x-on\\:click^="$refs.${h}"]`);s.style.setProperty("display","none"),n(v,[..._,...y][0],s),s._x_isShown=!1,s.trigger=null,s._x_doHide||(s._x_doHide=()=>{Ul(()=>{s.style.setProperty("display","none",o.includes("important")?"important":void 0)})}),s._x_doShow||(s._x_doShow=()=>{Ul(()=>{s.style.setProperty("display","block",o.includes("important")?"important":void 0)})});let g=()=>{s._x_doHide(),s._x_isShown=!1},E=()=>{s._x_doShow(),s._x_isShown=!0},b=()=>setTimeout(E),T=X1(M=>M?E():g(),M=>{typeof s._x_toggleAndCascadeWithTransitions=="function"?s._x_toggleAndCascadeWithTransitions(s,M,E,g):M?b():g()}),A,S=!0;l(()=>u(M=>{!S&&M===A||(o.includes("immediate")&&(M?b():g()),T(M),A=M,S=!1)})),s.open=async function(M){s.trigger=M.currentTarget?M.currentTarget:M,T(!0),s.trigger.setAttribute("aria-expanded",!0),f.component.trap&&s.setAttribute("x-trap",!0),d=Hl(s.trigger,s,()=>{jl(s.trigger,s,f.float).then(({middlewareData:R,placement:F,x:I,y:w})=>{var x,C;if(R.arrow){const D=(x=R.arrow)==null?void 0:x.x,L=(C=R.arrow)==null?void 0:C.y,O=f.float.middleware.filter(P=>P.name=="arrow")[0].options.element,k={top:"bottom",right:"left",bottom:"top",left:"right"}[F.split("-")[0]];Object.assign(O.style,{left:D!=null?`${D}px`:"",top:L!=null?`${L}px`:"",right:"",bottom:"",[k]:"-4px"})}if(R.hide){const{referenceHidden:D}=R.hide;Object.assign(s.style,{visibility:D?"hidden":"visible"})}Object.assign(s.style,{left:`${I}px`,top:`${w}px`})})}),window.addEventListener("click",p),window.addEventListener("keydown",m,!0)},s.close=function(){T(!1),s.trigger.setAttribute("aria-expanded",!1),f.component.trap&&s.setAttribute("x-trap",!1),d(),window.removeEventListener("click",p),window.removeEventListener("keydown",m,!1)},s.toggle=function(M){s._x_isShown?s.close():s.open(M)}})}var Z1=J1;window.pluralize=function(e,t,n){function i(c,f){for(const d of c){const p=r(d,f);if(p!==null)return p}}function r(c,f){const d=c.match(/^[\{\[]([^\[\]\{\}]*)[\}\]](.*)/s);if(d===null||d.length!==3)return null;const p=d[1],m=d[2];if(p.includes(",")){const[h,v]=p.split(",",2);if(v==="*"&&f>=h)return m;if(h==="*"&&f<=v)return m;if(f>=h&&f<=v)return m}return p==f?m:null}function s(c){return c.toString().charAt(0).toUpperCase()+c.toString().slice(1)}function o(c,f){if(f.length===0)return c;const d={};for(let[p,m]of Object.entries(f))d[":"+s(p??"")]=s(m??""),d[":"+p.toUpperCase()]=m.toString().toUpperCase(),d[":"+p]=m;return Object.entries(d).forEach(([p,m])=>{c=c.replaceAll(p,m)}),c}function a(c){return c.map(f=>f.replace(/^[\{\[]([^\[\]\{\}]*)[\}\]]/,""))}let u=e.split("|");const l=i(u,t);return l!=null?o(l.trim(),n):(u=a(u),o(u.length>1&&t>1?u[1]:u[0],n))};var Q1=e=>{e.plugin(Vf),e.plugin(sp),e.plugin(oy),e.plugin(ay),e.plugin(wb),e.plugin(Db),e.plugin(Cb),e.plugin(Ib),e.plugin($b),e.plugin(Gb),e.plugin(_1),e.plugin(Z1)},eA=Object.create,ks=Object.defineProperty,tA=Object.getPrototypeOf,nA=Object.prototype.hasOwnProperty,iA=Object.getOwnPropertyNames,rA=Object.getOwnPropertyDescriptor,oA=e=>ks(e,"__esModule",{value:!0}),xr=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),aA=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of iA(t))!nA.call(e,i)&&i!=="default"&&ks(e,i,{get:()=>t[i],enumerable:!(n=rA(t,i))||n.enumerable});return e},sA=e=>aA(oA(ks(e!=null?eA(tA(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),ih=xr((e,t)=>{var n,i=typeof global<"u"&&(global.crypto||global.msCrypto);i&&i.getRandomValues&&(r=new Uint8Array(16),n=function(){return i.getRandomValues(r),r});var r;n||(s=new Array(16),n=function(){for(var o=0,a;o<16;o++)o&3||(a=Math.random()*4294967296),s[o]=a>>>((o&3)<<3)&255;return s});var s;t.exports=n}),rh=xr((e,t)=>{for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);function r(s,o){var a=o||0,u=n;return u[s[a++]]+u[s[a++]]+u[s[a++]]+u[s[a++]]+"-"+u[s[a++]]+u[s[a++]]+"-"+u[s[a++]]+u[s[a++]]+"-"+u[s[a++]]+u[s[a++]]+"-"+u[s[a++]]+u[s[a++]]+u[s[a++]]+u[s[a++]]+u[s[a++]]+u[s[a++]]}t.exports=r}),uA=xr((e,t)=>{var n=ih(),i=rh(),r=n(),s=[r[0]|1,r[1],r[2],r[3],r[4],r[5]],o=(r[6]<<8|r[7])&16383,a=0,u=0;function l(c,f,d){var p=f&&d||0,m=f||[];c=c||{};var h=c.clockseq!==void 0?c.clockseq:o,v=c.msecs!==void 0?c.msecs:new Date().getTime(),_=c.nsecs!==void 0?c.nsecs:u+1,y=v-a+(_-u)/1e4;if(y<0&&c.clockseq===void 0&&(h=h+1&16383),(y<0||v>a)&&c.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=v,u=_,o=h,v+=122192928e5;var g=((v&268435455)*1e4+_)%4294967296;m[p++]=g>>>24&255,m[p++]=g>>>16&255,m[p++]=g>>>8&255,m[p++]=g&255;var E=v/4294967296*1e4&268435455;m[p++]=E>>>8&255,m[p++]=E&255,m[p++]=E>>>24&15|16,m[p++]=E>>>16&255,m[p++]=h>>>8|128,m[p++]=h&255;for(var b=c.node||s,T=0;T<6;++T)m[p+T]=b[T];return f||i(m)}t.exports=l}),lA=xr((e,t)=>{var n=ih(),i=rh();function r(s,o,a){var u=o&&a||0;typeof s=="string"&&(o=s=="binary"?new Array(16):null,s=null),s=s||{};var l=s.random||(s.rng||n)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,o)for(var c=0;c<16;++c)o[u+c]=l[c];return o||i(l)}t.exports=r}),cA=xr((e,t)=>{var n=uA(),i=lA(),r=i;r.v1=n,r.v4=i,t.exports=r}),dA=[],hA=[],fA=[];function pA(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,i])=>{(t===void 0||t.includes(n))&&(i.forEach(r=>r()),delete e._x_attributeCleanups[n])})}new MutationObserver(mA);function $l(e){return e()}function mA(e){let t=[],n=[],i=new Map,r=new Map;for(let s=0;s<e.length;s++)if(!e[s].target._x_ignoreMutationObserver&&(e[s].type==="childList"&&(e[s].addedNodes.forEach(o=>o.nodeType===1&&t.push(o)),e[s].removedNodes.forEach(o=>o.nodeType===1&&n.push(o))),e[s].type==="attributes")){let o=e[s].target,a=e[s].attributeName,u=e[s].oldValue,l=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},c=()=>{r.has(o)||r.set(o,[]),r.get(o).push(a)};o.hasAttribute(a)&&u===null?l():o.hasAttribute(a)?(c(),l()):c()}r.forEach((s,o)=>{pA(o,s)}),i.forEach((s,o)=>{dA.forEach(a=>a(o,s))});for(let s of n)if(!t.includes(s)&&(hA.forEach(o=>o(s)),s._x_cleanups))for(;s._x_cleanups.length;)s._x_cleanups.pop()();t.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of t)n.includes(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,fA.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);t.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),t=null,n=null,i=null,r=null}function gA(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}var vA=e=>{e.data("notificationComponent",({notification:t})=>({isShown:!1,computedStyle:null,init:function(){this.computedStyle=window.getComputedStyle(this.$el),this.configureTransitions(),this.configureAnimations(),t.duration&&t.duration!=="persistent"&&setTimeout(()=>this.close(),t.duration),this.isShown=!0},configureTransitions:function(){const n=this.computedStyle.display,i=()=>{$l(()=>{this.$el.style.setProperty("display",n),this.$el.style.setProperty("visibility","visible")}),this.$el._x_isShown=!0},r=()=>{$l(()=>{this.$el._x_isShown?this.$el.style.setProperty("visibility","hidden"):this.$el.style.setProperty("display","none")})},s=gA(o=>o?i():r(),o=>{this.$el._x_toggleAndCascadeWithTransitions(this.$el,o,i,r)});e.effect(()=>s(this.isShown))},configureAnimations:function(){let n;Livewire.hook("message.received",(i,r)=>{if(!r.serverMemo.data.isFilamentNotificationsComponent)return;const s=()=>this.$el.getBoundingClientRect().top,o=s();n=()=>{this.$el.animate([{transform:`translateY(${o-s()}px)`},{transform:"translateY(0px)"}],{duration:this.getTransitionDuration(),easing:this.computedStyle.transitionTimingFunction})},this.$el.getAnimations().forEach(a=>a.finish())}),Livewire.hook("message.processed",(i,r)=>{r.serverMemo.data.isFilamentNotificationsComponent&&this.isShown&&n()})},close:function(){this.isShown=!1,setTimeout(()=>Livewire.emit("notificationClosed",t.id),this.getTransitionDuration())},getTransitionDuration:function(){return parseFloat(this.computedStyle.transitionDuration)*1e3}}))},EA=sA(cA()),_A=class{constructor(){return this.id((0,EA.v4)()),this}id(e){return this.id=e,this}title(e){return this.title=e,this}body(e){return this.body=e,this}actions(e){return this.actions=e,this}status(e){switch(e){case"success":this.success();break;case"warning":this.warning();break;case"danger":this.danger();break}return this}icon(e){return this.icon=e,this}iconColor(e){return this.iconColor=e,this}duration(e){return this.duration=e,this}seconds(e){return this.duration(e*1e3),this}persistent(){return this.duration("persistent"),this}success(){return this.icon("heroicon-o-check-circle"),this.iconColor("success"),this}warning(){return this.icon("heroicon-o-exclamation-circle"),this.iconColor("warning"),this}danger(){return this.icon("heroicon-o-x-circle"),this.iconColor("danger"),this}view(e){return this.view=e,this}viewData(e){return this.viewData=e,this}send(){return Livewire.emit("notificationSent",this),this}},yA=class{constructor(e){return this.name(e),this}name(e){return this.name=e,this}color(e){return this.color=e,this}emit(e,t){return this.event(e),this.eventData(t),this}emitSelf(e,t){return this.emit(e,t),this.emitDirection="self",this}emitTo(e,t,n){return this.emit(t,n),this.emitDirection="to",this.emitToComponent=e,this}emitUp(e,t){return this.emit(e,t),this.emitDirection="up",this}emitDirection(e){return this.emitDirection=e,this}emitToComponent(e){return this.emitToComponent=e,this}event(e){return this.event=e,this}eventData(e){return this.eventData=e,this}extraAttributes(e){return this.extraAttributes=e,this}icon(e){return this.icon=e,this}iconPosition(e){return this.iconPosition=e,this}outlined(e=!0){return this.isOutlined=e,this}disabled(e=!0){return this.isDisabled=e,this}label(e){return this.label=e,this}close(e=!0){return this.shouldCloseNotification=e,this}openUrlInNewTab(e=!0){return this.shouldOpenUrlInNewTab=e,this}size(e){return this.size=e,this}url(e){return this.url=e,this}view(e){return this.view=e,this}button(){return this.view("notifications::actions.button-action"),this}grouped(){return this.view("notifications::actions.grouped-action"),this}link(){return this.view("notifications::actions.link-action"),this}},bA=class{constructor(e){return this.actions(e),this}actions(e){return this.actions=e.map(t=>t.grouped()),this}color(e){return this.color=e,this}icon(e){return this.icon=e,this}iconPosition(e){return this.iconPosition=e,this}label(e){return this.label=e,this}tooltip(e){return this.tooltip=e,this}};window.NotificationAction=yA;window.NotificationActionGroup=bA;window.Notification=_A;var AA=e=>{e.plugin(vA)};Pi.plugin(lh);Pi.plugin(Q1);Pi.plugin(ch);Pi.plugin(AA);window.Alpine=Pi;Pi.start();
